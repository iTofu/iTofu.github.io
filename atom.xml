<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Leo&#39;s Blog</title>
  
  <subtitle>心有猛虎 | 细嗅蔷薇</subtitle>
  <link href="https://blog.leoxv.com/atom.xml" rel="self"/>
  
  <link href="https://blog.leoxv.com/"/>
  <updated>2025-08-06T08:18:51.026Z</updated>
  <id>https://blog.leoxv.com/</id>
  
  <author>
    <name>Leo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NSJSONSerialization 中各参数说明</title>
    <link href="https://blog.leoxv.com/2018/04/11/iOS-NSJSONSerialization-options/"/>
    <id>https://blog.leoxv.com/2018/04/11/iOS-NSJSONSerialization-options/</id>
    <published>2018-04-11T02:58:21.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdnqiniu.leoxv.com/common2/macbook03.png" alt="macbook"></p><p>小结一下 NSJSONReadingOptions 和 NSJSONWritingOptions。</p><span id="more"></span><blockquote><p>本文转自 <a href="http://javenl.github.io/ios/2015/06/29/NSJSONSerialization.html">NSJSONSerialization中各参数说明</a>，稍有修改。</p></blockquote><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><ul><li>jsonString to object  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *jsonString = <span class="string">@&quot;&#123;\&quot;test\&quot;:\&quot;abc\&quot;&#125;&quot;</span></span><br><span class="line"><span class="built_in">NSData</span>* data = [<span class="keyword">self</span> dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line"><span class="built_in">NSError</span>* error = <span class="literal">nil</span>;</span><br><span class="line"><span class="type">id</span> result = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:data options:<span class="built_in">NSJSONReadingMutableContainers</span> error:&amp;error];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;result %@&quot;</span>, result);</span><br></pre></td></tr></table></figure></li><li>object to jsonString  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDictionary</span> *dict = @&#123;<span class="string">@&quot;test&quot;</span>:<span class="string">@&quot;abc&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line"><span class="built_in">NSData</span> *data = [<span class="built_in">NSJSONSerialization</span> dataWithJSONObject:dict options:<span class="built_in">NSJSONWritingPrettyPrinted</span> error:&amp;error];</span><br><span class="line"><span class="built_in">NSString</span> *jsonString = [[<span class="built_in">NSString</span> alloc] initWithData:data encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;jsonString %@&quot;</span>, jsonString);</span><br></pre></td></tr></table></figure></li></ul><h2 id="NSJSONReadingOptions-说明"><a href="#NSJSONReadingOptions-说明" class="headerlink" title="NSJSONReadingOptions 说明"></a>NSJSONReadingOptions 说明</h2><h4 id="先看定义"><a href="#先看定义" class="headerlink" title="先看定义"></a>先看定义</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_OPTIONS</span>(<span class="built_in">NSUInteger</span>, <span class="built_in">NSJSONReadingOptions</span>) &#123;</span><br><span class="line">    <span class="built_in">NSJSONReadingMutableContainers</span> = (<span class="number">1</span>UL &lt;&lt; <span class="number">0</span>),</span><br><span class="line">    <span class="built_in">NSJSONReadingMutableLeaves</span> = (<span class="number">1</span>UL &lt;&lt; <span class="number">1</span>),</span><br><span class="line">    <span class="built_in">NSJSONReadingAllowFragments</span> = (<span class="number">1</span>UL &lt;&lt; <span class="number">2</span>)</span><br><span class="line">&#125; <span class="built_in">NS_ENUM_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br></pre></td></tr></table></figure><h4 id="再看官方文档的说明"><a href="#再看官方文档的说明" class="headerlink" title="再看官方文档的说明"></a>再看官方文档的说明</h4><blockquote><ul><li><strong>NSJSONReadingMutableContainers</strong><br>Specifies that arrays and dictionaries are created as mutable objects.</li><li><strong>NSJSONReadingMutableLeaves</strong><br>Specifies that leaf strings in the JSON object graph are created as instances of NSMutableString.</li><li><strong>NSJSONReadingAllowFragments</strong><br>Specifies that the parser should allow top-level objects that are not an instance of NSArray or NSDictionary.</li></ul></blockquote><h4 id="解释一下"><a href="#解释一下" class="headerlink" title="解释一下"></a>解释一下</h4><ul><li><strong>NSJSONReadingMutableContainers</strong><br>意思是返回的数组和字典都是 NSMutableArray 和 NSMutableDictionay 类型，固可以作后续修改。</li><li><strong>NSJSONReadingMutableLeaves</strong><br>意思是返回的的字符串是 NSMutableSting 类型，这里实践后是不行的，网上查了很多资料说是苹果的 bug，到目前 iOS8 中也没有修复。</li><li><strong>NSJSONReadingAllowFragments</strong><br>意思是需要格式化的 json 字符串最外层可以不是数组和字典，只要是正确的 json 格式就行。</li></ul><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>如果需要后续进行修改，则需要使用 NSJSONReadingMutableContainers，返回可变类型，其他的选项中的数字和字典都是不可变的。</p><p>如果需要兼容所有的 json 格式，则使用 NSJSONReadingAllowFragments，因为使用 NSJSONReadingMutableContainers 和 NSJSONReadingMutableLeaves 转换最外层不是字典或数组的字符串会报错，导致转换失败，即使是正确的 json 字符串（如”test”,123,false等）。</p><p>至于 NSJSONReadingMutableLeaves，在 bug 修复前没有使用的必要了，既不能返回可变类型，也不能兼容所有的 json 格式。</p><p>PS：是否正确的 json 字符串，苹果是这样定义的：</p><blockquote><p>The top level object is an NSArray or NSDictionary.<br>All objects are instances of NSString, NSNumber, NSArray, NSDictionary, or NSNull.<br>All dictionary keys are instances of NSString.<br>Numbers are not NaN or infinity.</p></blockquote><p>最外层必须是数组或者字典（可以看出 NSJSONReadingAllowFragments 是个例外）<br>所有的对象必须是 NSString、NSNumber、NSArray、NSDictionary、NSNull 的实例<br>所有字典的键值 key 必须是 NSString 类型<br>数字对象不能是非数值或无穷</p><h2 id="NSJSONWritingOptions-说明"><a href="#NSJSONWritingOptions-说明" class="headerlink" title="NSJSONWritingOptions 说明"></a>NSJSONWritingOptions 说明</h2><h4 id="先看定义-1"><a href="#先看定义-1" class="headerlink" title="先看定义"></a>先看定义</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_OPTIONS</span>(<span class="built_in">NSUInteger</span>, <span class="built_in">NSJSONWritingOptions</span>) &#123;</span><br><span class="line">    <span class="built_in">NSJSONWritingPrettyPrinted</span> = (<span class="number">1</span>UL &lt;&lt; <span class="number">0</span>)</span><br><span class="line">&#125; <span class="built_in">NS_ENUM_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br></pre></td></tr></table></figure><h4 id="再看官方文档的说明-1"><a href="#再看官方文档的说明-1" class="headerlink" title="再看官方文档的说明"></a>再看官方文档的说明</h4><blockquote><p><strong>NSJSONWritingPrettyPrinted</strong><br>Specifies that the JSON data should be generated with whitespace designed to make the output more readable. If this option is not set, the most compact possible JSON representation is generated.</p></blockquote><p>意思就是生成的 json 字符串是带换行和缩进的，更加易读。如果要生成单行不带缩进的就直接设 0。<br>（PS：这里有点小坑，直接多写个枚举 NSJSONWritingSingleLine 多好，简单易读，<code>If this option is not set</code> 这里说的选项不设置，害我猜了半天什么意思，还以为有另外一个方法是不需要穿参数的，结果没有…）</p><h2 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h2><ul><li>原作者：<a href="http://javenl.github.io/">Javen</a></li><li>转载：Leo</li><li>邮箱：<code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub：<a href="https://github.com/iTofu">https://github.com/iTofu</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/macbook03.png&quot; alt=&quot;macbook&quot;&gt;&lt;/p&gt;
&lt;p&gt;小结一下 NSJSONReadingOptions 和 NSJSONWritingOptions。&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="JSON" scheme="https://blog.leoxv.com/tags/JSON/"/>
    
  </entry>
  
  <entry>
    <title>Node.js 安装笔记</title>
    <link href="https://blog.leoxv.com/2018/03/30/nodejs-installation-notes/"/>
    <id>https://blog.leoxv.com/2018/03/30/nodejs-installation-notes/</id>
    <published>2018-03-30T06:38:11.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<img src="https://cdnqiniu.leoxv.com/common/nodejslogo.png" class="full-image" /><p>本文记录了第一次安装 Node.js 的详细过程，以及遇到的一些问题。</p><span id="more"></span><h2 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h2><ul><li>操作系统：CentOS 7.4 64位</li><li>CPU：1核</li><li>内存：2GB</li><li>服务商：腾讯云</li></ul><h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><ol><li><p>下载 Node.js 源码。打开 <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a> （稳定版）或 <a href="https://nodejs.org/en/download/current/">https://nodejs.org/en/download/current/</a> （最新版），拉到下方选择“All download options”，选择目标版本和适合当前平台的安装文件，这里我们选择安装最新版本 9.10.0：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/</span><br><span class="line">wget -c https://nodejs.org/dist/v9.10.0/node-v9.10.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解压 Node.js 源码：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf node-v9.10.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>编译安装：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd -v9.10.0</span><br><span class="line">./configure --prefix=/usr/local/node/9.10.0</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p> 执行 <code>./configure</code> 可能出现以下错误：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Node.js configure error: No acceptable C compiler found!</span><br></pre></td></tr></table></figure><p> 这里需要下载 gcc-c++：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc-c++</span><br></pre></td></tr></table></figure><p> 然后再执行 <code>./configure</code> ，就会收到以下警告…</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING: C++ compiler too old, need g++ 4.9.4 or clang++ 3.4.2 (CXX=g++)</span><br></pre></td></tr></table></figure><p> emmm… 好吧，yum 是不行了，那就手动安装吧，参考下方『手动安装 gcc』。</p></li><li><p>配置 NODE_HOME，进入 profile 编辑环境变量：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p> 设置 Node.js 环境变量，在 <code>export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL</code> 一行的上面添加如下内容：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># set for nodejs</span><br><span class="line">export NODE_HOME=/usr/local/node/9.10.0</span><br><span class="line">export PATH=$NODE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p> <code>:wq</code> 保存并退出，编译 &#x2F;etc&#x2F;profile 使配置生效：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></li><li><p>验证是否安装配置成功，输出版本号表示配置成功：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line"></span><br><span class="line"># output</span><br><span class="line">v9.10.0</span><br></pre></td></tr></table></figure><p> 🍻至此 Node.js 安装完成~</p></li><li><p>npm 模块安装路径：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/node/9.10.0/lib/node_modules</span><br></pre></td></tr></table></figure></li></ol><h2 id="手动安装-gcc"><a href="#手动安装-gcc" class="headerlink" title="手动安装 gcc"></a>手动安装 gcc</h2><ol><li><p>获取安装文件。打开 <a href="https://ftp.gnu.org/gnu/gcc/">https://ftp.gnu.org/gnu/gcc/</a> 选择一个版本，这里我们选择最新版本 7.3.0：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget -c https://ftp.gnu.org/gnu/gcc/gcc-7.3.0/gcc-7.3.0.tar.gz</span><br><span class="line">tar -zxvf gcc-7.3.0.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>下载依赖项：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd gcc-7.3.0</span><br><span class="line">./contrib/download_prerequisites</span><br></pre></td></tr></table></figure><p> 这里可能会卡一下，稍等片刻。</p></li><li><p>生成编译文件：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir gcc-build-7.3.0</span><br><span class="line">cd gcc-build-7.3.0</span><br><span class="line">../configure --enable-checking=release --enable-languages=c,c++ --disable-multilib</span><br></pre></td></tr></table></figure></li><li><p>执行编译，生成 Makefile 文件。</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p> 这个过程炒鸡久，我这花了大概一个小时，你可以去放松下吃两把鸡再回来 orz…</p></li><li><p>终于可以安装了…</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li><li><p>重启服务器后，验证版本：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -v</span><br></pre></td></tr></table></figure><p> 我这里是：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">使用内建 specs。</span><br><span class="line">COLLECT_GCC=gcc</span><br><span class="line">COLLECT_LTO_WRAPPER=/usr/local/libexec/gcc/x86_64-pc-linux-gnu/7.3.0/lto-wrapper</span><br><span class="line">目标：x86_64-pc-linux-gnu</span><br><span class="line">配置为：../configure --enable-checking=release --enable-languages=c,c++ --disable-multilib</span><br><span class="line">线程模型：posix</span><br><span class="line">gcc 版本 7.3.0 (GCC)</span><br></pre></td></tr></table></figure><p> 完了吗？</p><p> emmm… 不会有无缘无故的问句的对吧… 实际上，升级 gcc 生成的动态库并没有替换老版本的动态库，我们去手动替换一下。</p></li><li><p>查找编译 gcc 时生成的最新动态库：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name &quot;libstdc++.so*&quot;</span><br></pre></td></tr></table></figure></li><li><p>将找到的动态库 libstdc++.so.6.0.24 复制到 &#x2F;usr&#x2F;lib64 ：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/local/src/gcc-7.3.0/gcc-build-7.3.0/stage1-x86_64-pc-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.24 /usr/lib64</span><br></pre></td></tr></table></figure></li><li><p>切换工作目录至 &#x2F;usr&#x2F;lib64，删除原来的软链接， 将默认库的软链接指向最新动态库：</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/lib64</span><br><span class="line">rm -rf libstdc++.so.6</span><br><span class="line">ln -s libstdc++.so.6.0.24 libstdc++.so.6</span><br></pre></td></tr></table></figure><p> 🐔好了，收工…</p></li></ol><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.runoob.com/nodejs/nodejs-install-setup.html">Node.js 安装配置</a></li><li><a href="https://www.cnblogs.com/lpbottle/p/install_gcc.html">如何在 Centos7 中安装 gcc</a></li><li><a href="https://www.hjqjk.com/2017/CentOS-6-5-install-NodeJS.html">CentOS 6.5 安装 NodeJS</a></li></ul><h2 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h2><ul><li>作者：Leo</li><li>邮箱：<code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub：<a href="https://github.com/iTofu">https://github.com/iTofu</a></li><li>版权声明： <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a> ，转载需注明出处。</li></ul>]]></content>
    
    
    <summary type="html">&lt;img src=&quot;https://cdnqiniu.leoxv.com/common/nodejslogo.png&quot; class=&quot;full-image&quot; /&gt;

&lt;p&gt;本文记录了第一次安装 Node.js 的详细过程，以及遇到的一些问题。&lt;/p&gt;</summary>
    
    
    
    <category term="node.js" scheme="https://blog.leoxv.com/categories/node-js/"/>
    
    
    <category term="node.js" scheme="https://blog.leoxv.com/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 3.1.1 静态博客搭建指南</title>
    <link href="https://blog.leoxv.com/2016/09/01/Hexo-3-1-1-Staic-Blog-Build-Guide/"/>
    <id>https://blog.leoxv.com/2016/09/01/Hexo-3-1-1-Staic-Blog-Build-Guide/</id>
    <published>2016-09-01T06:34:44.000Z</published>
    <updated>2025-08-06T09:56:54.436Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png" alt="Hexo"></p><p><a href="https://hexo.io/">Hexo</a> 是一个基于 <a href="https://nodejs.org/en/">Node.js</a> 的静态博客程序，可以方便的生成静态网页托管在 <a href="https://github.com/">GitHub</a> 和 <a href="https://www.heroku.com/">Heroku</a> 上。作者是来自台湾的 <a href="https://github.com/hexojs/hexo">tommy351</a>。</p><p><a href="https://pages.github.com/">GitHub Pages</a> 本来用于托管在 GitHub 上的项目作介绍，后来被不少开发者用来搭建博客，官方也表示欢迎该行为，并提供了 300M 的免费空间。</p><p>优势：</p><blockquote><ul><li>生成静态页面快</li><li>支持 Markdown</li><li>兼容 Windows, mac OS 和 Linux</li><li>部署方便，日常使用仅需五个命令</li><li>高扩展性、自订性，文件少、小，易理解</li></ul></blockquote><p><strong>⚠️ 注意：本文适用于 hexo 3.x 版本，与 2.x 略有出入！</strong></p><span id="more"></span><hr><h1 id="配置-SSH"><a href="#配置-SSH" class="headerlink" title="配置 SSH"></a>配置 SSH</h1><p>使用 Hexo 博客必须配置 SSH。</p><p>打开 Terminal（终端，Windows 用户请安装 <a href="https://desktop.github.com/">GitHub Desktop</a> 后打开 Git bash，效果等同） ，输入 <code>cd ~/.ssh</code>，如果果提示：<code>No such file or directory</code> 说明未配置 SSH。</p><ul><li><p><strong>本地生成密钥对</strong><br><code>ssh-keygen -t rsa -C &quot;你的邮件地址&quot;</code>，注意命令中的大小写不要搞混。按提示指定保存文件夹，不设置密码。</p></li><li><p><strong>添加公钥到 GitHub</strong></p><ol><li>根据上一步的提示，找到公钥文件（默认为 id_rsa.pub），用记事本打开，全选并复制。</li><li>登录 GitHub，右上角 头像 -&gt; <code>Settings</code> —&gt; <code>SSH keys and GPG keys</code> —&gt; <code>New SSK key</code>。把公钥粘贴到 Key 中，任意填好 Title 并点击 Add SSH key。</li><li>Terminal 中输入命令 <code>ssh -T git@github.com</code>，选 yes，等待片刻可看到成功提示。</li></ol></li><li><p><strong>修改本地的 ssh remote url，不用 HTTPS 协议，改用 Git 协议</strong></p><ol><li>GitHub 仓库中获取 ssh 协议相应的 url</li><li>本地仓库执行命令 <code>git remote set-url origin SSH</code> 对应的 <code>url</code>，配置完后可用 <code>git remote -v</code> 查看结果</li></ol></li></ul><p>这样 <code>git push</code> 或 <code>hexo d</code> 时不再需要输入账号密码。</p><hr><h1 id="搭建博客"><a href="#搭建博客" class="headerlink" title="搭建博客"></a>搭建博客</h1><p><strong>注：</strong> 以下命令行需要在 Terminal 终端中执行（Windows 使用 <code>Git bash</code>）。</p><ul><li><p>安装 <a href="https://git-scm.com/">Git</a>：下载安装后，注册 GitHub 账号并配置 Git 和 SSH 公私钥</p></li><li><p>安装 <a href="https://nodejs.org/en/">Node.js</a></p></li><li><p>安装 Hexo：<code>npm install -g hexo</code>，可用 <code>hexo -v</code> 查看版本。这里我用的是 <strong>3.1.1</strong>。</p></li><li><p>创建 Hexo 文件夹：新建放置博客的文件夹，进入并执行命令 <code>hexo init</code>。hexo 会在目标文件夹建立网站所需要的所有文件。</p></li><li><p>安装依赖包：<code>npm install</code></p></li><li><p>创建 GitHub Repository：Repository 名字必须是 <code>你的 GitHub 名.GitHub.io</code>，比如我是 <code>iTofu.github.io</code></p></li><li><p>部署：打开博客根目录下的 <code>_config.yml</code> 文件，末尾添加如下信息：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line">  <span class="symbol">type:</span> git</span><br><span class="line">  <span class="symbol">repository:</span> <span class="comment"># 你的 GitHub 仓库地址，别忘了加上 .git</span></span><br><span class="line">  <span class="symbol">branch:</span> master</span><br></pre></td></tr></table></figure><p>然后执行命令：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate <span class="comment"># 生成静态页面，可以简化为 hexo g</span></span><br><span class="line">hexo deploy   <span class="comment"># 部署到 GitHub，可以简化为 hexo d</span></span><br></pre></td></tr></table></figure></li></ul><p>浏览器访问 <code>iTofu.github.io</code> 就能看到自己的 Blog 了，一般延迟半分钟左右才能看到效果。一开始看到 404 页面不要惊慌，耐心等等。</p><p>手打党请注意，配置文件的冒号后必须有一个空格。</p><p>如果报错：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Deployer</span> <span class="keyword">not</span> <span class="symbol">found:</span>git</span><br></pre></td></tr></table></figure><p>运行命令：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><hr><h1 id="Hexo-使用"><a href="#Hexo-使用" class="headerlink" title="Hexo 使用"></a>Hexo 使用</h1><h2 id="生成静态页面"><a href="#生成静态页面" class="headerlink" title="生成静态页面"></a>生成静态页面</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate <span class="comment"># 简化：hexo g</span></span><br></pre></td></tr></table></figure><h2 id="本地启动"><a href="#本地启动" class="headerlink" title="本地启动"></a>本地启动</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server <span class="comment"># 简化：hexo s</span></span><br></pre></td></tr></table></figure><p>浏览器输入 <code>localhost:4000</code> 就可以看到效果。当你修改了文章或配置文件时，保存文件再刷新浏览器就能看到修改后的效果，非常方便。</p><h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post <span class="string">&quot;title&quot;</span>  <span class="comment"># 新文章路径：\source\_posts\title.md，简化：hexo n &#x27;title&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;title&quot;</span></span><br></pre></td></tr></table></figure><p>post、page 等可以改成其他 layout，可用 layout 在 scaffolds 目录下查看。在同目录下创建文件来添加自己的 layout，也可以编辑现有的 layout，比如 post 的 layout 默认是 <code>\scaffolds\post.md</code>。</p><h2 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h2><p>打开新建的文章 <code>\source\_posts\title.md</code>：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">title:</span> <span class="title class_">HelloWorld</span>!        <span class="comment"># 文章页面上的显示名称，可以任意修改，不影响文章的 URL</span></span><br><span class="line"><span class="symbol">date:</span> <span class="number">2015</span>-<span class="number">11</span>-09 <span class="number">15</span><span class="symbol">:</span><span class="number">56</span><span class="symbol">:</span><span class="number">26</span> <span class="comment"># 文章生成时间，一般不改</span></span><br><span class="line"><span class="symbol">categories:</span>               <span class="comment"># 文章分类目录，可省略</span></span><br><span class="line">    - 随笔</span><br><span class="line">    - 瞬间</span><br><span class="line"><span class="symbol">tags:</span>                     <span class="comment"># 文章标签，可省略</span></span><br><span class="line">    - hexo</span><br><span class="line">    - blog                <span class="comment"># 个数不限，单个可直接跟在 tags 后面</span></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里开始使用markdown格式输入你的正文</span></span><br></pre></td></tr></table></figure><p>多级分类语法格式：（标签也可以用类似的写法）</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种</span></span><br><span class="line"><span class="symbol">categories:</span></span><br><span class="line">  - 一级分类</span><br><span class="line">  - 二级分类</span><br><span class="line">  - etc...</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二种</span></span><br><span class="line"><span class="symbol">categories:</span> [一级分类, 二级分类]</span><br></pre></td></tr></table></figure><p>首页文章预览添加图片：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">photos:</span></span><br><span class="line">  - <span class="symbol">https:</span>/<span class="regexp">/xxx.com/photo</span>1.jpg</span><br><span class="line">  - <span class="symbol">https:</span>/<span class="regexp">/xxx.com/photo</span>2.jpg</span><br></pre></td></tr></table></figure><p>正文中可以使用 <code>&lt;!--more--&gt;</code> 设置文章摘要 如下:</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以上显示在摘要中</span></span><br><span class="line"></span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下是余下全文，点开标题进入文章页才可见</span></span><br></pre></td></tr></table></figure><p>more 以上内容即是文章摘要，如果设置了主页只显示摘要，则 more 以下内容点击 <code>Read More</code> 链接打开全文才显示。</p><h2 id="简单命令"><a href="#简单命令" class="headerlink" title="简单命令"></a>简单命令</h2><p>hexo 现在支持更加简单的命令格式了，比如：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo g == hexo generate <span class="comment"># 生成</span></span><br><span class="line">hexo d == hexo deploy   <span class="comment"># 部署 可与 hexo g 合并为 hexo d -g</span></span><br><span class="line">hexo s == hexo server   <span class="comment"># 本地预览</span></span><br><span class="line">hexo n == hexo new      <span class="comment"># 写文章</span></span><br></pre></td></tr></table></figure><h2 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h2><p>博客中的图片文件可以直接放在 source 文件夹下，部署时上传到 GitHub 仓库中。但是 GitHub 项目容量有限，而且主机在国外，访问速度较慢，把图片放在国内的图床上是个更好的选择。我用的是 <a href="https://portal.qiniu.com/">七牛云存储</a></p><p>免费用户实名审核之后，可以获取 10GB 永久免费存储空间、每月 10GB 下载流量、每月 10 万次 Put 请求、每月 100 万次 Get 请求，做图床绰绰有余。</p><p>注册账号，新建空间，我的新空间名是 <code>blog</code>，专门用来放置博客上引用的资源。</p><p>进入空间后点击「内容管理」，再点击「上传」：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/Hexo%203.1.1%20%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/%E4%B8%83%E7%89%9B%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E6%A1%86.png"></p><p>七牛空间没有文件夹的概念，但是允许为文件添加带斜杠<code>/</code>的前缀，用来给资源分类。这里原作者设置前缀为<code>img/Hexo 3.1.1 静态博客搭建指南/</code>。上传了一张图片：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/Hexo%203.1.1%20%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/%E4%B8%83%E7%89%9B%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%90%8E.png"></p><p>在右侧可以找到外链，复制地址：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/Hexo%203.1.1%20%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/%E4%B8%83%E7%89%9B%E5%9B%BE%E7%89%87%E5%A4%96%E9%93%BE.png"></p><p>Markdown 插入图片的语法为：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">图片描述，可选</span>](<span class="link">图片链接，必填</span>)</span><br></pre></td></tr></table></figure><p>上传图片 -&gt; 获取外链 -&gt; 写入 Markdown，就这么简单！</p><p>由于七牛防盗链的白名单无法添加 <code>localhost</code>，暂时不设置防盗链，否则 <code>hexo s</code> 调试的时候，看不到图片。</p><p>以上操作每插入一张图片就要做一次，相当繁琐，于是写了个脚本简化，详见这篇文章<a href="http://lovenight.github.io/2015/11/17/%E6%8B%96%E6%9B%B3%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%88%B0%E4%B8%83%E7%89%9B%E7%9A%84%E8%84%9A%E6%9C%AC/">《拖曳文件上传到七牛的Python脚本》</a></p><hr><h1 id="配置博客"><a href="#配置博客" class="headerlink" title="配置博客"></a>配置博客</h1><h2 id="全站配置"><a href="#全站配置" class="headerlink" title="全站配置"></a>全站配置</h2><p><strong>注意：</strong> 文件中配置项的冒号后面必须加空格，否则报错</p><p>下面有些选项要配置后文的插件才有效，文件中已注明。</p><ul><li><strong>整站的配置</strong>：博客根目录下的 <code>\_config.yml</code> 文件。这是我的配置文件：</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="symbol">title:</span> <span class="string">&quot;Leo&#x27;s Blog&quot;</span> <span class="comment"># 标题</span></span><br><span class="line"><span class="symbol">subtitle:</span> <span class="string">&quot;心有猛虎 | 细嗅蔷薇&quot;</span> <span class="comment"># 副标题</span></span><br><span class="line"><span class="symbol">description:</span> <span class="string">&quot;Stay Hungry.&lt;br&gt;Stay Foolish.&quot;</span> <span class="comment"># 简介</span></span><br><span class="line"><span class="symbol">author:</span> <span class="title class_">Leo</span> <span class="comment"># 博主 站长</span></span><br><span class="line"><span class="symbol">language:</span> zh-<span class="title class_">Hans</span> <span class="comment"># 默认语言</span></span><br><span class="line"><span class="symbol">timezone:</span> <span class="comment"># 时区</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Leo Custom</span></span><br><span class="line"><span class="symbol">avatar:</span> <span class="symbol">https:</span>/<span class="regexp">/cdnqiniu.leoxv.com/avatar</span><span class="regexp">/avatar.png # 头像 NexT 主题增加选项</span></span><br><span class="line"><span class="regexp">duoshuo_shortname: leodev # 多说 NexT 主题增加选项</span></span><br><span class="line"><span class="regexp">baidu_analytics: a28408894a1d0eab2dedfc11c944989d # 百度统计 NexT 主题增加选项</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># ---------------下面选项需要对应插件的支持---------------</span></span><br><span class="line"><span class="regexp"># npm install hexo-generator-index --save</span></span><br><span class="line"><span class="regexp"># npm install hexo-generator-archive --save</span></span><br><span class="line"><span class="regexp"># npm install hexo-generator-tag --save</span></span><br><span class="line"><span class="regexp"># npm install hexo-generator-category --save</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># 一页显示几篇</span></span><br><span class="line"><span class="regexp">index_generator:</span></span><br><span class="line"><span class="regexp">  per_page: 5 # 首页默认 10 篇文章标题 如果值为 0 不分页</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">archive_generator:</span></span><br><span class="line"><span class="regexp">  per_page: 20 # 归档页面默认 20 篇文章标题</span></span><br><span class="line"><span class="regexp">  yearly: true # 生成年视图</span></span><br><span class="line"><span class="regexp">  monthly: true # 生成月视图</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">tag_generator:</span></span><br><span class="line"><span class="regexp">  per_page: 10 # 标签分类页面默认 10 篇文章</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">category_generator:</span></span><br><span class="line"><span class="regexp">  per_page: 10 # 分类页面默认 10 篇文章</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Google Webmaster tools 谷歌统计</span></span><br><span class="line"><span class="regexp"># visit https:/</span><span class="regexp">/www.google.com/webmasters</span><span class="regexp">/tools/dashboard</span>?hl=zh-<span class="variable constant_">CN</span>&amp;authuser=<span class="number">0</span>&amp;siteUrl=<span class="symbol">http:</span>/<span class="regexp">/leoxv.com/</span></span><br><span class="line"><span class="symbol">google_site_verification:</span> 1rAjSg_LYunVt576r01InAPcRzfUpJ1sf6iiNhZPVwg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sitemap 站点地图</span></span><br><span class="line"><span class="symbol">sitemap:</span> <span class="comment"># 需安装插件：npm install hexo-generator-sitemap --save</span></span><br><span class="line">  <span class="symbol">path:</span> sitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="symbol">baidusitemap:</span> <span class="comment"># 需安装插件：npm install hexo-generator-baidu-sitemap --save</span></span><br><span class="line">  <span class="symbol">path:</span> baidusitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="comment">#plugins:</span></span><br><span class="line"> <span class="comment">#- hexo-generator-sitemap</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># title, chinese available</span></span><br><span class="line"><span class="symbol">links_title:</span> <span class="title class_">Links</span></span><br><span class="line"><span class="comment"># links 友情链接</span></span><br><span class="line"><span class="symbol">links:</span></span><br><span class="line">  <span class="comment">#GitHub: https://github.com/iTofu</span></span><br><span class="line">  隔壁老王: <span class="symbol">http:</span>/<span class="regexp">/eizoios.com</span></span><br><span class="line"><span class="regexp">  破车推荐: http:/</span><span class="regexp">/poche.fm</span></span><br><span class="line"><span class="regexp">  TT: http:/</span><span class="regexp">/tsusolo.com</span></span><br><span class="line"><span class="regexp">  大强: http:/</span><span class="regexp">/www.ldaqiangl.com</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Feed 订阅</span></span><br><span class="line"><span class="regexp">feed: # 需安装插件：npm install hexo-generator-feed --save</span></span><br><span class="line"><span class="regexp">  type: atom</span></span><br><span class="line"><span class="regexp">  path: atom.xml</span></span><br><span class="line"><span class="regexp">  limit: 20</span></span><br><span class="line"><span class="regexp">  hub:</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># URL</span></span><br><span class="line"><span class="regexp">## If your site is put in a subdirectory, set url as &#x27;http:/</span><span class="regexp">/yoursite.com/child</span><span class="string">&#x27; and root as &#x27;</span>/child/<span class="string">&#x27;</span></span><br><span class="line"><span class="string">url: http://blog.leoxv.com # 站点外链 必填</span></span><br><span class="line"><span class="string">root: /</span></span><br><span class="line"><span class="string">permalink: :year/:month/:day/:title/</span></span><br><span class="line"><span class="string">permalink_defaults:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Directory</span></span><br><span class="line"><span class="string">source_dir: source</span></span><br><span class="line"><span class="string">public_dir: public</span></span><br><span class="line"><span class="string">tag_dir: tags</span></span><br><span class="line"><span class="string">archive_dir: archives</span></span><br><span class="line"><span class="string">category_dir: categories</span></span><br><span class="line"><span class="string">code_dir: downloads/code</span></span><br><span class="line"><span class="string">i18n_dir: :lang # 国际化文件夹</span></span><br><span class="line"><span class="string">skip_render: # 跳过指定文件的渲染</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Writing</span></span><br><span class="line"><span class="string">new_post_name: :title.md # File name of new posts</span></span><br><span class="line"><span class="string">default_layout: post</span></span><br><span class="line"><span class="string">titlecase: false # Transform title into titlecase</span></span><br><span class="line"><span class="string">external_link: true # Open external links in new tab</span></span><br><span class="line"><span class="string">filename_case: 0 # 1 为小写， 2 为大写</span></span><br><span class="line"><span class="string">render_drafts: false # 显示草稿</span></span><br><span class="line"><span class="string">post_asset_folder: false # 启动 asset 文件夹</span></span><br><span class="line"><span class="string">relative_link: false # 链接改为与根目录的相对地址</span></span><br><span class="line"><span class="string">future: true # 显示未来的文章</span></span><br><span class="line"><span class="string">highlight:</span></span><br><span class="line"><span class="string">  enable: true</span></span><br><span class="line"><span class="string">  line_number: true</span></span><br><span class="line"><span class="string">  auto_detect: false</span></span><br><span class="line"><span class="string">  tab_replace:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Category &amp; Tag</span></span><br><span class="line"><span class="string">default_category: uncategorized</span></span><br><span class="line"><span class="string">category_map:</span></span><br><span class="line"><span class="string">tag_map:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Date / Time format</span></span><br><span class="line"><span class="string">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="string">## You can customize the date format as defined in</span></span><br><span class="line"><span class="string">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="string">date_format: YYYY-MM-DD</span></span><br><span class="line"><span class="string">time_format: HH:mm:ss</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Pagination</span></span><br><span class="line"><span class="string">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="string">per_page: 5</span></span><br><span class="line"><span class="string">pagination_dir: page</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Extensions</span></span><br><span class="line"><span class="string">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="string">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="string">theme: next # 主题</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Deployment</span></span><br><span class="line"><span class="string">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="string">deploy: # 发布选项</span></span><br><span class="line"><span class="string">  type: git</span></span><br><span class="line"><span class="string">  repo: https://github.com/iTofu/iTofu.github.io.git</span></span><br><span class="line"><span class="string">  branch: master</span></span><br></pre></td></tr></table></figure><h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>默认主题太丑，我们来换成 <a href="https://github.com/iissnan/hexo-theme-next">NexT</a> 主题。</p><ul><li>安装：在博客根目录下执行 <code>git clone https://GitHub.com/iissnan/hexo-theme-next.git themes/next</code></li><li>启用：修改博客根目录下的 <code>_config.yml</code> 配置文件中的 <code>theme</code> 属性，将其设置为 <code>next</code></li><li>更新：在 <code>themes/next</code> 目录下执行 <code>git pull</code> （暂时不需要）</li><li><code>\themes\next\_config.yml</code> 修改主题配置</li></ul><p>我的 <code>_config.yml</code> 文件（值为 <code>***</code> 的内容需要填你自己的）：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Site Information Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Put your favicon.ico into `hexo-site/source/` directory.</span></span><br><span class="line"><span class="symbol">favicon:</span> /favicon.ico</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set default keywords (Use a comma to separate)</span></span><br><span class="line"><span class="symbol">keywords:</span> <span class="string">&quot;LEO, LeoiOS, iTofu, iOS&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set rss to false to disable feed link.</span></span><br><span class="line"><span class="comment"># Leave rss as empty to use site&#x27;s feed link.</span></span><br><span class="line"><span class="comment"># Set rss to specific value if you have burned your feed already.</span></span><br><span class="line"><span class="symbol">rss:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the date when the site was setup</span></span><br><span class="line"><span class="symbol">since:</span> <span class="number">2015</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Canonical, set a canonical link tag in your hexo, you could use it for your SEO of blog.</span></span><br><span class="line"><span class="comment"># See: https://support.google.com/webmasters/answer/139066</span></span><br><span class="line"><span class="comment"># Tips: Before you open this tag, remeber set up your URL in hexo _config.yml ( ex. url: http://yourdomain.com )</span></span><br><span class="line"><span class="symbol">canonical:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Donate 文章末尾显示打赏按钮</span></span><br><span class="line"><span class="symbol">reward_comment:</span> 🍭 来根棒棒糖！</span><br><span class="line"><span class="symbol">wechatpay:</span> /blogImg/common/reward_wechatpay.png</span><br><span class="line"><span class="symbol">alipay:</span> /blogImg/common/reward_alipay.png</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Menu Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash (/archives -&gt; archives)</span></span><br><span class="line"><span class="symbol">menu:</span></span><br><span class="line">  <span class="symbol">home:</span> /</span><br><span class="line">  <span class="comment">#categories: /categories</span></span><br><span class="line">  <span class="symbol">lol:</span> <span class="symbol">https:</span>/<span class="regexp">/leoxv.com/lol</span></span><br><span class="line">  <span class="symbol">archives:</span> /archives</span><br><span class="line">  <span class="symbol">tags:</span> /tags</span><br><span class="line">  <span class="symbol">about:</span> /about</span><br><span class="line">  <span class="comment">#commonweal: /404.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable/Disable menu icons.</span></span><br><span class="line"><span class="comment"># Icon Mapping:</span></span><br><span class="line"><span class="comment">#   Map a menu item to a specific FontAwesome icon name.</span></span><br><span class="line"><span class="comment">#   Key is the name of menu item and value is the name of FontAwsome icon. Key is case-senstive.</span></span><br><span class="line"><span class="comment">#   When an question mask icon presenting up means that the item has no mapping icon.</span></span><br><span class="line"><span class="symbol">menu_icons:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#KeyMapsToMenuItemKey: NameOfTheIconFromFontAwesome</span></span><br><span class="line">  <span class="symbol">home:</span> home</span><br><span class="line">  <span class="symbol">about:</span> user</span><br><span class="line">  <span class="symbol">categories:</span> th</span><br><span class="line">  <span class="symbol">tags:</span> tags</span><br><span class="line">  <span class="symbol">archives:</span> archive</span><br><span class="line">  <span class="symbol">commonweal:</span> heartbeat</span><br><span class="line">  <span class="symbol">lol:</span> anchor</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="symbol">scheme:</span> <span class="title class_">Pisces</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Font Settings</span></span><br><span class="line"><span class="comment"># - Find fonts on Google Fonts (https://www.google.com/fonts)</span></span><br><span class="line"><span class="comment"># - All fonts set here will have the following styles:</span></span><br><span class="line"><span class="comment">#     light, light italic, normal, normal intalic, bold, bold italic</span></span><br><span class="line"><span class="comment"># - Be aware that setting too much fonts will cause site running slowly</span></span><br><span class="line"><span class="comment"># - Introduce in 5.0.1</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="symbol">font:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Uri of fonts host. E.g. //fonts.googleapis.com (Default)</span></span><br><span class="line">  <span class="symbol">host:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Global font settings used on &lt;body&gt; element.</span></span><br><span class="line">  <span class="symbol">global:</span></span><br><span class="line">    <span class="comment"># external: true will load this font family from host.</span></span><br><span class="line">    <span class="symbol">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="symbol">family:</span> <span class="title class_">Monda</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Headlines (h1, h2, h3, h4, h5, h6)</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="symbol">headings:</span></span><br><span class="line">    <span class="symbol">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="symbol">family:</span> <span class="title class_">Roboto</span> <span class="title class_">Slab</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for posts</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="symbol">posts:</span></span><br><span class="line">    <span class="symbol">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="symbol">family:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Logo</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  <span class="comment"># The `size` option use `px` as unit</span></span><br><span class="line">  <span class="symbol">logo:</span></span><br><span class="line">    <span class="symbol">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="symbol">family:</span> <span class="title class_">Lobster</span> <span class="title class_">Two</span></span><br><span class="line">    <span class="symbol">size:</span> <span class="number">24</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class="line">  <span class="symbol">codes:</span></span><br><span class="line">    <span class="symbol">external:</span> <span class="literal">true</span></span><br><span class="line">    <span class="symbol">family:</span> <span class="variable constant_">PT</span> <span class="title class_">Mono</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Sidebar Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Social Links</span></span><br><span class="line"><span class="comment"># Key is the link label showing to end users.</span></span><br><span class="line"><span class="comment"># Value is the target link (E.g. GitHub: https://github.com/iissnan)</span></span><br><span class="line"><span class="comment">#social:</span></span><br><span class="line">  <span class="comment">#LinkLabel: Link</span></span><br><span class="line"><span class="symbol">social:</span></span><br><span class="line">  <span class="title class_">Cover</span>: <span class="symbol">https:</span>/<span class="regexp">/leoxv.com</span></span><br><span class="line"><span class="regexp">  GitHub: https:/</span><span class="regexp">/github.com/i</span>Tofu</span><br><span class="line">  <span class="title class_">GitLeo</span>: <span class="symbol">http:</span>/<span class="regexp">/api.leoxv.com:3000</span></span><br><span class="line"><span class="regexp">  Weibo: http:/</span><span class="regexp">/weibo.com/coderleo</span></span><br><span class="line">  <span class="title class_">Twitter</span>: <span class="symbol">https:</span>/<span class="regexp">/twitter.com/leodaxia</span></span><br><span class="line">  <span class="variable constant_">CV</span>: <span class="symbol">https:</span>/<span class="regexp">/cdnqiniu.leoxv.com/common</span><span class="regexp">/resume.pdf</span></span><br><span class="line"><span class="regexp">  Honor: /honor</span></span><br><span class="line">  <span class="title class_">Wish</span>: <span class="regexp">/WishList</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Social Links Icons</span></span><br><span class="line"><span class="regexp"># Icon Mapping:</span></span><br><span class="line"><span class="regexp">#   Map a menu item to a specific FontAwesome icon name.</span></span><br><span class="line"><span class="regexp">#   Key is the name of the item and value is the name of FontAwsome icon. Key is case-senstive.</span></span><br><span class="line"><span class="regexp">#   When an globe mask icon presenting up means that the item has no mapping icon.</span></span><br><span class="line"><span class="regexp">social_icons:</span></span><br><span class="line"><span class="regexp">  enable: true</span></span><br><span class="line"><span class="regexp">  # Icon Mappings.</span></span><br><span class="line"><span class="regexp">  # KeyMapsToSocalItemKey: NameOfTheIconFromFontAwesome</span></span><br><span class="line"><span class="regexp">  GitHub: github</span></span><br><span class="line"><span class="regexp">  Twitter: twitter</span></span><br><span class="line"><span class="regexp">  Weibo: weibo</span></span><br><span class="line"><span class="regexp">  CV: heartbeat</span></span><br><span class="line"><span class="regexp">  Cover: cube</span></span><br><span class="line"><span class="regexp">  GitLeo: git</span></span><br><span class="line"><span class="regexp">  Honor: thumbs-o-up</span></span><br><span class="line"><span class="regexp">  Wish:  calendar-check-o</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Sidebar Avatar</span></span><br><span class="line"><span class="regexp"># in theme directory(source/images</span>): <span class="regexp">/images/avatar</span>.jpg</span><br><span class="line"><span class="comment"># in site  directory(source/uploads): /uploads/avatar.jpg</span></span><br><span class="line"><span class="comment">#avatar:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Table Of Contents in the Sidebar</span></span><br><span class="line"><span class="symbol">toc:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line">  <span class="symbol">number:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Creative Commons 4.0 International License.</span></span><br><span class="line"><span class="comment"># http://creativecommons.org/</span></span><br><span class="line"><span class="comment"># Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></span><br><span class="line"><span class="comment">#creative_commons: by-nc-sa</span></span><br><span class="line"><span class="comment">#creative_commons:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="symbol">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available value: left | right</span></span><br><span class="line">  <span class="symbol">position:</span> left</span><br><span class="line">  <span class="comment">#position: right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available value:</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  <span class="comment">#  - remove  Totally remove sidebar including sidebar toggler.</span></span><br><span class="line">  <span class="symbol">display:</span> post</span><br><span class="line">  <span class="comment">#display: always</span></span><br><span class="line">  <span class="comment">#display: hide</span></span><br><span class="line">  <span class="comment">#display: remove</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Blogrolls</span></span><br><span class="line"><span class="comment">#links_title: Links</span></span><br><span class="line"><span class="comment">#links_layout: block</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="comment">#links:</span></span><br><span class="line">  <span class="comment">#Title: http://example.com/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Misc Theme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom Logo.</span></span><br><span class="line"><span class="comment"># !!Only available for Default Scheme currently.</span></span><br><span class="line"><span class="comment"># Options:</span></span><br><span class="line"><span class="comment">#   enabled: [true/false] - Replace with specific image</span></span><br><span class="line"><span class="comment">#   image: url-of-image   - Images&#x27;s url</span></span><br><span class="line"><span class="symbol">custom_logo:</span></span><br><span class="line">  <span class="symbol">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">image:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available value:</span></span><br><span class="line"><span class="comment">#    normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="symbol">highlight_theme:</span> night</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span></span><br><span class="line"><span class="symbol">scroll_to_more:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically Excerpt. Not recommand.</span></span><br><span class="line"><span class="comment"># Please use &lt;!-- more --&gt; in the post to control excerpt accurately.</span></span><br><span class="line"><span class="symbol">auto_excerpt:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">length:</span> <span class="number">150</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Wechat Subscriber</span></span><br><span class="line"><span class="comment">#wechat_subscriber:</span></span><br><span class="line">  <span class="comment">#enabled: true</span></span><br><span class="line">  <span class="comment">#qcode: /path/to/your/wechatqcode ex. /uploads/wechat-qcode.jpg</span></span><br><span class="line">  <span class="comment">#description: ex. subscribe to my blog by scanning my public wechat account</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Third Party Services Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MathJax Support</span></span><br><span class="line"><span class="symbol">mathjax:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">cdn:</span> /<span class="regexp">/cdn.mathjax.org/mathjax</span><span class="regexp">/latest/</span><span class="title class_">MathJax</span>.js?config=<span class="title class_">Te</span>X-<span class="variable constant_">AMS</span>-MML_HTMLorMML</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Swiftype Search API Key</span></span><br><span class="line"><span class="symbol">swiftype_key:</span> ***</span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Analytics ID</span></span><br><span class="line"><span class="symbol">baidu_analytics:</span> ***</span><br><span class="line"></span><br><span class="line"><span class="comment"># Duoshuo ShortName</span></span><br><span class="line"><span class="symbol">duoshuo_shortname:</span> ***</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disqus</span></span><br><span class="line"><span class="comment">#disqus_shortname:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Share</span></span><br><span class="line"><span class="comment"># Available value:</span></span><br><span class="line"><span class="comment">#    button | slide</span></span><br><span class="line"><span class="comment">#baidushare:</span></span><br><span class="line"><span class="comment">##  type: button</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Share</span></span><br><span class="line"><span class="comment">#jiathis:</span></span><br><span class="line"><span class="comment">#add_this_id:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Share</span></span><br><span class="line"><span class="symbol">duoshuo_share:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.google.com/webmasters/</span></span><br><span class="line"><span class="symbol">google_site_verification:</span> ***</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics</span></span><br><span class="line"><span class="symbol">google_analytics:</span> <span class="variable constant_">UA</span>-***</span><br><span class="line"></span><br><span class="line"><span class="comment"># CNZZ count</span></span><br><span class="line"><span class="comment">#cnzz_siteid:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Make duoshuo show UA</span></span><br><span class="line"><span class="comment"># user_id must NOT be null when admin_enable is true!</span></span><br><span class="line"><span class="comment"># you can visit http://dev.duoshuo.com get duoshuo user id.</span></span><br><span class="line"><span class="symbol">duoshuo_info:</span></span><br><span class="line">  <span class="symbol">ua_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">admin_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">user_id:</span> ***</span><br><span class="line">  <span class="symbol">admin_nickname:</span> 大侠</span><br><span class="line">  <span class="symbol">data_author_key:</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Facebook SDK Support.</span></span><br><span class="line"><span class="comment"># https://github.com/iissnan/hexo-theme-next/pull/410</span></span><br><span class="line"><span class="symbol">facebook_sdk:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">app_id:</span>       #&lt;app_id&gt;</span><br><span class="line">  <span class="symbol">fb_admin:</span>     #&lt;user_id&gt;</span><br><span class="line">  <span class="symbol">like_button:</span>  <span class="comment">#true</span></span><br><span class="line">  <span class="symbol">webmaster:</span>    <span class="comment">#true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Facebook comments plugin</span></span><br><span class="line"><span class="comment"># This plugin depends on Facebook SDK.</span></span><br><span class="line"><span class="comment"># If facebook_sdk.enable is false, Facebook comments plugin is unavailable.</span></span><br><span class="line"><span class="symbol">facebook_comments_plugin:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">num_of_posts:</span> <span class="number">10</span>  <span class="comment"># min posts num is 1</span></span><br><span class="line">  <span class="symbol">width:</span> <span class="number">100</span>%       <span class="comment"># default width is 550px</span></span><br><span class="line">  <span class="symbol">scheme:</span> light     <span class="comment"># default scheme is light (light or dark)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># You can visit https://leancloud.cn get AppID and AppKey.</span></span><br><span class="line"><span class="symbol">leancloud_visitors:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">app_id:</span> ***</span><br><span class="line">  <span class="symbol">app_key:</span> ***</span><br><span class="line"></span><br><span class="line"><span class="comment"># Show PV/UV of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line"><span class="symbol">busuanzi_count:</span></span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  <span class="symbol">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="symbol">site_uv_header:</span> &lt;i <span class="keyword">class</span>=<span class="string">&quot;fa fa-user&quot;</span>&gt;&lt;<span class="regexp">/i&gt;</span></span><br><span class="line"><span class="regexp">  site_uv_footer:</span></span><br><span class="line"><span class="regexp">  # custom pv span for the whole site</span></span><br><span class="line"><span class="regexp">  site_pv: true</span></span><br><span class="line"><span class="regexp">  site_pv_header: &lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i</span>&gt;</span><br><span class="line">  <span class="symbol">site_pv_footer:</span></span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  <span class="symbol">page_pv:</span> <span class="literal">false</span></span><br><span class="line">  <span class="symbol">page_pv_header:</span> &lt;i <span class="keyword">class</span>=<span class="string">&quot;fa fa-file-o&quot;</span>&gt;&lt;<span class="regexp">/i&gt;</span></span><br><span class="line"><span class="regexp">  page_pv_footer:</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Tencent analytics ID</span></span><br><span class="line"><span class="regexp"># tencent_analytics:</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO</span></span><br><span class="line"><span class="regexp">baidu_push: false</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#! ---------------------------------------------------------------</span></span><br><span class="line"><span class="regexp">#! DO NOT EDIT THE FOLLOWING SETTINGS</span></span><br><span class="line"><span class="regexp">#! UNLESS YOU KNOW WHAT YOU ARE DOING</span></span><br><span class="line"><span class="regexp">#! ---------------------------------------------------------------</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Motion</span></span><br><span class="line"><span class="regexp">use_motion: true</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Fancybox</span></span><br><span class="line"><span class="regexp">fancybox: true</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># Script Vendors.</span></span><br><span class="line"><span class="regexp"># Set a CDN address for the vendor you want to customize.</span></span><br><span class="line"><span class="regexp"># For example</span></span><br><span class="line"><span class="regexp">#    jquery: https:/</span><span class="regexp">/ajax.googleapis.com/ajax</span><span class="regexp">/libs/jquery</span><span class="regexp">/2.2.0/jquery</span>.min.js</span><br><span class="line"><span class="comment"># Be aware that you should use the same version as internal ones to avoid potential problems.</span></span><br><span class="line"><span class="symbol">vendors:</span></span><br><span class="line">  <span class="comment"># Internal path prefix. Please do not edit it.</span></span><br><span class="line">  <span class="symbol">_internal:</span> vendors</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 2.1.3</span></span><br><span class="line">  <span class="symbol">jquery:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 2.1.5</span></span><br><span class="line">  <span class="comment"># http://fancyapps.com/fancybox/</span></span><br><span class="line">  <span class="symbol">fancybox:</span></span><br><span class="line">  <span class="symbol">fancybox_css:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.6</span></span><br><span class="line">  <span class="comment"># https://github.com/ftlabs/fastclick</span></span><br><span class="line">  <span class="symbol">fastclick:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.9.7</span></span><br><span class="line">  <span class="comment"># https://github.com/tuupola/jquery_lazyload</span></span><br><span class="line">  <span class="symbol">lazyload:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.2.1</span></span><br><span class="line">  <span class="comment"># http://VelocityJS.org</span></span><br><span class="line">  <span class="symbol">velocity:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.2.1</span></span><br><span class="line">  <span class="comment"># http://VelocityJS.org</span></span><br><span class="line">  <span class="symbol">velocity_ui:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 0.7.9</span></span><br><span class="line">  <span class="comment"># https://faisalman.github.io/ua-parser-js/</span></span><br><span class="line">  <span class="symbol">ua_parser:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 4.4.0</span></span><br><span class="line">  <span class="comment"># http://fontawesome.io/</span></span><br><span class="line">  <span class="symbol">fontawesome:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Assets</span></span><br><span class="line"><span class="symbol">css:</span> css</span><br><span class="line"><span class="symbol">js:</span> js</span><br><span class="line"><span class="symbol">images:</span> images</span><br><span class="line"></span><br><span class="line"><span class="comment"># Theme version</span></span><br><span class="line"><span class="symbol">version:</span> <span class="number">5.0</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">commit:</span> <span class="title class_">Aug</span> <span class="number">18</span> <span class="number">2016</span> - 08dacd70f5c8a7c9bd31ba0453a34c8fea0d2323</span><br></pre></td></tr></table></figure><p>附：<a href="https://www.google.com/analytics/">Google Analysis</a></p><hr><h1 id="个性化设置"><a href="#个性化设置" class="headerlink" title="个性化设置"></a>个性化设置</h1><p>先按照 <a href="http://theme-next.iissnan.com/">NexT 使用文档</a> 设置一下，其中的内容下面不再赘述。</p><h2 id="sitemap-插件"><a href="#sitemap-插件" class="headerlink" title="sitemap 插件"></a>sitemap 插件</h2><p>谷歌与百度的站点地图，前者适用于其他搜索引擎，用来手动提交以增加收录</p><p>安装：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p><code>_config.yml</code> 添加代码（如果没有的话，上文已添加了其实）：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line">  <span class="symbol">path:</span> sitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="symbol">baidusitemap:</span></span><br><span class="line">  <span class="symbol">path:</span> baidusitemap.xml</span><br></pre></td></tr></table></figure><p>另外谷歌的 <code>sitemap.xml</code> 可以不写到配置文件中，自动生效。</p><p>在主页后面加 <code>/baidusitemap.xml</code> 可以看到 baidusitemap（谷歌同理），将该网址它提交给百度搜索：<a href="http://zhanzhang.baidu.com/?castk=LTE=">百度站长平台</a>，贴吧账号无法在这里使用。</p><p>不过由于 GitHub 禁止了百度爬虫，百度无法抓取其中的 URL。试了各种解决方案都没有成功，除非把博客托管到其他平台上。建议还是使用 <a href="https://www.google.com/analytics/">谷歌分析（Google Analysis）</a>。</p><h2 id="添加新-Page"><a href="#添加新-Page" class="headerlink" title="添加新 Page"></a>添加新 Page</h2><p>用如下命令添加新 page</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="string">&quot;lol&quot;</span></span><br></pre></td></tr></table></figure><p>然后在主题配置文件 <code>\themes\next\_config.yml</code> 添加（上文已添加）：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line">  <span class="symbol">home:</span> /</span><br><span class="line">  <span class="symbol">categories:</span> /categories</span><br><span class="line">  <span class="symbol">archives:</span> /archives</span><br><span class="line">  <span class="symbol">tags:</span> /tags</span><br><span class="line">  <span class="symbol">lol:</span> <span class="symbol">https:</span>/<span class="regexp">/leoxv.com/lol</span> <span class="comment"># 这里可以添加</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">menu_icons:</span></span><br><span class="line">  <span class="symbol">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#KeyMapsToMenuItemKey: NameOfTheIconFromFontAwesome</span></span><br><span class="line">  <span class="symbol">home:</span> home</span><br><span class="line">  <span class="symbol">about:</span> user</span><br><span class="line">  <span class="symbol">categories:</span> th</span><br><span class="line">  <span class="symbol">tags:</span> tags</span><br><span class="line">  <span class="symbol">archives:</span> archive</span><br><span class="line">  <span class="symbol">commonweal:</span> heartbeat</span><br><span class="line">  <span class="symbol">lol:</span> anchor <span class="comment"># 选一个图标</span></span><br></pre></td></tr></table></figure><p>打开 <code>\themes\next\languages\zh-Hans.yml</code>，这是简体中文的配置文件，如果你的博客用的是其他语言，请打开对应的文件。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line">  <span class="symbol">home:</span> 首页</span><br><span class="line">  <span class="symbol">archives:</span> 归档</span><br><span class="line">  <span class="symbol">categories:</span> 分类</span><br><span class="line">  <span class="symbol">tags:</span> 标签</span><br><span class="line">  <span class="symbol">about:</span> 关于</span><br><span class="line">  <span class="symbol">search:</span> 搜索</span><br><span class="line">  <span class="symbol">commonweal:</span> 公益<span class="number">404</span></span><br><span class="line">  <span class="symbol">lol:</span> 德玛西亚</span><br></pre></td></tr></table></figure><p>注意这里第一列必须全为小写，否则效果类似这样：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/%E7%BC%96%E7%A8%8B/hexo/Hexo%20NexT%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E8%AE%BE%E7%BD%AE/NexT%20%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E7%AD%BE.png"></p><p>设置完后效果如下：<br><img src="http://ob5ymsmos.bkt.clouddn.com/QQ20160901-0@2x.png"></p><h2 id="替换字体库网址"><a href="#替换字体库网址" class="headerlink" title="替换字体库网址"></a>替换字体库网址</h2><p>使用中发现网站打开速度巨慢，一开始以为是 GitHub 的原因，但是本地调试时也要一分钟才能打开。使用Chrome抓包发现：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/%E7%BC%96%E7%A8%8B/hexo/Hexo%20NexT%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E8%AE%BE%E7%BD%AE/%E5%B7%A8%E6%85%A2%E7%9A%84%E6%89%93%E5%BC%80%E9%80%9F%E5%BA%A6.png"></p><p>57.04 秒！</p><p>在 <code>\themes\next</code> 目录执行命令</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;css?family&#x27;</span> -r ./</span><br></pre></td></tr></table></figure><p>可以找到罪魁祸首就在 <code>\themes\next\layout\_partials\head.swig</code> 文件中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.use_font_lato %&#125;</span><br><span class="line">  &#123;% if config.language === &#x27;zh-Hans&#x27; %&#125;</span><br><span class="line">    &lt;link href=&#x27;//fonts.lug.ustc.edu.cn/css?family=Lato:300,400,700,400italic&amp;subset=latin,latin-ext&#x27; rel=&#x27;stylesheet&#x27; type=&#x27;text/css&#x27;&gt;</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">    &lt;link href=&#x27;//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&amp;subset=latin,latin-ext&#x27; rel=&#x27;stylesheet&#x27; type=&#x27;text/css&#x27;&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>作者的原意是想让语言设置为简体的用户都连接到中国科技大学的免费字体库，其他用户链接到 Google，没想到这个链接挂了。使用 <a href="http://ping.chinaz.com/">Ping检测工具</a> 可以看到 <code>fonts.googleapis.com</code> 被解析到了北京的服务器，速度相当快，所以我们直接使用 Google 的字体库就可以了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.use_font_lato %&#125;</span><br><span class="line">    &lt;link href=&#x27;//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&amp;subset=latin,latin-ext&#x27; rel=&#x27;stylesheet&#x27; type=&#x27;text/css&#x27;&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h2 id="修改底栏"><a href="#修改底栏" class="headerlink" title="修改底栏"></a>修改底栏</h2><p>如果你很追求个性化，你可以自定义底栏，以下是我修改后的底栏代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span> &gt;</span></span><br><span class="line">  &#123;% set current = date(Date.now(), &quot;YYYY&quot;) %&#125;</span><br><span class="line">  <span class="symbol">&amp;copy;</span> &#123;% if theme.since and theme.since != current %&#125; &#123;&#123; theme.since &#125;&#125; - &#123;% endif %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">&quot;copyrightYear&quot;</span>&gt;</span>&#123;&#123; current &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;with-love&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-heart&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;author&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;copyrightHolder&quot;</span>&gt;</span>&#123;&#123; config.author &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;powered-by&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; __(&#x27;footer.powered&#x27;, &#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;theme-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://hexo.io&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;theme-info&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; __(&#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;theme-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://www.miitbeian.gov.cn/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>京ICP备2025137613号-1<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--&lt;div class=&quot;theme-info&quot;&gt;</span></span><br><span class="line"><span class="comment">  &#123;&#123; __(&#x27;footer.theme&#x27;) &#125;&#125; -</span></span><br><span class="line"><span class="comment">  &lt;a class=&quot;theme-link&quot; href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot;&gt;</span></span><br><span class="line"><span class="comment">    NexT.&#123;&#123; theme.scheme &#125;&#125;</span></span><br><span class="line"><span class="comment">  &lt;/a&gt;</span></span><br><span class="line"><span class="comment">&lt;/div&gt;--&gt;</span></span><br></pre></td></tr></table></figure><p>设置之后的底栏效果请翻到本文底部查看，然后你可以点击左上角目录返回回来。</p><h2 id="标题下添加「阅读量」"><a href="#标题下添加「阅读量」" class="headerlink" title="标题下添加「阅读量」"></a>标题下添加「阅读量」</h2><p>参考：<a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html">为NexT主题添加文章阅读量统计功能</a>。</p><p>效果：<br><img src="http://ob5ymsmos.bkt.clouddn.com/QQ20160901-1@2x.png"></p><h2 id="embed-js-本地化"><a href="#embed-js-本地化" class="headerlink" title="embed.js 本地化"></a>embed.js 本地化</h2><p>使用 Chrome 抓包可以得到多说评论核心脚本 embed.js 的远程文件地址：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://static.duoshuo.com/embed.js</span><br></pre></td></tr></table></figure><p>在浏览器中打开，右键另存为，放到 <code>\theme\next\source\js\</code> 文件夹中。</p><p>再打开 <code>\themes\next\layout\_scripts\comments\duoshuo.swig</code>。搜索 <code>//static.duoshuo.com/embed.js</code>，把它改成 <code>/js/embed.js</code>。</p><p>如法炮制，把加载慢的 .js 都本地化。目前GitHub的响应速度非常快。</p><p>其他处理的 js 有：</p><ul><li><p><code>\themes\next\layout\_partials\searchswiftype.swig</code> 中的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//s.swiftypecdn.com/install/v2/st.js</span><br></pre></td></tr></table></figure></li></ul><h2 id="美化多说评论"><a href="#美化多说评论" class="headerlink" title="美化多说评论"></a>美化多说评论</h2><h3 id="添加浏览器、操作系统信息"><a href="#添加浏览器、操作系统信息" class="headerlink" title="添加浏览器、操作系统信息"></a>添加浏览器、操作系统信息</h3><ol><li><p>博客中找一条自己的留言，获取多说id：<br>  <img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/2015/11/19/15/55/46/%E5%A4%9A%E8%AF%B4userid.jpg" alt="多说userid.jpg"></p></li><li><p>修改 <code>embed.js</code>，也可以直接下载原作者的 <a href="http://lovenight.github.io/js/embed.js">embed.js</a>。</p></li></ol><p>  打开上一步本地化的 <code>embed.js</code>，在最顶部添加如下代码：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//管理员判断开始</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sskadmin</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> ssk = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">user_id</span> == <span class="number">14198272</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">checkMobile</span>()) &#123;</span><br><span class="line">            ssk = <span class="string">&#x27;&lt;span class=&quot;ua&quot;&gt;&lt;span class=&quot;sskadmin&quot;&gt;博主&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ssk = <span class="string">&#x27;&lt;span class=&quot;ua&quot;&gt;&lt;span class=&quot;sskadmin&quot;&gt;博主&lt;/span&gt;&lt;/span&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">checkMobile</span>()) &#123;</span><br><span class="line">            ssk = <span class="string">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ssk;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//管理员判断结束</span></span><br><span class="line"><span class="comment">//移动客户端判断开始</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkMobile</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> isiPad = navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/iPad/i</span>) != <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (isiPad) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> isMobile = navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/iphone|android|phone|mobile|wap|netfront|x11|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i</span>) != <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (isMobile) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//移动客户端判断结束</span></span><br><span class="line"><span class="comment">//显UA开始</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ua</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> r = <span class="keyword">new</span> <span class="title class_">Array</span>;</span><br><span class="line">    <span class="keyword">var</span> outputer = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/FireFox\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_firefox&quot;&gt;&lt;i class=&quot;fa fa-firefox&quot;&gt;&lt;/i&gt; FireFox&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/Maxthon([\d]*)\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_maxthon&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; Maxthon&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/BIDUBrowser([\d]*)\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_ucweb&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 百度浏览器&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/UBrowser([\d]*)\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_ucweb&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; UCBrowser&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/UCBrowser([\d]*)\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_ucweb&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; UCBrowser&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/MetaSr/ig</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_sogou&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 搜狗浏览器&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/2345Explorer/ig</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_2345explorer&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 2345王牌浏览器&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/2345chrome/ig</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_2345chrome&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 2345加速浏览器&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/LBBROWSER/ig</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_lbbrowser&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 猎豹安全浏览器&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/MicroMessenger\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_qq&quot;&gt;&lt;i class=&quot;fa fa-weixin&quot;&gt;&lt;/i&gt; 微信&#x27;</span></span><br><span class="line">        <span class="comment">/*.split(&#x27;/&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/QQBrowser\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_qq&quot;&gt;&lt;i class=&quot;fa fa-qq&quot;&gt;&lt;/i&gt; QQ浏览器&#x27;</span></span><br><span class="line">        <span class="comment">/*.split(&#x27;/&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/QQ\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_qq&quot;&gt;&lt;i class=&quot;fa fa-qq&quot;&gt;&lt;/i&gt; QQ浏览器&#x27;</span></span><br><span class="line">        <span class="comment">/*.split(&#x27;/&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/MiuiBrowser\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_mi&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; Miui浏览器&#x27;</span></span><br><span class="line">        <span class="comment">/*.split(&#x27;/&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/Chrome([\d]*)\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_chrome&quot;&gt;&lt;i class=&quot;fa fa-chrome&quot;&gt;&lt;/i&gt; Chrome&#x27;</span></span><br><span class="line">        <span class="comment">/*.split(&#x27;.&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/safari\/([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_apple&quot;&gt;&lt;i class=&quot;fa fa-safari&quot;&gt;&lt;/i&gt; Safari&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/Opera[\s|\/]([^\s]+)/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> r1 = r[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_opera&quot;&gt;&lt;i class=&quot;fa fa-opera&quot;&gt;&lt;/i&gt; Opera&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/Trident\/7.0/gi</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_ie&quot;&gt;&lt;i class=&quot;fa fa-internet-explorer&quot;&gt;&lt;/i&gt; IE 11&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (r = e.<span class="title function_">match</span>(<span class="regexp">/MSIE\s([^\s|;]+)/gi</span>)) &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_ie&quot;&gt;&lt;i class=&quot;fa fa-internet-explorer&quot;&gt;&lt;/i&gt; IE&#x27;</span> + <span class="string">&#x27; &#x27;</span> + r[<span class="number">0</span>]</span><br><span class="line">        <span class="comment">/*.replace(&#x27;MSIE&#x27;, &#x27;&#x27;).split(&#x27;.&#x27;)[0]*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        outputer = <span class="string">&#x27;&lt;span class=&quot;ua_other&quot;&gt;&lt;i class=&quot;fa fa-globe&quot;&gt;&lt;/i&gt; 其它浏览器&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">checkMobile</span>()) &#123;</span><br><span class="line">        <span class="title class_">Mobile</span> = <span class="string">&#x27;&lt;br&gt;&lt;br&gt;&#x27;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title class_">Mobile</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> outputer + <span class="string">&quot;&lt;/span&gt;&quot;</span> + <span class="title class_">Mobile</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">os</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> os = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/win/ig</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 5.1/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_xp&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows XP&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 6.1/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_7&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows 7&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 6.2/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_8&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows 8&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 6.3/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_8_1&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows 8.1&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 10.0/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_8_1&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows 10&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 6.0/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_vista&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows Vista&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/nt 5/ig</span>)) &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_2000&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows 2000&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            os = <span class="string">&#x27;&lt;span class=&quot;os_windows&quot;&gt;&lt;i class=&quot;fa fa-windows&quot;&gt;&lt;/i&gt; Windows&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/android/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_android&quot;&gt;&lt;i class=&quot;fa fa-android&quot;&gt;&lt;/i&gt; Android&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/ubuntu/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_ubuntu&quot;&gt;&lt;i class=&quot;fa fa-desktop&quot;&gt;&lt;/i&gt; Ubuntu&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/linux/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_linux&quot;&gt;&lt;i class=&quot;fa fa-linux&quot;&gt;&lt;/i&gt; Linux&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/mac/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_mac&quot;&gt;&lt;i class=&quot;fa fa-apple&quot;&gt;&lt;/i&gt; Mac OS X&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/unix/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_unix&quot;&gt;&lt;i class=&quot;fa fa-desktop&quot;&gt;&lt;/i&gt; Unix&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="title function_">match</span>(<span class="regexp">/symbian/ig</span>)) &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_nokia&quot;&gt;&lt;i class=&quot;fa fa-mobile&quot;&gt;&lt;/i&gt; Nokia SymbianOS&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        os = <span class="string">&#x27;&lt;span class=&quot;os_other&quot;&gt;&lt;i class=&quot;fa fa-desktop&quot;&gt;&lt;/i&gt; 其它操作系统&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> os + <span class="string">&quot;&lt;/span&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//显UA结束</span></span><br></pre></td></tr></table></figure></p><p>  然后搜索：<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data-qqt-account=&quot;&#x27; + (r.qqt_account || &quot;&quot;) + &#x27;&quot;&gt;&#x27; + u(r.name) + &quot;&lt;/span&gt;&quot;),</span><br></pre></td></tr></table></figure></p><p>  在后面添加：<br>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t += <span class="title function_">sskadmin</span>(s.<span class="property">author</span>) + <span class="string">&quot;&lt;span class=\&quot;ua\&quot;&gt;&quot;</span> + <span class="title function_">ua</span>(s.<span class="property">agent</span>) + <span class="string">&quot;&lt;/span&gt;&lt;span class=\&quot;ua\&quot;&gt;&quot;</span> + <span class="title function_">os</span>(s.<span class="property">agent</span>) + <span class="string">&quot;&lt;/span&gt;&quot;</span>,</span><br></pre></td></tr></table></figure></p><ol start="3"><li>添加对应 CSS。打开 <code>\themes\next\source\css\main.styl</code>，在文件开头插入代码：  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*博主标记 CSS开始*/</span></span><br><span class="line"><span class="selector-class">.sskadmin</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#00a67c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#01B171</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*博主标记 CSS结束*/</span></span><br><span class="line"><span class="comment">/*多说UA开始*/</span></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.ua</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">1px</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#FFFFFF</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="comment">/*text-transform: Capitalize!important;</span></span><br><span class="line"><span class="comment">    float: right!important;</span></span><br><span class="line"><span class="comment">    line-height: 18px!important;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_other</span><span class="selector-class">.os_other</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ccc</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#BBB</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_ie</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#428bca</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#357ebd</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_firefox</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0ad4e</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#eea236</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_maxthon</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#7373B9</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#7373B9</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_ucweb</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FF740F</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#d43f3a</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_sogou</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#78ACE9</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_2345explorer</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#2478B8</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_2345chrome</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#F9D024</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_mi</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FF4A00</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_lbbrowser</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FC9D2E</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_chrome</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#EE6252</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_qq</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#3D88A8</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_apple</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#E95620</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#4cae4c</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ua_opera</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#d9534f</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#d43f3a</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.os_vista</span>,<span class="selector-class">.os_2000</span>,<span class="selector-class">.os_windows</span>,<span class="selector-class">.os_xp</span>,<span class="selector-class">.os_7</span>,<span class="selector-class">.os_8</span>,<span class="selector-class">.os_8_1</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#39b3d7</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#46b8da</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.os_android</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#98C13D</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#01B171</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.os_ubuntu</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#DD4814</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#01B171</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.os_linux</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#3A3A3A</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1F1F1F</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.os_mac</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#666666</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1F1F1F</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.os_unix</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#006600</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1F1F1F</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.os_nokia</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#014485</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#1F1F1F</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*多说UA结束*/</span></span><br></pre></td></tr></table></figure></li></ol><p>效果：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/2015/11/19/19/33/4/%E6%98%BEUA%E3%80%81OS%E3%80%81Root%E4%BF%A1%E6%81%AF.jpg" alt="显UA、OS、Root信息.jpg"></p><h3 id="动感头像"><a href="#动感头像" class="headerlink" title="动感头像"></a>动感头像</h3><p>效果和CSS代码见 <a href="http://www.vsay.cn/one-more-custom-css-lets-you-say-comments-city.html">多说自定义CSS 让你的多说评论动感起来</a></p><p>然后打开多说后台，按下图操作，把代码粘贴进去<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/2015/11/19/17/37/21/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%9A%E8%AF%B4CSS.jpg" alt="自定义多说CSS.jpg"></p><p>大功告成。</p><p>原作者还添加了网上搜集的其他代码，详见注释：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*头像样式 圆形，鼠标移上会旋转*/</span></span><br><span class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">54px</span>;<span class="attribute">height</span>:<span class="number">54px</span>; <span class="comment">/*设置图像的长和宽，这里要根据自己的评论框情况更改*/</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">27px</span>;<span class="comment">/*设置图像圆角效果,在这里原作者直接设置了超过width/2的像素，即为圆形了*/</span></span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">27px</span>;<span class="comment">/*圆角效果：兼容webkit浏览器*/</span></span><br><span class="line">    -moz-<span class="attribute">border-radius</span>:<span class="number">27px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> #<span class="number">3333s</span>f;<span class="comment">/*设置图像阴影效果*/</span></span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> #<span class="number">3333s</span>f;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: -webkit-transform <span class="number">0.4s</span> ease-out;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="number">0.4s</span> ease-out;<span class="comment">/*变化时间设置为0.4秒(变化动作即为下面的图像旋转360读）*/</span></span><br><span class="line">    -moz-<span class="attribute">transition</span>: -moz-transform <span class="number">0.4s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span>&#123;<span class="comment">/*设置鼠标悬浮在头像时的CSS样式*/</span></span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#fff</span>; rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">6</span>), inset <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">1</span>);</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#fff</span>; rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">6</span>), inset <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">1</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);<span class="comment">/*图像旋转360度*/</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*评论列表背景*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">li</span><span class="selector-class">.ds-post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-tag">li</span><span class="selector-class">.ds-post</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">6</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*发布按钮背景 去掉背景图，修改底色，去掉文字阴影。*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-post-button</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">136</span>, <span class="number">172</span>, <span class="number">219</span>, .<span class="number">2</span>);</span><br><span class="line">    <span class="attribute">text-shadow</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*工具栏背景*/</span></span><br><span class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-gradient-bg</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*评论框背景*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-textarea-wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*未登录用户名字颜色，与登录用户一致*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-user-name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ef7c6c</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*用户名等超链接颜色*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-highlight</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ef7c6c</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*评论、文本框字体， 默认字体偏小，稍作调整。*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-comment-body</span> <span class="selector-tag">p</span>, <span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-textarea-wrapper</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.15em</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#717171</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*社交账号登陆透明度*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-login-buttons</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-login-buttons</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="SEO-优化"><a href="#SEO-优化" class="headerlink" title="SEO 优化"></a>SEO 优化</h2><p>更改首页标题格式为「关键词-网站名称 - 网站描述」。打开 <code>\themes\next\layout\index.swig</code> 文件，找到这行代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125; &#123;&#123; config.title &#125;&#125; &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>把它改成：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125;</span><br><span class="line">  &#123;&#123; theme.keywords &#125;&#125; - &#123;&#123; config.title &#125;&#125; - &#123;&#123; theme.description &#125;&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h2 id="项目主页添加-README"><a href="#项目主页添加-README" class="headerlink" title="项目主页添加 README"></a>项目主页添加 README</h2><p>GitHub 上博客的仓库主页空荡荡的，没有 README。如果把 README.md 放入 source 文件夹，<code>hexo g</code> 生成时会被解析成 html 文件，放到 public 文件夹，生成时又会自动删除。</p><p>解决方法很简单，在 source 目录下新建文件<code>README.mdown</code>，在里面写README即可。<code>hexo g</code> 会把它复制到 public 文件夹，且不会被解析成 html</p><hr><h1 id="Git-相关"><a href="#Git-相关" class="headerlink" title="Git 相关"></a>Git 相关</h1><h2 id="自动备份博客源文件"><a href="#自动备份博客源文件" class="headerlink" title="自动备份博客源文件"></a>自动备份博客源文件</h2><p>参考：<a href="https://notes.wanghao.work/2015-07-06-%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BDHexo%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6.html">自动备份Hexo博客源文件</a></p><h2 id="多-PC-同步"><a href="#多-PC-同步" class="headerlink" title="多 PC 同步"></a>多 PC 同步</h2><p>需要在公司和家里电脑上写博客，打包拷来拷去太麻烦。原作者使用 <a href="https://coding.net/">Coding.net</a> 的免费私有仓库来同步 hexo 文件夹。</p><ol><li><p>删除根目录和 <code>\theme\next\</code> 下的 <code>.git</code> 文件夹。</p></li><li><p>修改根目录下的 <code>.gitignore</code> 文件为：</p></li></ol>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/.deploy_git</span><br><span class="line">/public</span><br></pre></td></tr></table></figure><p>  其实第一行留不留都一样，它是 hexo 默认的 git 配置文件夹，里面也有一个 <code>.git</code>，使 <code>/.deploy_git</code> 里的文件无法被提交。<code>public</code> 是每次 <code>hexo g</code> 新生成的静态博客文件，不需要同步。</p><ol start="3"><li>push &amp; pull</li></ol><p>如果没接触过 Git，可以看这本书学习一个：<a href="http://git-scm.com/book/zh/v2">《Pro Git》</a></p><h2 id="Pull-失败：Filename-too-long"><a href="#Pull-失败：Filename-too-long" class="headerlink" title="Pull 失败：Filename too long"></a>Pull 失败：Filename too long</h2><p>在 Terminal 里面，输入</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.longpaths <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="关闭换行符警告"><a href="#关闭换行符警告" class="headerlink" title="关闭换行符警告"></a>关闭换行符警告</h2><p>部署时会出现如下警告</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">warning:</span> <span class="variable constant_">LF</span> will be replaced by <span class="variable constant_">CRLF</span></span><br></pre></td></tr></table></figure><p>LF 为换行符，CR 为回车符。Windows 结束一行用 CRLF，Mac 和 Linux 用 LF。Git 默认在你提交时自动地把行结束符 CRLF 转换成 LF，而在签出代码时把 LF 转换成 CRLF。</p><p>要关闭警告，执行如下命令：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>上述命令中：</p><blockquote><p>false 表示取消自动转换功能。适合纯 Windows<br>true 表示提交代码时把 CRLF 转换成 LF，签出时 LF 转换成 CRLF。适合多平台协作<br>input 表示提交时把 CRLF 转换成 LF，签出时不转换。适合纯 Linux 或 Mac</p></blockquote><p><strong>补充</strong>：<br>Git 还提供了一个换行符检查功能 <code>core.safecrlf</code>，可以在提交时检查文件是否混用了不同风格的换行符。可以用同样的命令更改设置。<br>选项如下：</p><blockquote><p>false - 不做任何检查<br>warn - 在提交时检查并警告<br>true - 在提交时检查，如果发现混用则拒绝提交</p></blockquote><p>建议使用最严格的 true 选项</p><h2 id="博客部署的-Message"><a href="#博客部署的-Message" class="headerlink" title="博客部署的 Message"></a>博客部署的 Message</h2><p><code>\node_modules\hexo-deployer-git\lib\deployer.js</code> 文件末尾找到这一句：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Site</span> <span class="attr">updated</span>: &#123;&#123; <span class="title function_">now</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>) &#125;&#125;.</span><br></pre></td></tr></table></figure><p>改得个性化一点：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这个勤奋的家伙又更新了: &#123;&#123; now(\&#x27;YYYY-MM-DD HH:mm:ss\&#x27;) &#125;&#125;.</span><br></pre></td></tr></table></figure><p>在 GitHub 对应项目中可以看到效果：<br><img src="http://7xo8t2.com1.z0.glb.clouddn.com/img/2015/11/29/21/53/44/%E5%8F%88%E6%9B%B4%E6%96%B0%E4%BA%86.png" alt="又更新了.png"></p><hr><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><a href="http://zipperary.com/categories/hexo/">hexo系列教程</a></li><li><a href="http://ibruce.info/2013/11/22/hexo-your-blog/">hexo你的博客</a></li><li><a href="http://yangjian.me/pacman/hello/introducing-pacman-theme/">pacman主题介绍</a></li><li><a href="http://www.yingsec.com/2015/11/running-time-js/">使用脚本添加“本站已运行 X 天”</a></li><li><a href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/">如何使用 Jacman 主题</a></li><li><a href="http://segmentfault.com/a/1190000002592993">Hexo 3.0 静态博客使用指南</a></li><li><a href="http://ibruce.info/2015/04/04/busuanzi/">不蒜子-搞定你的网站计数</a></li><li><a href="https://github.com/hexojs/hexo/wiki/Breaking-Changes-in-Hexo-3.0">Breaking Changes in Hexo 3.0</a></li><li><a href="http://vkki.me/2014/02/04/beautify-your-hexo/">美化你的Hexo站点</a></li><li><a href="http://www.qinbin.me/git-core-autocrlf%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E/">git core.autocrlf配置说明</a></li><li><a href="http://chitanda.me/2015/06/18/hexo-sync-in-multiple-pc/">利用git解决hexo博客多PC间同步问题</a></li><li><a href="http://www.selfrebuild.net/2015/06/24/GitHub-Hexo-Next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E5%AE%9A%E5%88%B6/">Hexo博客优化 - Next主题个性化定制</a></li><li><a href="https://www.mxgw.info/t/filename-too-long-in-git.html">win下面的git客户端提示FIlename too long解决方法</a></li><li><a href="http://wsgzao.github.io/post/duoshuo">多说自定义CSS动感头像和多说评论显示User Agent的那些小事</a></li><li><a href="http://www.vsay.cn/one-more-custom-css-lets-you-say-comments-city.html">多说自定义CSS 让你的多说评论动感起来</a></li><li><a href="http://moxfive.xyz/2015/09/29/duoshuo-style/">多说样式折腾记录 — 添加 UA 浏览器标识、旋转头像等</a></li></ul><hr><p>本文转自 <a href="http://lovenight.github.io/2015/11/10/Hexo-3-1-1-%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/">loveNight</a>，略有删改。</p><h1 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h1><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png&quot; alt=&quot;Hexo&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt; 是一个基于 &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt; 的静态博客程序，可以方便的生成静态网页托管在 &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; 和 &lt;a href=&quot;https://www.heroku.com/&quot;&gt;Heroku&lt;/a&gt; 上。作者是来自台湾的 &lt;a href=&quot;https://github.com/hexojs/hexo&quot;&gt;tommy351&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; 本来用于托管在 GitHub 上的项目作介绍，后来被不少开发者用来搭建博客，官方也表示欢迎该行为，并提供了 300M 的免费空间。&lt;/p&gt;
&lt;p&gt;优势：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;生成静态页面快&lt;/li&gt;
&lt;li&gt;支持 Markdown&lt;/li&gt;
&lt;li&gt;兼容 Windows, mac OS 和 Linux&lt;/li&gt;
&lt;li&gt;部署方便，日常使用仅需五个命令&lt;/li&gt;
&lt;li&gt;高扩展性、自订性，文件少、小，易理解&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;⚠️ 注意：本文适用于 hexo 3.x 版本，与 2.x 略有出入！&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Hexo" scheme="https://blog.leoxv.com/categories/Hexo/"/>
    
    <category term="node.js" scheme="https://blog.leoxv.com/categories/Hexo/node-js/"/>
    
    <category term="Mac" scheme="https://blog.leoxv.com/categories/Hexo/node-js/Mac/"/>
    
    
    <category term="node.js" scheme="https://blog.leoxv.com/tags/node-js/"/>
    
    <category term="Mac" scheme="https://blog.leoxv.com/tags/Mac/"/>
    
    <category term="Hexo" scheme="https://blog.leoxv.com/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Universal Links Test</title>
    <link href="https://blog.leoxv.com/2016/08/18/Universal-Links-Test/"/>
    <id>https://blog.leoxv.com/2016/08/18/Universal-Links-Test/</id>
    <published>2016-08-18T07:57:26.000Z</published>
    <updated>2025-08-06T09:15:28.355Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leoxv.com/jianxin">Call Jianxin App</a></p><p>Download on <a href="https://itunes.apple.com/cn/app/id1187571215">App Store</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leoxv.com/jianxin&quot;&gt;Call Jianxin App&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Download on &lt;a href=&quot;https://itunes.apple.com/cn/app/id1187571215&quot;&gt;App St</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【iOS】UITextView 自动滚动</title>
    <link href="https://blog.leoxv.com/2016/05/03/iOS-UITextView-Auto-Scroll/"/>
    <id>https://blog.leoxv.com/2016/05/03/iOS-UITextView-Auto-Scroll/</id>
    <published>2016-05-03T04:31:10.000Z</published>
    <updated>2025-08-06T09:15:28.312Z</updated>
    
    <content type="html"><![CDATA[<p>今天在收到朋友的求助，帮他写个下载图片集的 Demo，要求算出总时间，传给服务器。（什么鬼需求！）<br>这不是重点，重点是当时心一热，给写了个 UI 效果，显示下当前进度，像这样：</p><p><img src="https://cdnqiniu.leoxv.com/common2/UITextViewAutoScrollToTop01.png" alt="By https://leoxv.com"></p><span id="more"></span><h2 id="自动滚动"><a href="#自动滚动" class="headerlink" title="自动滚动"></a>自动滚动</h2><p>这个效果本来是参考 Xcode 的 Debug Area 做的，然后发现个挺逗的地方，这玩意不自动滚啊，一直在顶部。。。</p><p><img src="https://cdnqiniu.leoxv.com/common2/UITextViewAutoScrollToTop02.gif" alt="By https://leoxv.com"></p><p>这就不对了嘛，怎么能这样呢！你得滚起来呀！<br>然后我就加了这么一句代码：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.textView scrollRangeToVisible:<span class="built_in">NSMakeRange</span>(<span class="keyword">self</span>.textView.text.length, <span class="number">1</span>)];</span><br></pre></td></tr></table></figure><p>效果是这样子的：</p><p><img src="https://cdnqiniu.leoxv.com/common2/UITextViewAutoScrollToTop03.gif" alt="By https://leoxv.com"></p><p>搞定~</p><h2 id="拓展-聊天室"><a href="#拓展-聊天室" class="headerlink" title="拓展: 聊天室"></a>拓展: 聊天室</h2><p>之前看到过岛国一篇 <a href="http://hayatomo.com/1307">博文</a>，讲到聊天室用 UITextView 实现会出现一个小问题，简单来讲就是使用 <code>scrollRangeToVisible:</code> 方法会导致字符串 Append 后自动滑动到底部，然后系统又自动滑动到顶部，再编辑又自动滑动到底部。。。如下图，这个动画有点醉啊。。。</p><p><img src="https://cdnqiniu.leoxv.com/common2/UITextView_layoutManager_on.gif" alt="By https://leoxv.com"></p><p>当然岛国 <a href="http://hayatomo.com/">博主</a> 很快贴出了解决方案：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.textView.layoutManager.allowsNonContiguousLayout = <span class="literal">NO</span>;</span><br></pre></td></tr></table></figure><p>效果就是这样滴：</p><p><img src="https://cdnqiniu.leoxv.com/common2/UITextView_LayoutManager_off.gif" alt="By https://leoxv.com"></p><p>哟西，功劳大大滴！</p><blockquote><p>参考： <a href="http://hayatomo.com/1307"><br>[iOS] iOS8,iOS7にてUITextViewで最後の行をTapするとTopにScrollする現象（ぶっ飛び怪奇現象）の回避方法</a></p></blockquote><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;今天在收到朋友的求助，帮他写个下载图片集的 Demo，要求算出总时间，传给服务器。（什么鬼需求！）&lt;br&gt;这不是重点，重点是当时心一热，给写了个 UI 效果，显示下当前进度，像这样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/UITextViewAutoScrollToTop01.png&quot; alt=&quot;By https://leoxv.com&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="UITextView" scheme="https://blog.leoxv.com/categories/iOS/UITextView/"/>
    
    <category term="Scroll" scheme="https://blog.leoxv.com/categories/iOS/UITextView/Scroll/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="UITextView" scheme="https://blog.leoxv.com/tags/UITextView/"/>
    
    <category term="scroll" scheme="https://blog.leoxv.com/tags/scroll/"/>
    
  </entry>
  
  <entry>
    <title>【CocoaPods】细说 pod trunk</title>
    <link href="https://blog.leoxv.com/2016/04/05/CocoaPods-API-Elaborate-pod-trunk/"/>
    <id>https://blog.leoxv.com/2016/04/05/CocoaPods-API-Elaborate-pod-trunk/</id>
    <published>2016-04-05T08:04:22.000Z</published>
    <updated>2025-08-06T09:15:28.312Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png" alt="https://leoxv.com"></p><p>前几天手贱改了下 <a href="https://github.com/">GitHub</a> 用户名（<a href="https://github.com/LeoiOS">LeoiOS</a> -&gt; <a href="https://github.com/iTofu">iTofu</a>），然后发现整个世界都崩溃了。。。</p><span id="more"></span><h2 id="逗比的开始"><a href="#逗比的开始" class="headerlink" title="逗比的开始"></a>逗比的开始</h2><p>如个人博客等各处 GitHub 链接慢慢找出来替换（直到现在我都不确定全部替换完了。。。），CocoaPods 上个人库源地址逐个更新。。。（此处略去一千字）</p><p>在更新 CocoaPods 库源地址的时候还发现一个悲催的问题，我修改完 GitHub 用户名后再去更新库，不让我更了。。。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[!] You are not allowed to push new versions for this pod.</span><br></pre></td></tr></table></figure><p>我勒个去，这。。。这是要挨骂的节奏？亲爱的用户们轻拍。。。第一反应是去啃 CocoaPods 文档，想了想，啃啥文档，直接去提了个 <a href="https://github.com/CocoaPods/CocoaPods/issues/5109">Issue</a>。。。所幸作为开源社区的一份子，CocoaPods 的开发者们尤其友好，主要开发者之一 <a href="https://github.com/segiddins">segiddins</a> 很快也很热心地帮我解决了这个问题。</p><h2 id="原来如此"><a href="#原来如此" class="headerlink" title="原来如此"></a>原来如此</h2><p>在 <a href="https://github.com/segiddins">segiddins</a> 的解释下弄清楚了，其实这个问题并非因为我更换 GitHub 用户名产生（P关系都木），而是我更换了邮箱地址，导致 CocoaPods 认为我是另一名用户，进而中断了我的更新请求。</p><h2 id="我是这样解决的"><a href="#我是这样解决的" class="headerlink" title="我是这样解决的"></a>我是这样解决的</h2><p>解决方案也不复杂，流程如下：</p><ul><li>用原邮箱登录（确认库拥有者身份）</li><li>添加新邮箱到目标库的拥有者列表</li><li>用新邮箱登录</li><li>（可选）从目标库的拥有者列表移除老邮箱</li></ul><p>命令是这样的：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pod trunk register [<span class="variable constant_">OLD</span> <span class="variable constant_">EMAIL</span>] [<span class="variable constant_">USERNAME</span>]</span><br><span class="line">pod trunk add-owner [<span class="variable constant_">POD</span> <span class="variable constant_">REP</span> <span class="variable constant_">NAME</span>] [<span class="variable constant_">NEW</span> <span class="variable constant_">EMAIL</span>]</span><br><span class="line"></span><br><span class="line">pod trunk register [<span class="variable constant_">NEW</span> <span class="variable constant_">EMAIL</span>] [<span class="variable constant_">USERNAME</span>]</span><br><span class="line">pod trunk remove-owner [<span class="variable constant_">POD</span> <span class="variable constant_">REP</span> <span class="variable constant_">NAME</span>] [<span class="variable constant_">OLD</span> <span class="variable constant_">EMAIL</span>]</span><br></pre></td></tr></table></figure><blockquote><p>参考：<a href="https://guides.cocoapods.org/terminal/commands.html#group_trunk">CocoaPods API</a></p></blockquote><p>哦了，解决了~ 再次向友好的 <a href="https://github.com/segiddins">segiddins</a> 致谢~</p><h2 id="加点料，细说-Pod-trunk"><a href="#加点料，细说-Pod-trunk" class="headerlink" title="加点料，细说 Pod trunk"></a>加点料，细说 Pod trunk</h2><p>安利一下可能是你用 CocoaPods 时打交道最多的 <code>pod trunk</code> ，其实呢，这些命令在 <a href="https://guides.cocoapods.org/terminal/commands.html#group_trunk">CocoaPods API</a> 上都能找得到，只不过老外的思维和我们略有不同，你可能不知道这个命令原来是干这个的罢了。好比上面这个问题，老外提供的这几个步骤（德国人吧这么认真。。。），如果是国人写的话可能直接一个 <code>pod trunk change owner A to B</code> 命令就完了。。。</p><h3 id="pod-trunk-register-EMAIL-USERNAME"><a href="#pod-trunk-register-EMAIL-USERNAME" class="headerlink" title="pod trunk register [EMAIL] [USERNAME]"></a>pod trunk register [EMAIL] [USERNAME]</h3><p>注册&amp;登录。</p><p>在你的 Mac 上只需要运行一次，然后去邮箱中点击确认邮件的链接即可，当然你也可以使用该命令在不同的账号中来回切换。<br>示例：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod trunk register devtip<span class="variable">@163</span>.com <span class="string">`Leo`</span></span><br></pre></td></tr></table></figure><hr><h3 id="pod-trunk-push-PATH"><a href="#pod-trunk-push-PATH" class="headerlink" title="pod trunk push [PATH]"></a>pod trunk push [PATH]</h3><p>发布库。</p><p>我一般在本地操作，PATH 一般就是 PodRepName.podspec。不过官网文档上说 PATH 缺省是当前目录，所以 cd 到库的本地目录，然后直接 <code>pod trunk push</code> 应该也是可以滴！<br>示例：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod trunk push <span class="title class_">LCActionSheet</span>.podspec</span><br><span class="line">...</span><br><span class="line"><span class="title class_">Done</span>!</span><br></pre></td></tr></table></figure><hr><h3 id="pod-trunk-me"><a href="#pod-trunk-me" class="headerlink" title="pod trunk me"></a>pod trunk me</h3><p>查看自己的账号信息，以及账号拥有的仓库。</p><p>示例：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">bogon:</span>hexo <span class="title class_">Leo</span><span class="variable">$ </span>pod trunk me</span><br><span class="line">  - <span class="title class_">Name</span>:     <span class="title class_">Leo</span></span><br><span class="line">  - <span class="title class_">Email</span>:    devtip<span class="variable">@163</span>.com</span><br><span class="line">  - <span class="title class_">Since</span>:    <span class="title class_">April</span> 1st, <span class="number">05</span><span class="symbol">:</span>09</span><br><span class="line">  - <span class="title class_">Pods</span>:</span><br><span class="line">    - <span class="title class_">LCActionSheet</span></span><br><span class="line">    - <span class="title class_">LCNewFeature</span></span><br><span class="line">    - <span class="title class_">LCProgress</span>HUD</span><br><span class="line">    - <span class="title class_">LCDownloadManager</span></span><br><span class="line">    - <span class="title class_">LCLoading</span>HUD</span><br><span class="line">    - <span class="title class_">LCCool</span>HUD</span><br><span class="line">    - <span class="title class_">LCNavigationController</span></span><br><span class="line">    - <span class="title class_">LCBannerView</span></span><br><span class="line">    - <span class="title class_">LCTabBarController</span></span><br><span class="line">    - <span class="title class_">LCTabBarControllerFor</span>LM</span><br><span class="line">  - <span class="title class_">Sessions</span>:</span><br><span class="line">    - <span class="title class_">April</span> 1st, <span class="number">05</span><span class="symbol">:</span>09 -  <span class="title class_">August</span> 7th, <span class="symbol">xx:</span><span class="number">22</span>. <span class="variable constant_">IP</span>: xxx.xxx.xx.xxx</span><br><span class="line">    - <span class="title class_">April</span> 4th, <span class="number">20</span><span class="symbol">:</span><span class="number">44</span> - <span class="title class_">August</span> 10th, <span class="symbol">xx:</span><span class="number">58</span>. <span class="variable constant_">IP</span>: xxx.xxx.xx.xxx</span><br><span class="line">    - <span class="title class_">April</span> 4th, <span class="number">21</span><span class="symbol">:</span><span class="number">37</span> - <span class="title class_">August</span> 12th, <span class="symbol">xx:</span><span class="number">33</span>. <span class="variable constant_">IP</span>: xxx.xxx.xx.xxx</span><br></pre></td></tr></table></figure><hr><h3 id="pod-trunk-info-POD-REP-NAME"><a href="#pod-trunk-info-POD-REP-NAME" class="headerlink" title="pod trunk info [POD REP NAME]"></a>pod trunk info [POD REP NAME]</h3><p>查看某个库的信息，包括拥有者、各版本版本号及发布时间。</p><p>示例：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">bogon:</span>hexo <span class="title class_">Leo</span><span class="variable">$ </span>pod trunk info <span class="title class_">LCActionSheet</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">LCActionSheet</span></span><br><span class="line">    - <span class="title class_">Versions</span>:</span><br><span class="line">      - <span class="number">1.0</span>.<span class="number">1</span> (<span class="number">2015</span>-<span class="number">11</span>-09 <span class="number">05</span><span class="symbol">:</span><span class="number">43</span><span class="symbol">:</span><span class="number">23</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.0</span>.<span class="number">2</span> (<span class="number">2015</span>-<span class="number">11</span>-09 <span class="number">06</span><span class="symbol">:</span>08<span class="symbol">:</span><span class="number">47</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.0</span>.<span class="number">5</span> (<span class="number">2015</span>-<span class="number">11</span>-09 08<span class="symbol">:</span><span class="number">14</span><span class="symbol">:</span><span class="number">53</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.0</span>.<span class="number">6</span> (<span class="number">2015</span>-<span class="number">11</span>-09 08<span class="symbol">:</span><span class="number">28</span><span class="symbol">:</span><span class="number">27</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.1</span>.<span class="number">0</span> (<span class="number">2015</span>-<span class="number">12</span>-<span class="number">07</span> <span class="number">04</span><span class="symbol">:</span><span class="number">49</span><span class="symbol">:</span><span class="number">24</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.1</span>.<span class="number">1</span> (<span class="number">2015</span>-<span class="number">12</span>-09 <span class="number">11</span><span class="symbol">:</span><span class="number">12</span><span class="symbol">:</span><span class="number">05</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.1</span>.<span class="number">3</span> (<span class="number">2015</span>-<span class="number">12</span>-<span class="number">16</span> <span class="number">10</span><span class="symbol">:</span><span class="number">18</span><span class="symbol">:</span><span class="number">15</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.1</span>.<span class="number">5</span> (<span class="number">2016</span>-<span class="number">02</span>-<span class="number">17</span> <span class="number">10</span><span class="symbol">:</span><span class="number">59</span><span class="symbol">:</span><span class="number">12</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.2</span>.<span class="number">0</span> (<span class="number">2016</span>-<span class="number">03</span>-<span class="number">07</span> <span class="number">02</span><span class="symbol">:</span><span class="number">23</span><span class="symbol">:</span><span class="number">21</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.2</span>.<span class="number">1</span> (<span class="number">2016</span>-<span class="number">03</span>-<span class="number">15</span> <span class="number">11</span><span class="symbol">:</span><span class="number">01</span><span class="symbol">:</span><span class="number">57</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.2</span>.<span class="number">2</span> (<span class="number">2016</span>-<span class="number">04</span>-<span class="number">05</span> <span class="number">03</span><span class="symbol">:</span><span class="number">03</span><span class="symbol">:</span><span class="number">16</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">      - <span class="number">1.2</span>.<span class="number">3</span> (<span class="number">2016</span>-<span class="number">04</span>-<span class="number">05</span> <span class="number">04</span><span class="symbol">:</span><span class="number">22</span><span class="symbol">:</span><span class="number">12</span> <span class="variable constant_">UTC</span>)</span><br><span class="line">    - <span class="title class_">Owners</span>:</span><br><span class="line">      - <span class="title class_">Leo</span> &lt;devtip<span class="variable">@163</span>.com&gt;</span><br></pre></td></tr></table></figure><hr><h3 id="pod-trunk-add-owner-POD-REP-NAME-OWNER-EMAIL"><a href="#pod-trunk-add-owner-POD-REP-NAME-OWNER-EMAIL" class="headerlink" title="pod trunk add-owner [POD REP NAME] [OWNER-EMAIL]"></a>pod trunk add-owner [POD REP NAME] [OWNER-EMAIL]</h3><h3 id="pod-trunk-remove-owner-POD-REP-NAME-OWNER-EMAIL"><a href="#pod-trunk-remove-owner-POD-REP-NAME-OWNER-EMAIL" class="headerlink" title="pod trunk remove-owner [POD REP NAME] [OWNER-EMAIL]"></a>pod trunk remove-owner [POD REP NAME] [OWNER-EMAIL]</h3><p>添加&#x2F;移除某个库的拥有者，上文有提到该命令。</p><p>你必须先运行过 <code>pod trunk register</code> 登录过，并且操作的是你账号拥有的库。</p><hr><h3 id="pod-trunk-deprecate-POD-REP-NAME"><a href="#pod-trunk-deprecate-POD-REP-NAME" class="headerlink" title="pod trunk deprecate [POD REP NAME]"></a>pod trunk deprecate [POD REP NAME]</h3><p>不赞成使用，让某个库过期的意思。</p><p>如果导入声明 deprecate 的库，应该会收到警告。<br>该命令貌似是 CocoaPods V 1.0.0 推出来的，由于目前 V 1.0.0 是 beta 版，我使用的正式版是 V 0.39.0，所以暂时无法演示该命令。</p><hr><h3 id="pod-trunk-delete-POD-REP-NAME-VERSION"><a href="#pod-trunk-delete-POD-REP-NAME-VERSION" class="headerlink" title="pod trunk delete [POD REP NAME] [VERSION]"></a>pod trunk delete [POD REP NAME] [VERSION]</h3><p>删除某个库的某个版本，该行为不可回退。</p><p>⚠️ 官方文档也明确表示 <strong>不赞成</strong> 使用该命令，建议使用 <code>pod trunk deprecate</code> 代替，以防止导入该库的用户项目无法运行，请注意这是一种及其不友好且让人恼火的行为！<br>该命令暂无示例，原因同上条。</p><h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><p>顺带吐槽下国内社区对 CocoaPods 等开源项目的关注度，比如 CocoaPods，用国内的搜索引擎某度搜到的百分之九十九都是安装教程，更新教程，我靠。。。面包有了我们能不能考虑考虑黄油？</p><p>再提下，好像 GitHub Pages 的 <a href="https://help.pages.github.com/">帮助页</a> 被墙了？貌似是这几天某站在亚太放了台服务器，然后某墙新增屏蔽时的误操作？各位珍重。。。</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail：<code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub：<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png&quot; alt=&quot;https://leoxv.com&quot;&gt;&lt;/p&gt;
&lt;p&gt;前几天手贱改了下 &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; 用户名（&lt;a href=&quot;https://github.com/LeoiOS&quot;&gt;LeoiOS&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://github.com/iTofu&quot;&gt;iTofu&lt;/a&gt;），然后发现整个世界都崩溃了。。。&lt;/p&gt;</summary>
    
    
    
    <category term="CocoaPods" scheme="https://blog.leoxv.com/categories/CocoaPods/"/>
    
    <category term="Pod" scheme="https://blog.leoxv.com/categories/CocoaPods/Pod/"/>
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/CocoaPods/Pod/iOS/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="CocoaPods" scheme="https://blog.leoxv.com/tags/CocoaPods/"/>
    
    <category term="Pod" scheme="https://blog.leoxv.com/tags/Pod/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】Xcode 插件过时怎么办？</title>
    <link href="https://blog.leoxv.com/2016/03/22/iOS-Xcode-Plugins-Version-Support/"/>
    <id>https://blog.leoxv.com/2016/03/22/iOS-Xcode-Plugins-Version-Support/</id>
    <published>2016-03-22T09:07:49.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">工欲善其事必先利其器。</blockquote><p>打造一个强大的开发环境，是提升自身战斗力的绝佳途径！搞 iOS 开发的一定很熟悉 Xcode，作为 iOS 开发“官方唯一指定代理商”（此刻应有 <a href="https://zh.wikipedia.org/wiki/XcodeGhost">XcodeGhost 事件</a> 飘过），她还是很傲娇的！</p><span id="more"></span><p>Xcode 并没有像 <a href="https://zh.wikipedia.org/wiki/Eclipse">Eclipse</a> 一样强大的拓展性，但好在她还提供了一个不错的拓展方式——插件。<a href="https://github.com/">Github</a> 上有很多非常不错的开源插件，像 <a href="https://github.com/onevcat/VVDocumenter-Xcode">VVDocumenter</a>、<a href="https://github.com/FuzzyAutocomplete/FuzzyAutocompletePlugin">FuzzyAutocompletePlugin</a> 等等，极其好用，给赞给赞！</p><p>但是自 Xcode 6.0 开始苹果就搞了个新的机制，大致呢就是插件需要声明支持的 Xcode 版本，不然 Xcode 不加载该插件。怎么声明呢？通过一个叫 DVTPlugInCompatibilityUUID 的东东讲下即可。我们大可等待作者把相应版本 Xcode 的 UUID 加入插件支持版本列表，也可以自己动手加进去，毕竟作者也很忙。。。<br>下面简单讲一下加入方法。（突然有种破解的感觉捏）</p><h2 id="加入方法"><a href="#加入方法" class="headerlink" title="加入方法"></a>加入方法</h2><ol><li><p>获取安装的 Xcode 的 UUID。<br>  打开 Finder，依次进入 应用程序 -&gt; Xcode -&gt; 右击“显示包内容” -&gt; Contents -&gt; 打开 Info.plist，拷贝 Key 为 DVTPlugInCompatibilityUUID 的 Value 值。<br>  如果你没有找到，可以在下方的“参考 UUIDs”列表中找下相应版本的 Xcode UUID 号添加。</p></li><li><p>加入插件支持版本列表。<br>  下载相应插件的项目，找到项目的 info.plist 文件，用 Xcode 打开，找到 Key 为 DVTPlugInCompatibilityUUIDs 的数组，如果没有就创建一个，把拷贝的 UUID 添加进去。<br>  也可以直接用编辑器打开 info.plist 文件，同样把 UUID 拷贝相应位置即可。</p></li><li><p>⌘ + R 运行即可，搞定！别忘了重启 Xcode。</p></li></ol><h2 id="参考-UUIDs"><a href="#参考-UUIDs" class="headerlink" title="参考 UUIDs"></a>参考 UUIDs</h2><p>各版本 Xcode UUID 如下，你可以直接拷贝添加到插件项目的 info.plist 文件中：</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;DVTPlugInCompatibilityUUIDs&lt;/key&gt;</span><br><span class="line">&lt;array&gt;</span><br><span class="line">&lt;string&gt;37B30044-3B14-46BA-ABAA-F01000C27B63&lt;/string&gt; &lt;!-- 5.0      --&gt;</span><br><span class="line">&lt;string&gt;640F884E-CE55-4B40-87C0-8869546CAB7A&lt;/string&gt; &lt;!-- 5.1 DP   --&gt;</span><br><span class="line">&lt;string&gt;A2E4D43F-41F4-4FB9-BB94-7177011C9AED&lt;/string&gt; &lt;!-- 5.1      --&gt;</span><br><span class="line">&lt;string&gt;AD68E85B-441B-4301-B564-A45E4919A6AD&lt;/string&gt; &lt;!-- 6.0 Beta --&gt;</span><br><span class="line">&lt;string&gt;C4A681B0-4A26-480E-93EC-1218098B9AA0&lt;/string&gt; &lt;!-- 6.0 GM   --&gt;</span><br><span class="line">&lt;string&gt;FEC992CC-CA4A-4CFD-8881-77300FCB848A&lt;/string&gt; &lt;!-- 6.2 Beta --&gt;</span><br><span class="line">&lt;string&gt;A16FF353-8441-459E-A50C-B071F53F51B7&lt;/string&gt; &lt;!-- 6.2      --&gt;</span><br><span class="line">&lt;string&gt;992275C1-432A-4CF7-B659-D84ED6D42D3F&lt;/string&gt; &lt;!-- 6.3 Beta --&gt;</span><br><span class="line">&lt;string&gt;9F75337B-21B4-4ADC-B558-F9CADF7073A7&lt;/string&gt; &lt;!-- 6.3      --&gt;</span><br><span class="line">&lt;string&gt;E969541F-E6F9-4D25-8158-72DC3545A6C6&lt;/string&gt; &lt;!-- 6.3.2    --&gt;</span><br><span class="line">&lt;string&gt;8DC44374-2B35-4C57-A6FE-2AD66A36AAD9&lt;/string&gt; &lt;!-- 6.4 Beta --&gt;</span><br><span class="line">&lt;string&gt;5EDAC44F-8E0B-42C9-9BEF-E9C12EEC4949&lt;/string&gt; &lt;!-- 6.4 B4   --&gt;</span><br><span class="line">&lt;string&gt;7FDF5C7A-131F-4ABB-9EDC-8C5F8F0B8A90&lt;/string&gt; &lt;!-- 6.4      --&gt;</span><br><span class="line">&lt;string&gt;AABB7188-E14E-4433-AD3B-5CD791EAD9A3&lt;/string&gt; &lt;!-- 7.0 Beta --&gt;</span><br><span class="line">&lt;string&gt;0420B86A-AA43-4792-9ED0-6FE0F2B16A13&lt;/string&gt; &lt;!-- 7.0 GM   --&gt;</span><br><span class="line">&lt;string&gt;CC0D0F4F-05B3-431A-8F33-F84AFCB2C651&lt;/string&gt; &lt;!-- 7.1 Beta --&gt;</span><br><span class="line">&lt;string&gt;7265231C-39B4-402C-89E1-16167C4CC990&lt;/string&gt; &lt;!-- 7.1      --&gt;</span><br><span class="line">&lt;string&gt;9AFF134A-08DC-4096-8CEE-62A4BB123046&lt;/string&gt; &lt;!-- 7.2 Beta --&gt;</span><br><span class="line">&lt;string&gt;F41BD31E-2683-44B8-AE7F-5F09E919790E&lt;/string&gt; &lt;!-- 7.2      --&gt;</span><br><span class="line">&lt;string&gt;ACA8656B-FEA8-4B6D-8E4A-93F4C95C362C&lt;/string&gt; &lt;!-- 7.3      --&gt;</span><br><span class="line">&lt;/array&gt;</span><br></pre></td></tr></table></figure><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;blockquote class=&quot;blockquote-center&quot;&gt;工欲善其事必先利其器。&lt;/blockquote&gt;

&lt;p&gt;打造一个强大的开发环境，是提升自身战斗力的绝佳途径！搞 iOS 开发的一定很熟悉 Xcode，作为 iOS 开发“官方唯一指定代理商”（此刻应有 &lt;a href=&quot;https://zh.wikipedia.org/wiki/XcodeGhost&quot;&gt;XcodeGhost 事件&lt;/a&gt; 飘过），她还是很傲娇的！&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="Xcode" scheme="https://blog.leoxv.com/categories/iOS/Xcode/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="Xcode" scheme="https://blog.leoxv.com/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>Why Coding?</title>
    <link href="https://blog.leoxv.com/2016/03/11/Why-Coding/"/>
    <id>https://blog.leoxv.com/2016/03/11/Why-Coding/</id>
    <published>2016-03-11T10:22:58.000Z</published>
    <updated>2024-04-02T05:47:09.710Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">为什么要编程？因为代码没在哪里。</blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote class=&quot;blockquote-center&quot;&gt;为什么要编程？
因为代码没在哪里。&lt;/blockquote&gt;
</summary>
      
    
    
    
    <category term="Time" scheme="https://blog.leoxv.com/categories/Time/"/>
    
    
    <category term="Time" scheme="https://blog.leoxv.com/tags/Time/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】用 Swift 来写 Swift 的方法</title>
    <link href="https://blog.leoxv.com/2016/03/07/iOS-Swifty-methods/"/>
    <id>https://blog.leoxv.com/2016/03/07/iOS-Swifty-methods/</id>
    <published>2016-03-07T09:52:23.000Z</published>
    <updated>2025-08-06T09:15:28.312Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">甩掉 Objective-C 的历史包袱，做一名纯粹的 Swift 程序员。</blockquote><span id="more"></span><p>绝大部分学习 Swift 的程序员都有一定的 Objective-C 的开发经历。在过去的时光里，很多人使用 Objective-C 开发 iOS 和 Mac 应用。如果你正在阅读这篇文章，那么你很有可能就是其中一员。我们很容易把写 Objective-C 时候的那一套心得照搬到 Swift 开发里，很容易把一些现有的习惯和想法应用到 Swift 中。但是，和 Objective-C 这个前任相比， Swift 是一门完全不同的语言，我们应该以一种全新的心态去对待它，而不应该一直带着以前的历史包袱。</p><p>目前，有很多文章对 Swift 的新特性进行讲解，比如结构体、枚举类、元祖和泛型等等。有些人甚至尝试写一些函数式编程的代码，但是今天我想谈一些更细致的内容：方法。</p><p>在 Objective-C 的论坛里，就算是方法命名这种琐碎的东西也有大量的讨论和争议。这门语言的特点之一便是命名冗长，比如 <code>performSelectorOnMainThread:withObject:waitUntilDone:</code> 或是 <code>tableView:targetIndexPathForMoveFromRowAtIndexPath:toProposedIndexPath:</code> 。对于这种命名习惯，有人喜欢，有人不喜欢，双方吵了很久，但是一直没有个结果。事实上，这个就是 Objective-C 的规范。规范是个好东西：在定下了通用的编码风格之后，协作成员可以更好地阅读彼此的代码，提高合作效率。</p><p>但是，对于 Swift 这门全新的语言来说，编码规范尚未形成，现在还是百家争鸣的阶段。那么问题又来了：撇开命名习惯不谈，就针对 Swift 这门语言来说，它有很多新的特性，可以让我们更加清晰地定义方法，而不用像 Objective-C 那样冗长。</p><p>接下来就让我们开始全新的旅程吧！</p><h2 id="冗长-≠-清晰"><a href="#冗长-≠-清晰" class="headerlink" title="冗长 ≠ 清晰"></a>冗长 ≠ 清晰</h2><p>对于冗长繁琐的 Objective-C 风格，一个常见的解释是这样可以让代码清晰易懂。他们说这样的代码可以自我解释，不用写文档大家就可以理解这个方法是用来干吗的。</p><p>好吧在一定程度上来讲，这是完全正确的。不可否认，很多方法从命名就可以知道它是用来干吗的。但是我常常发现很多 Objective-C 的方法是啰嗦而又冗长的，并不够清晰。实际上，大部分代码让本来几个词就能解释的东西变得复杂化，很多的方法并不用那么复杂。</p><p>举个例子：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[string componentsSeparatedByString:<span class="string">@&quot;\n&quot;</span>];</span><br></pre></td></tr></table></figure><p>这命名看得我也是醉了，足足27个字母，但是这真的 清 晰 吗？我知道你肯定知道这方法是干吗使的，但是假设，你不知道，对，假设你是一个小白，看到这么一堆代码，你猜猜它是干吗用的？唔它肯定是用来分离某个东西的，它需要一个字符串参数然后把它拆成了数组嗯。然后你可能根据它的上下文猜出了正确答案。但是 components 是个什么鬼？可能是指一些藏在内部的不起眼的东西？如果我第一次看到这个方法，我能猜个八九不离十，但是在看到文档之前我始终无法下定论。</p><p>不妨和 Ruby 做个比较：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string.split(<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure><p>它好短！很显然它的参数是一个字符串，然后好像做了什么分离。和上次一样，我们也只能猜个七七八八，瞄个大概95%的样子。和上面那个方法相比，这个方法我们也无法完全猜出其用意，但是单词量再多也是无济于事的。</p><h2 id="我们有办法"><a href="#我们有办法" class="headerlink" title="我们有办法"></a>我们有办法</h2><p>前面说了那么多，我希望你能理解，不管命名多么的复杂，它都无法准确的表达它的用处。如果命名清晰，那很好，确实有助于理解，但是命名终究只是一个标记而已，无法代替文档的作用。</p><p>那么接下来我们假设这样一个场景，一名年轻的 Swift 程序媛正在认真学习，然后她在人生中第一次遇到 <code>map</code> 、 <code>filter</code> 和 <code>reduce</code> 这三个家伙。光看名字她能理解这三个方法的用法吗？显然不能。当你理解它们的用处的时候再去看命名，当然是十分清晰，但是现在假设我们是第一次遇到这些方法，我们显然有点一头雾水。</p><p>但是你可以这样做：按住 option 键，点击方法名：</p><p><img src="https://cdnqiniu.leoxv.com/common2/swifty-methods-xcode-yosemite.png" alt="By https://leoxv.com"></p><p>是的就是这么简单！猜什么猜，直接按住 option 点它就行！点完之后你就可以看到方法的解释和参数的含义了，等你理解了它的用处你就会发现， <code>map</code> 的用处和 <code>arrayByEnumeratingObjectsUsingBlock</code> 这一大串的功能是一样的。简单粗暴，直接有效。</p><h2 id="“噪音”"><a href="#“噪音”" class="headerlink" title="“噪音”"></a>“噪音”</h2><p>有人说，语意清晰比语句简洁更重要。没错，他们说的很对。但是简洁不代表不清晰。中国有个成语，言简意赅，就是说的这个。复杂冗长的命名同时也带来了很多负面影响。虽然现有的工具可以自动补全，这样写起来似乎也挺轻松的。但是在阅读的时候，啰嗦繁琐的命名总归是要消耗开发者大量的时间去阅读和理解，而言简意赅的命名读起来要轻松很多。</p><p>我们再来看个简单例子，声明一个日期对象：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDate</span> *date = [<span class="built_in">NSDate</span> date];</span><br></pre></td></tr></table></figure><p>为什么我们要说这么多遍的 date ？既然从上下文来看这个 date 很显然是个日期对象，为何还要啰嗦的再说一遍？“我用日期类定义一个日期对象并用日期类的日期初始化”，这可真是磨人。而且要分号干什么？</p><p>和 Swift 比较一下：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> date <span class="operator">=</span> <span class="type">NSDate</span>()</span><br></pre></td></tr></table></figure><p>显然这明显要简单得多。在这场对比里， Swift 赢了。双方的代码都很清晰的告诉我们它们要干什么，但是后者的“噪音”更少，只暴露出了最关键的内容。这样我们需要理解的代码少了很多，阅读起来也轻松不少。</p><p>再来看下另一个例子：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="number">1.0</span> target:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(foo:) userInfo:<span class="literal">nil</span> repeats:<span class="literal">NO</span>]</span><br></pre></td></tr></table></figure><p>请盯着 <code>scheduledTimerWithTimeInterval</code> 这个方法，凝视一分钟。为什么要再说一遍 <code>timer</code> ？都已经说了，是 <code>NSTimer</code> 的方法，我们还能 <code>schedule</code> 别的东西不成？而且 <code>interval</code> 已经足够清晰了，为什么还要多此一举的用 <code>time interval</code> ？</p><p>再看看 Swift ：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSTimer</span>.schedule(interval: <span class="number">1.0</span>, <span class="operator">...</span>)</span><br></pre></td></tr></table></figure><p>注意我把参数里的 <code>with</code> 移除了，然后用了 <code>interval</code> 作为参数标记。 Objective-C 总是想把方法名搞成个句子，但是现实是编程追求的是简洁和清晰，不可能像现实生活那样说话。 (如果你继续抱有这个想法，恭喜你，你和 AppleScript 想法一致，当然，没人喜欢 AppleScript )</p><p>不妨引用一下 Swift 的设计者 <a href="https://devforums.apple.com/message/1023082#1023082">Chris Lattner</a> 的一段话：</p><blockquote><p>可选链中的问号 (?) 的目的是让代码更清晰。很多人其实误解了 Swift ：它的目的，不是缩短语句减少单词量，而是为了移除多于的东西，保留最核心的内容，从而让代码尽量清晰明确。</p></blockquote><p>这段话看你怎么理解了，但是我是这么解读的：我并不是为了简洁而简洁，我是通过移除“噪音”达到言简意赅的目的。</p><h2 id="此处有争议"><a href="#此处有争议" class="headerlink" title="此处有争议"></a>此处有争议</h2><p>编程语言各有各的特色，各有各的习惯，切忌把命名习惯应用到所有的语言里。有些方法是广为流传的，当然也有一些属于冷门招数，鲜为人知。</p><p>想一想这些函数和方法的命名：<code>map</code> 、 <code>reduce</code> 、 <code>stride</code> 、 <code>splice</code> 。他们都是简短且易于使用的。可能第一眼看到不太能理解，但是这问题不大，因为它们都是标准类库的方法，你会用到很多很多次，抬头不见低头见，所以虽然第一次接触的时候需要一些学习的成本，但是从长远来看是利大于弊的。</p><p>但是从另一个角度来说，你也会有很多你自己应用的代码，你显然不想把你代码里的方法定义成这种单个单词的名字。毕竟在你的整个代码库中，它们可能只会被调用一两次。它们是为了完成特定的任务而存在的，当你用到其他类的时候，你就完全忘了这些代码。</p><p>我希望你能理解我说的内容。如果你在写一个类库或者框架的代码，或者是一些要被大范围使用的基类，那么可以用一些简洁的命名。如果你是在写应用里的普通代码，只会在一定范围里用到的而且使用频率并不频繁，那么你需要更加清晰更加 <a href="https://signalvnoise.com/posts/3531-intention-revealing-methods">具有描述性</a> 的代码。</p><h2 id="到底加不加标签"><a href="#到底加不加标签" class="headerlink" title="到底加不加标签"></a>到底加不加标签</h2><p>我觉得方法内的参数标签是个好东西 - 在函数调用的时候你可以直接理解参数的含义，而不是根据参数的位置去猜测。</p><p>你可能会据理力争，“从上下文来推测的话，不用参数标签我就能看懂参数的意思啊，而且写起来的时候我们有自动补全也很方便”。或许是这样的，不过不像我前面说的那些内容，参数标签是 Swift 的语言风格，因为这门语言本身就希望你去用它们，并且如果不用的话需要做很多额外的工作。</p><p>不过我认为有些场景确实不用标签更合理，比如下面这个：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CGPoint</span>(x: <span class="number">10</span>, y: <span class="number">10</span>)</span><br><span class="line"><span class="type">CGRect</span>(x: <span class="number">5</span>, y: <span class="number">5</span>, width: <span class="number">100</span>, height: <span class="number">50</span>)</span><br></pre></td></tr></table></figure><p>我觉得在这里，标签有点多余了，甚至有点影响视线。我们整天和坐标打交道，参数的顺序从来就没变过， x 总是在 y 前面， width 总是在 height 前面，如果不用标签的话其实也不错：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">CGPoint</span>(<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line"><span class="type">CGRect</span>(<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>, <span class="number">50</span>)</span><br></pre></td></tr></table></figure><p>很显然我们都明白这些参数是什么意思，加上标签反而把事情搞复杂了。</p><p>另一方面，有些情况下即使标签本身没有含义，但是加上之后会变得更加易于理解：</p><p>以 stride 为例：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stride</span>(from: <span class="number">1</span>, through: <span class="number">100</span>, by: <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>如果没有这些标签，我们很难在没有文档的前提下搞清楚这些参数的含义。</p><h2 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h2><p>下面是在 Mac 下新建一个 window 对象的方法：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">NSWindow</span> alloc] initWithContentRect:frame styleMask:<span class="built_in">NSTitledWindowMask</span> backing:<span class="built_in">NSBackingStoreBuffered</span> defer:<span class="literal">NO</span> screen:<span class="literal">nil</span>]</span><br></pre></td></tr></table></figure><p>那么问题来了：在这一串方法中，唯一有意义的东西是内容的 frame 。其他的所有东西都改靠边站：他们太吵了！</p><p>Swift 很好地解决了这个问题，你可以设置参数的默认值，所以你可以这样定义初始化方法：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">init</span>(<span class="params">contentRect</span>: <span class="type">NSRect</span>, <span class="params">styleMask</span>: <span class="type">NSWindowMask</span> <span class="operator">=</span> <span class="type">NSWindowMask</span>.<span class="type">Titled</span>, <span class="params">backing</span>: <span class="type">NSBackingStoreType</span> <span class="operator">=</span> .<span class="type">Buffered</span>, <span class="params">defer</span>: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span>, <span class="params">screen</span>: <span class="type">NSScreen</span>? <span class="operator">=</span> <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure><p>于是我们可以这样简短的初始化：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSWindow</span>(contentRect: frame)</span><br></pre></td></tr></table></figure><p>如果你需要添加其他参数，和往常一样加在里面即可。</p><p>Swift 中有个挺赞的特性，如果你有一串可选的参数，而你想设置第四个参数是没有默认值的，你不需要把前三个参数都写出来，有默认值的参数在 Swift 中是顺序无关的。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>啰嗦了这么多，你并不一定完全赞同我的观点，这也不是我的目的。我希望的是，你在写 Swift 的时候可以保持一个开放的心态，尽情探索这门有趣的语言，能够和新特性与新风格一起愉快的玩耍，享受编程的乐趣。如果你有时间，可以看看 Ruby 和 Haskell ，看看它们是怎么工作的。千万别听什么专家的话，因为这个领域根本就没有专家。当然，我也不是，括弧笑。</p><p>尝试走一些非主流的路线。记住，没有什么习惯，没有什么官方编程风格。我亲爱的读者朋友，你就是那个定义规则的人，在这门语言里，你就是专家，你就是主人。走自己的路，让别人说去吧。</p><h2 id="关于-Swift-的资源"><a href="#关于-Swift-的资源" class="headerlink" title="关于 Swift 的资源"></a>关于 Swift 的资源</h2><p><a href="http://radex.io/swift/resources/">Great Swift resources</a></p><hr><p>原文地址：<a href="http://radex.io/swift/methods/">Swifty methods</a><br>翻译：<a href="http://blog.callmewhy.com/">Why’s Blog</a></p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;blockquote class=&quot;blockquote-center&quot;&gt;甩掉 Objective-C 的历史包袱，做一名纯粹的 Swift 程序员。&lt;/blockquote&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="Swift" scheme="https://blog.leoxv.com/categories/iOS/Swift/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="Swift" scheme="https://blog.leoxv.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】Apple Pay 开发指南（一）</title>
    <link href="https://blog.leoxv.com/2016/03/04/iOS-Apple-Pay-Developer-Guide-1/"/>
    <id>https://blog.leoxv.com/2016/03/04/iOS-Apple-Pay-Developer-Guide-1/</id>
    <published>2016-03-04T04:47:27.000Z</published>
    <updated>2025-08-06T09:15:28.355Z</updated>
    
    <content type="html"><![CDATA[<!--<img src="" class="full-image" />--><p><img src="https://cdnqiniu.leoxv.com/common2/Apple_Pay_Payment_Mark.jpg" alt="By https://leoxv.com"></p><p>在发布近两年、历经各种周折之后，苹果公司的 Apple Pay 移动支付服务终于在2016年2月18日来到了中国大陆。<br>对中国用户来说，移动支付其实已经不是什么陌生事物，抢红包和支付宝早完成用户启蒙。但与这两者有区别的是，Apple Pay 只是苹果搭建的一个支付服务，它链接银行、店面及用户，但又不像支付宝那样把钱存在自己这，这是银联为何会疯狗一样帮推的原因之一。</p><span id="more"></span><p>作为开发者，这事还是值得高兴会的，高大上啊，不过代价是又要学习新知识了。。。<br>不过还好，看了看 Apple Pay 的文档，发现事情并没有那么可悲，这玩意还是比较容易搞的。<br>Swift 来一发好了。</p><h2 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h2><ol><li>新建项目，打开 Apple Pay 的开关：</li></ol><p>  <img src="https://cdnqiniu.leoxv.com/common2/ApplePay01.png" alt="By https://leoxv.com"></p><ol start="2"><li>这时你会发现 Merchant IDs 下面什么都没有，正常，点 + 号，按提示创建一个 Merchant ID：</li></ol><p>  <img src="https://cdnqiniu.leoxv.com/common2/ApplePay02.png" alt="By https://leoxv.com"></p><p>  当然你也可以前往 <a href="https://developer.apple.com/membercenter">开发者中心</a> 创建：</p><p>  <img src="https://cdnqiniu.leoxv.com/common2/ApplePay03.png" alt="By https://leoxv.com"></p><ol start="3"><li>创建好了就是这个样子的：</li></ol><p>  <img src="https://cdnqiniu.leoxv.com/common2/ApplePay04.png" alt="By https://leoxv.com"></p><ol start="4"><li>打开 ViewController.swift，开心地敲代码吧~<br>  完整代码如下，注释比较齐全：</li></ol>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ViewController.swift</span></span><br><span class="line"><span class="comment">//  ApplePayDemo</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Leo on 16/3/4.</span></span><br><span class="line"><span class="comment">//  Copyright © 2016年 Leo. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> PassKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ViewController</span>: <span class="title class_">UIViewController</span>, <span class="title class_">PKPaymentAuthorizationViewControllerDelegate</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">func</span> <span class="title function_">viewDidLoad</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> iconImage <span class="operator">=</span> <span class="type">UIImage</span>.<span class="keyword">init</span>(named: <span class="string">&quot;Apple_Pay_Payment_Mark&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> payBtn <span class="operator">=</span> <span class="type">UIButton</span>.<span class="keyword">init</span>(frame: <span class="type">CGRectMake</span>((<span class="type">UIScreen</span>.mainScreen().bounds.size.width <span class="operator">-</span> <span class="number">100.0</span>) <span class="operator">*</span> <span class="number">0.5</span>, <span class="number">200</span>, <span class="number">100.0</span>, <span class="number">64.0</span>))</span><br><span class="line">        payBtn.setBackgroundImage(iconImage, forState: <span class="type">UIControlState</span>.<span class="type">Normal</span>)</span><br><span class="line">        payBtn.addTarget(<span class="keyword">self</span>, action: <span class="string">&quot;payBtnClicked&quot;</span>, forControlEvents: <span class="type">UIControlEvents</span>.<span class="type">TouchUpInside</span>)</span><br><span class="line">        view.addSubview(payBtn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     点击了支付按钮</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">payBtnClicked</span>() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检查用户是否支持 Apple Pay</span></span><br><span class="line">        <span class="keyword">if</span> <span class="operator">!</span><span class="type">PKPaymentAuthorizationViewController</span>.canMakePayments() &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;设备不支持 Apple Pay&quot;</span>)</span><br><span class="line">            <span class="keyword">let</span> alertView <span class="operator">=</span> <span class="type">UIAlertView</span>.<span class="keyword">init</span>(</span><br><span class="line">                title: <span class="string">&quot;设备不支持 Apple Pay&quot;</span>,</span><br><span class="line">                message: <span class="literal">nil</span>,</span><br><span class="line">                delegate: <span class="literal">nil</span>,</span><br><span class="line">                cancelButtonTitle: <span class="string">&quot;确定&quot;</span>)</span><br><span class="line">            alertView.show()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 检查是否支持用户卡片</span></span><br><span class="line">        <span class="keyword">var</span> paymentNetworks: [<span class="type">String</span>]<span class="operator">!</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">#available</span>(<span class="keyword">iOS</span> <span class="number">9.2</span>, <span class="operator">*</span>) &#123;</span><br><span class="line">            paymentNetworks <span class="operator">=</span> [</span><br><span class="line">                <span class="type">PKPaymentNetworkVisa</span>,</span><br><span class="line">                <span class="type">PKPaymentNetworkMasterCard</span>,</span><br><span class="line">                <span class="type">PKPaymentNetworkChinaUnionPay</span>]  <span class="comment">// 银联卡要求 iOS 9.2 +</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            paymentNetworks <span class="operator">=</span> [</span><br><span class="line">                <span class="type">PKPaymentNetworkVisa</span>,</span><br><span class="line">                <span class="type">PKPaymentNetworkMasterCard</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="operator">!</span><span class="type">PKPaymentAuthorizationViewController</span>.canMakePaymentsUsingNetworks(paymentNetworks) &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;不支持的卡片类型。目前仅支持 Visa、MasterCard、中国银联卡。&quot;</span>)</span><br><span class="line">            <span class="keyword">let</span> alertView <span class="operator">=</span> <span class="type">UIAlertView</span>.<span class="keyword">init</span>(</span><br><span class="line">                title: <span class="string">&quot;不支持的卡片类型&quot;</span>,</span><br><span class="line">                message: <span class="string">&quot;目前仅支持 Visa、MasterCard、中国银联卡。&quot;</span>,</span><br><span class="line">                delegate: <span class="literal">nil</span>,</span><br><span class="line">                cancelButtonTitle: <span class="string">&quot;确定&quot;</span>)</span><br><span class="line">            alertView.show()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建付款请求</span></span><br><span class="line">        <span class="keyword">let</span> request                  <span class="operator">=</span> <span class="type">PKPaymentRequest</span>()</span><br><span class="line">        request.countryCode          <span class="operator">=</span> <span class="string">&quot;CN&quot;</span></span><br><span class="line">        request.currencyCode         <span class="operator">=</span> <span class="string">&quot;CNY&quot;</span></span><br><span class="line">        request.supportedNetworks    <span class="operator">=</span> paymentNetworks</span><br><span class="line">        request.merchantIdentifier   <span class="operator">=</span> <span class="string">&quot;merchant.me.leodev.ApplePayDemo&quot;</span></span><br><span class="line">        request.merchantCapabilities <span class="operator">=</span> <span class="type">PKMerchantCapability</span>.<span class="type">Capability3DS</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加付款项目</span></span><br><span class="line">        <span class="keyword">let</span> item1 <span class="operator">=</span> <span class="type">PKPaymentSummaryItem</span>.<span class="keyword">init</span>(label: <span class="string">&quot;美酒&quot;</span>, amount: <span class="type">NSDecimalNumber</span>.<span class="keyword">init</span>(double: <span class="number">99.99</span>))</span><br><span class="line">        <span class="keyword">let</span> item2 <span class="operator">=</span> <span class="type">PKPaymentSummaryItem</span>.<span class="keyword">init</span>(label: <span class="string">&quot;咖啡&quot;</span>, amount: <span class="type">NSDecimalNumber</span>.<span class="keyword">init</span>(double: <span class="number">29.99</span>))</span><br><span class="line">        <span class="keyword">let</span> item3 <span class="operator">=</span> <span class="type">PKPaymentSummaryItem</span>.<span class="keyword">init</span>(label: <span class="string">&quot;小费&quot;</span>, amount: <span class="type">NSDecimalNumber</span>.<span class="keyword">init</span>(double: <span class="number">19.99</span>))</span><br><span class="line">        <span class="keyword">let</span> item4 <span class="operator">=</span> <span class="type">PKPaymentSummaryItem</span>.<span class="keyword">init</span>(label: <span class="string">&quot;超哥&quot;</span>, amount: <span class="type">NSDecimalNumber</span>.<span class="keyword">init</span>(double: <span class="number">149.97</span>))</span><br><span class="line">        request.paymentSummaryItems <span class="operator">=</span> [item1, item2, item3, item4]</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化 PKPaymentAuthorizationViewController 并显示</span></span><br><span class="line">        <span class="keyword">let</span> authViewController <span class="operator">=</span> <span class="type">PKPaymentAuthorizationViewController</span>.<span class="keyword">init</span>(paymentRequest: request)</span><br><span class="line">        authViewController.delegate <span class="operator">=</span> <span class="keyword">self</span></span><br><span class="line">        presentViewController(authViewController, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - PKPaymentAuthorizationViewControllerDelegate</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    处理交易数据，并把状态返回给应用</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    - parameter controller: 当前的 PKPaymentAuthorizationViewController</span></span><br><span class="line"><span class="comment">    - parameter payment:    payment</span></span><br><span class="line"><span class="comment">    - parameter completion: 返回</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">paymentAuthorizationViewController</span>(<span class="params">controller</span>: <span class="type">PKPaymentAuthorizationViewController</span>, <span class="params">didAuthorizePayment</span> <span class="params">payment</span>: <span class="type">PKPayment</span>, <span class="params">completion</span>: (<span class="type">PKPaymentAuthorizationStatus</span>) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> paymentToken <span class="operator">=</span> payment.token</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(paymentToken)</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 超哥交易成功了</span></span><br><span class="line">        completion(.<span class="type">Success</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 交易成功应该 push 个交易成功的界面什么的</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     支付完成，隐藏 PKPaymentAuthorizationViewController</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     - parameter controller: 当前的 PKPaymentAuthorizationViewController</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">func</span> <span class="title function_">paymentAuthorizationViewControllerDidFinish</span>(<span class="params">controller</span>: <span class="type">PKPaymentAuthorizationViewController</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.dismissViewControllerAnimated(<span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li><strong>收工。</strong></li></ol><p>想想支付宝和微信支付， Pay 真 TM 简单啊。。。</p><p><strong>源码</strong>：<a href="https://github.com/iTofu/ApplePayDemo">GitHub</a></p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p><img src="https://cdnqiniu.leoxv.com/common2/ApplePay05.png" alt="By https://leoxv.com"></p><p><img src="https://cdnqiniu.leoxv.com/common2/ApplePay06.png" alt="By https://leoxv.com"></p><p><img src="https://cdnqiniu.leoxv.com/common2/ApplePay07.png" alt="By https://leoxv.com"></p><h2 id="附一-currencyCode"><a href="#附一-currencyCode" class="headerlink" title="附一 currencyCode"></a>附一 currencyCode</h2><p>ADP,<br>AED,<br>AFA,<br>AFN,<br>ALK,<br>ALL,<br>AMD,<br>ANG,<br>AOA,<br>AOK,<br>AON,<br>AOR,<br>ARA,<br>ARL,<br>ARM,<br>ARP,<br>ARS,<br>ATS,<br>AUD,<br>AWG,<br>AZM,<br>AZN,<br>BAD,<br>BAM,<br>BAN,<br>BBD,<br>BDT,<br>BEC,<br>BEF,<br>BEL,<br>BGL,<br>BGM,<br>BGN,<br>BGO,<br>BHD,<br>BIF,<br>BMD,<br>BND,<br>BOB,<br>BOL,<br>BOP,<br>BOV,<br>BRB,<br>BRC,<br>BRE,<br>BRL,<br>BRN,<br>BRR,<br>BRZ,<br>BSD,<br>BTN,<br>BUK,<br>BWP,<br>BYB,<br>BYR,<br>BZD,<br>CAD,<br>CDF,<br>CHE,<br>CHF,<br>CHW,<br>CLE,<br>CLF,<br>CLP,<br>CNX,<br>CNY,<br>COP,<br>COU,<br>CRC,<br>CSD,<br>CSK,<br>CUC,<br>CUP,<br>CVE,<br>CYP,<br>CZK,<br>DDM,<br>DEM,<br>DJF,<br>DKK,<br>DOP,<br>DZD,<br>ECS,<br>ECV,<br>EEK,<br>EGP,<br>EQE,<br>ERN,<br>ESA,<br>ESB,<br>ESP,<br>ETB,<br>EUR,<br>FIM,<br>FJD,<br>FKP,<br>FRF,<br>GBP,<br>GEK,<br>GEL,<br>GHC,<br>GHS,<br>GIP,<br>GMD,<br>GNF,<br>GNS,<br>GQE,<br>GRD,<br>GTQ,<br>GWE,<br>GWP,<br>GYD,<br>HKD,<br>HNL,<br>HRD,<br>HRK,<br>HTG,<br>HUF,<br>IDR,<br>IEP,<br>ILP,<br>ILR,<br>ILS,<br>INR,<br>IQD,<br>IRR,<br>ISJ,<br>ISK,<br>ITL,<br>JMD,<br>JOD,<br>JPY,<br>KES,<br>KGS,<br>KHR,<br>KMF,<br>KPW,<br>KRH,<br>KRO,<br>KRW,<br>KWD,<br>KYD,<br>KZT,<br>LAK,<br>LBP,<br>LKR,<br>LRD,<br>LSL,<br>LSM,<br>LTL,<br>LTT,<br>LUC,<br>LUF,<br>LUL,<br>LVL,<br>LVR,<br>LYD,<br>MAD,<br>MAF,<br>MCF,<br>MDC,<br>MDL,<br>MGA,<br>MGF,<br>MKD,<br>MKN,<br>MLF,<br>MMK,<br>MNT,<br>MOP,<br>MRO,<br>MTL,<br>MTP,<br>MUR,<br>MVP,<br>MVR,<br>MWK,<br>MXN,<br>MXP,<br>MXV,<br>MYR,<br>MZE,<br>MZM,<br>MZN,<br>NAD,<br>NGN,<br>NIC,<br>NIO,<br>NLG,<br>NOK,<br>NPR,<br>NZD,<br>OMR,<br>PAB,<br>PEI,<br>PEN,<br>PES,<br>PGK,<br>PHP,<br>PKR,<br>PLN,<br>PLZ,<br>PTE,<br>PYG,<br>QAR,<br>RHD,<br>ROL,<br>RON,<br>RSD,<br>RUB,<br>RUR,<br>RWF,<br>SAR,<br>SBD,<br>SCR,<br>SDD,<br>SDG,<br>SDP,<br>SEK,<br>SGD,<br>SHP,<br>SIT,<br>SKK,<br>SLL,<br>SOS,<br>SRD,<br>SRG,<br>SSP,<br>STD,<br>SUR,<br>SVC,<br>SYP,<br>SZL,<br>THB,<br>TJR,<br>TJS,<br>TMM,<br>TMT,<br>TND,<br>TOP,<br>TPE,<br>TRL,<br>TRY,<br>TTD,<br>TWD,<br>TZS,<br>UAH,<br>UAK,<br>UGS,<br>UGX,<br>USD,<br>USN,<br>USS,<br>UYI,<br>UYP,<br>UYU,<br>UZS,<br>VEB,<br>VEF,<br>VND,<br>VNN,<br>VUV,<br>WST,<br>XAF,<br>XAG,<br>XAU,<br>XBA,<br>XBB,<br>XBC,<br>XBD,<br>XCD,<br>XDR,<br>XEU,<br>XFO,<br>XFU,<br>XOF,<br>XPD,<br>XPF,<br>XPT,<br>XRE,<br>XSU,<br>XTS,<br>XUA,<br>XXX,<br>YDD,<br>YER,<br>YUD,<br>YUM,<br>YUN,<br>YUR,<br>ZAL,<br>ZAR,<br>ZMK,<br>ZMW,<br>ZRN,<br>ZRZ,<br>ZWL,<br>ZWR,<br>ZWD</p><h2 id="附二-countryCode"><a href="#附二-countryCode" class="headerlink" title="附二 countryCode"></a>附二 countryCode</h2><p>AD,<br>AE,<br>AF,<br>AG,<br>AI,<br>AL,<br>AM,<br>AO,<br>AQ,<br>AR,<br>AS,<br>AT,<br>AU,<br>AW,<br>AX,<br>AZ,<br>BA,<br>BB,<br>BD,<br>BE,<br>BF,<br>BG,<br>BH,<br>BI,<br>BJ,<br>BL,<br>BM,<br>BN,<br>BO,<br>BQ,<br>BR,<br>BS,<br>BT,<br>BV,<br>BW,<br>BY,<br>BZ,<br>CA,<br>CC,<br>CD,<br>CF,<br>CG,<br>CH,<br>CI,<br>CK,<br>CL,<br>CM,<br>CN,<br>CO,<br>CR,<br>CU,<br>CV,<br>CW,<br>CX,<br>CY,<br>CZ,<br>DE,<br>DJ,<br>DK,<br>DM,<br>DO,<br>DZ,<br>EC,<br>EE,<br>EG,<br>EH,<br>ER,<br>ES,<br>ET,<br>FI,<br>FJ,<br>FK,<br>FM,<br>FO,<br>FR,<br>GA,<br>GB,<br>GD,<br>GE,<br>GF,<br>GG,<br>GH,<br>GI,<br>GL,<br>GM,<br>GN,<br>GP,<br>GQ,<br>GR,<br>GS,<br>GT,<br>GU,<br>GW,<br>GY,<br>HK,<br>HM,<br>HN,<br>HR,<br>HT,<br>HU,<br>ID,<br>IE,<br>IL,<br>IM,<br>IN,<br>IO,<br>IQ,<br>IR,<br>IS,<br>IT,<br>JE,<br>JM,<br>JO,<br>JP,<br>KE,<br>KG,<br>KH,<br>KI,<br>KM,<br>KN,<br>KP,<br>KR,<br>KW,<br>KY,<br>KZ,<br>LA,<br>LB,<br>LC,<br>LI,<br>LK,<br>LR,<br>LS,<br>LT,<br>LU,<br>LV,<br>LY,<br>MA,<br>MC,<br>MD,<br>ME,<br>MF,<br>MG,<br>MH,<br>MK,<br>ML,<br>MM,<br>MN,<br>MO,<br>MP,<br>MQ,<br>MR,<br>MS,<br>MT,<br>MU,<br>MV,<br>MW,<br>MX,<br>MY,<br>MZ,<br>NA,<br>NC,<br>NE,<br>NF,<br>NG,<br>NI,<br>NL,<br>NO,<br>NP,<br>NR,<br>NU,<br>NZ,<br>OM,<br>PA,<br>PE,<br>PF,<br>PG,<br>PH,<br>PK,<br>PL,<br>PM,<br>PN,<br>PR,<br>PS,<br>PT,<br>PW,<br>PY,<br>QA,<br>RE,<br>RO,<br>RS,<br>RU,<br>RW,<br>SA,<br>SB,<br>SC,<br>SD,<br>SE,<br>SG,<br>SH,<br>SI,<br>SJ,<br>SK,<br>SL,<br>SM,<br>SN,<br>SO,<br>SR,<br>SS,<br>ST,<br>SV,<br>SX,<br>SY,<br>SZ,<br>TC,<br>TD,<br>TF,<br>TG,<br>TH,<br>TJ,<br>TK,<br>TL,<br>TM,<br>TN,<br>TO,<br>TR,<br>TT,<br>TV,<br>TW,<br>TZ,<br>UA,<br>UG,<br>UM,<br>US,<br>UY,<br>UZ,<br>VA,<br>VC,<br>VE,<br>VG,<br>VI,<br>VN,<br>VU,<br>WF,<br>WS,<br>YE,<br>YT,<br>ZA,<br>ZM,<br>ZW</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;!--&lt;img src=&quot;&quot; class=&quot;full-image&quot; /&gt;--&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/Apple_Pay_Payment_Mark.jpg&quot; alt=&quot;By https://leoxv.com&quot;&gt;&lt;/p&gt;
&lt;p&gt;在发布近两年、历经各种周折之后，苹果公司的 Apple Pay 移动支付服务终于在2016年2月18日来到了中国大陆。&lt;br&gt;对中国用户来说，移动支付其实已经不是什么陌生事物，抢红包和支付宝早完成用户启蒙。但与这两者有区别的是，Apple Pay 只是苹果搭建的一个支付服务，它链接银行、店面及用户，但又不像支付宝那样把钱存在自己这，这是银联为何会疯狗一样帮推的原因之一。&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="Apple Pay" scheme="https://blog.leoxv.com/categories/iOS/Apple-Pay/"/>
    
    <category term="Swift" scheme="https://blog.leoxv.com/categories/iOS/Apple-Pay/Swift/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="Apple Pay" scheme="https://blog.leoxv.com/tags/Apple-Pay/"/>
    
    <category term="Swift" scheme="https://blog.leoxv.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>【Mac】终端常见的 Vim 命令</title>
    <link href="https://blog.leoxv.com/2016/02/22/Mac-Terminal-Commonly-Used-Vim-Commands/"/>
    <id>https://blog.leoxv.com/2016/02/22/Mac-Terminal-Commonly-Used-Vim-Commands/</id>
    <published>2016-02-22T02:28:52.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="https://cdnqiniu.leoxv.com/common2/macbook03.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/macbook03.png" alt="macbook"></p><p>Mac 是一款开发利器，对开发者是相当友好的。<br>比如系统自带终端（Terminal）对 vim 命令的支持，就大幅提升了日常开发的便捷度。</p><span id="more"></span><h2 id="一、常见命令"><a href="#一、常见命令" class="headerlink" title="一、常见命令"></a>一、常见命令</h2><ol><li><code>pwd</code><br>  显示当前目录</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>pwd</span><br><span class="line">/<span class="title class_">Users</span>/<span class="title class_">Leo</span></span><br></pre></td></tr></table></figure></p><ol start="2"><li><p>显示文件列表命令：</p></li><li><p><code>ls</code><br>显示当前目录下的所有文件</p></li></ol><pre><code>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>ls</span><br><span class="line"><span class="title class_">Applications</span><span class="title class_">Downloads</span><span class="title class_">Music</span>gitosis-admin</span><br><span class="line"><span class="title class_">Desktop</span><span class="title class_">Library</span><span class="title class_">Pictures</span>node_modules</span><br><span class="line"><span class="title class_">Documents</span><span class="title class_">Movies</span><span class="title class_">Public</span></span><br></pre></td></tr></table></figure></code></pre><ol start="2"><li><code>ls -al</code><br>详细显示当前目录下的所有文件</li></ol><pre><code>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>ls -al</span><br><span class="line">total <span class="number">144</span></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line">drwx------+   <span class="number">7</span> <span class="title class_">Leo</span>   staff    <span class="number">238</span>  <span class="number">2</span> <span class="number">19</span> <span class="number">19</span><span class="symbol">:</span><span class="number">00</span> <span class="title class_">Pictures</span></span><br><span class="line">drwxr-xr-x+   <span class="number">6</span> <span class="title class_">Leo</span>   staff    <span class="number">204</span> <span class="number">12</span> <span class="number">19</span> <span class="number">17</span><span class="symbol">:</span><span class="number">58</span> <span class="title class_">Public</span></span><br><span class="line">drwxr-xr-x    <span class="number">5</span> <span class="title class_">Leo</span>   staff    <span class="number">170</span>  <span class="number">1</span>  <span class="number">8</span> <span class="number">13</span><span class="symbol">:</span><span class="number">02</span> gitosis-admin</span><br><span class="line">drwxr-xr-x    <span class="number">2</span> <span class="title class_">Leo</span>   staff     <span class="number">68</span> <span class="number">12</span> <span class="number">30</span> <span class="number">18</span><span class="symbol">:</span><span class="number">04</span> node_modules</span><br></pre></td></tr></table></figure></code></pre><ol start="3"><li><code>ls -G</code><br>黑&#x2F;白色的表示普通文件<br>蓝色的表示文件夹或者目录<br>红色表示可执行程序</li></ol><pre><code>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>ls -G</span><br><span class="line"><span class="title class_">Applications</span>  <span class="title class_">Downloads</span>     <span class="title class_">Music</span>         gitosis-admin</span><br><span class="line"><span class="title class_">Desktop</span>       <span class="title class_">Library</span>       <span class="title class_">Pictures</span>      node_modules</span><br><span class="line"><span class="title class_">Documents</span>     <span class="title class_">Movies</span>        <span class="title class_">Public</span></span><br></pre></td></tr></table></figure>不截图了哈，在终端中是有颜色的。</code></pre><ol start="4"><li><p>你可以结合多个参数使用 ls 命令，如 <code>ls -G -al</code> 会详细显示所有文件并颜色处理。</p></li><li><p><code>cd</code><br>  进入或者退出某个目录(文件夹)</p></li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>cd <span class="title class_">Library</span>/  <span class="comment"># 进入 Library 目录</span></span><br><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:Library</span> <span class="title class_">Leo</span><span class="variable">$</span></span><br><span class="line"><span class="variable"></span></span><br><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:Library</span> <span class="title class_">Leo</span><span class="variable">$ </span>cd ..  <span class="comment"># 退出 Library 目录 / 返回父目录</span></span><br><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span>$</span><br></pre></td></tr></table></figure></p><ol start="4"><li><code>mkdir</code><br>  创建文件夹</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="title class_">MyProject</span></span><br></pre></td></tr></table></figure></p><ol start="5"><li><code>touch</code><br>  创建新文件</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch <span class="number">1</span>.txt</span><br></pre></td></tr></table></figure></p><ol start="6"><li><code>cp</code><br>  拷贝</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把 1.txt 拷贝到 MyProject 目录</span></span><br><span class="line">cp <span class="number">1</span>.txt  <span class="title class_">MyProject</span>           <span class="comment"># 相对路径，拷贝到当前目录下的 MyProject 目录</span></span><br><span class="line">cp <span class="number">1</span>.txt /<span class="title class_">Users</span>/<span class="title class_">Leo</span>/<span class="title class_">MyProject</span> <span class="comment"># 绝对路径</span></span><br></pre></td></tr></table></figure></p><ol start="7"><li><code>rm</code><br>  删除命令</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm <span class="number">1</span>.txt          <span class="comment"># 删除文件 1.txt</span></span><br><span class="line">rm -rf <span class="title class_">MyProject</span>  <span class="comment"># 删除目录 MyProject</span></span><br></pre></td></tr></table></figure></p><ol start="8"><li><code>mv</code><br>  改名和移动</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv <span class="number">1</span>.txt <span class="number">2</span>.txt      <span class="comment"># 改名，把 1.txt 重命名为 2.txt</span></span><br><span class="line">mv <span class="number">1</span>.txt <span class="title class_">MyProject</span>  <span class="comment"># 移动，把 1.txt 移动到当前目录下的 MyProject 目录</span></span><br></pre></td></tr></table></figure></p><ol start="9"><li>网络命令：</li><li><code>ifconfig</code><br>查看当前网络配置，Windows 系统下是 <code>ipconfig</code></li></ol><pre><code>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>ifconfig</span><br><span class="line"><span class="symbol">lo0:</span> flags=<span class="number">8049</span>&lt;<span class="variable constant_">UP</span>,<span class="variable constant_">LOOPBACK</span>,<span class="variable constant_">RUNNING</span>,<span class="variable constant_">MULTICAST</span>&gt; mtu <span class="number">16384</span></span><br><span class="line">options=<span class="number">3</span>&lt;<span class="variable constant_">RXCSUM</span>,<span class="variable constant_">TXCSUM</span>&gt;</span><br><span class="line">inet6 <span class="symbol">:</span><span class="symbol">:</span><span class="number">1</span> prefixlen <span class="number">128</span></span><br><span class="line">inet <span class="number">127.0</span>.<span class="number">0.1</span> netmask <span class="number">0xff000000</span></span><br><span class="line">inet6 fe80::<span class="number">1</span>%lo0 prefixlen <span class="number">64</span> scopeid <span class="number">0x1</span></span><br><span class="line">nd6 options=<span class="number">1</span>&lt;<span class="variable constant_">PERFORMNUD</span>&gt;</span><br><span class="line"><span class="symbol">gif0:</span> flags=<span class="number">8010</span>&lt;<span class="variable constant_">POINTOPOINT</span>,<span class="variable constant_">MULTICAST</span>&gt; mtu <span class="number">1280</span></span><br><span class="line"><span class="symbol">stf0:</span> flags=<span class="number">0</span>&lt;&gt; mtu <span class="number">1280</span></span><br><span class="line"><span class="symbol">en4:</span> flags=<span class="number">8863</span>&lt;<span class="variable constant_">UP</span>,<span class="variable constant_">BROADCAST</span>,<span class="variable constant_">SMART</span>,<span class="variable constant_">RUNNING</span>,<span class="variable constant_">SIMPLEX</span>,<span class="variable constant_">MULTICAST</span>&gt; mtu <span class="number">1500</span></span><br><span class="line">options=<span class="number">4</span>&lt;<span class="variable constant_">VLAN_MTU</span>&gt;</span><br><span class="line">ether <span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span>6<span class="symbol">a:</span>1c</span><br><span class="line">inet6 fe80::<span class="number">200</span><span class="symbol">:ff</span><span class="symbol">:fe00</span><span class="symbol">:</span>6a1c%en4 prefixlen <span class="number">64</span> scopeid <span class="number">0x4</span></span><br><span class="line">inet <span class="number">192.168</span>.<span class="number">4.100</span> netmask <span class="number">0xffffff00</span> broadcast <span class="number">192.168</span>.<span class="number">4.255</span></span><br><span class="line">nd6 options=<span class="number">1</span>&lt;<span class="variable constant_">PERFORMNUD</span>&gt;</span><br><span class="line"><span class="symbol">media:</span> autoselect (100baseTX &lt;full-duplex,flow-control&gt;)</span><br><span class="line"><span class="symbol">status:</span> active</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="symbol">bridge0:</span> flags=<span class="number">8863</span>&lt;<span class="variable constant_">UP</span>,<span class="variable constant_">BROADCAST</span>,<span class="variable constant_">SMART</span>,<span class="variable constant_">RUNNING</span>,<span class="variable constant_">SIMPLEX</span>,<span class="variable constant_">MULTICAST</span>&gt; mtu <span class="number">1500</span></span><br><span class="line">options=<span class="number">63</span>&lt;<span class="variable constant_">RXCSUM</span>,<span class="variable constant_">TXCSUM</span>,<span class="variable constant_">TSO4</span>,<span class="variable constant_">TSO6</span>&gt;</span><br><span class="line">ether <span class="number">02</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:ba</span><span class="symbol">:</span><span class="number">00</span></span><br><span class="line"><span class="title class_">Configuration</span>:</span><br><span class="line">id <span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span> priority <span class="number">0</span> hellotime <span class="number">0</span> fwddelay <span class="number">0</span></span><br><span class="line">maxage <span class="number">0</span> holdcnt <span class="number">0</span> proto stp maxaddr <span class="number">100</span> timeout <span class="number">1200</span></span><br><span class="line">root id <span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span> priority <span class="number">0</span> ifcost <span class="number">0</span> port <span class="number">0</span></span><br><span class="line">ipfilter disabled flags <span class="number">0x2</span></span><br><span class="line"><span class="symbol">member:</span> en1 flags=<span class="number">3</span>&lt;<span class="variable constant_">LEARNING</span>,<span class="variable constant_">DISCOVER</span>&gt;</span><br><span class="line">        ifmaxaddr <span class="number">0</span> port <span class="number">6</span> priority <span class="number">0</span> path cost <span class="number">0</span></span><br><span class="line"><span class="symbol">member:</span> en2 flags=<span class="number">3</span>&lt;<span class="variable constant_">LEARNING</span>,<span class="variable constant_">DISCOVER</span>&gt;</span><br><span class="line">        ifmaxaddr <span class="number">0</span> port <span class="number">7</span> priority <span class="number">0</span> path cost <span class="number">0</span></span><br><span class="line">nd6 options=<span class="number">1</span>&lt;<span class="variable constant_">PERFORMNUD</span>&gt;</span><br><span class="line"><span class="symbol">media:</span> &lt;unknown type&gt;</span><br><span class="line"><span class="symbol">status:</span> inactive</span><br></pre></td></tr></table></figure></code></pre><ol start="2"><li><code>ping</code><br>检查网络是否联通</li></ol><pre><code>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>ping -c <span class="number">3</span> www.baidu.com  <span class="comment"># ping 百度，`-c 3` 表示三次</span></span><br><span class="line"><span class="variable constant_">PING</span> www.a.shifen.com (<span class="number">220.181</span>.<span class="number">112.244</span>): <span class="number">56</span> data bytes</span><br><span class="line"><span class="number">64</span> bytes from <span class="number">220.181</span>.<span class="number">112.244</span>: icmp_seq=<span class="number">0</span> ttl=<span class="number">55</span> time=<span class="number">2.329</span> ms</span><br><span class="line"><span class="number">64</span> bytes from <span class="number">220.181</span>.<span class="number">112.244</span>: icmp_seq=<span class="number">1</span> ttl=<span class="number">55</span> time=<span class="number">2.651</span> ms</span><br><span class="line"><span class="number">64</span> bytes from <span class="number">220.181</span>.<span class="number">112.244</span>: icmp_seq=<span class="number">2</span> ttl=<span class="number">55</span> time=<span class="number">9.731</span> ms</span><br><span class="line"></span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line"><span class="number">3</span> packets transmitted, <span class="number">3</span> packets received, <span class="number">0.0</span>% packet loss</span><br><span class="line">round-trip min/avg/max/stddev = <span class="number">2.329</span>/<span class="number">4.904</span>/<span class="number">9.731</span>/<span class="number">3.416</span> ms</span><br></pre></td></tr></table></figure></code></pre><ol start="10"><li><code>whereis</code><br>  查看命令路径</li></ol><p>  示例：<br>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LeoMacBookPro</span><span class="symbol">:~</span> <span class="title class_">Leo</span><span class="variable">$ </span>whereis ls</span><br><span class="line">/bin/ls</span><br></pre></td></tr></table></figure></p><h2 id="二、小技巧"><a href="#二、小技巧" class="headerlink" title="二、小技巧"></a>二、小技巧</h2><ol><li><p><code>clear</code> 清屏<br>  直接按 Ctrl + L</p></li><li><p>按 tab 键会自动补全</p></li><li><p>按 ↑ 键会显示上一次使用过的命令</p></li><li><p>Ctrl + C 终端下操作的强制退出</p></li><li><p><code>history</code> 显示历史命令</p></li><li><p>⌘ + +&#x2F;- 终端下放大&#x2F;缩小字体</p></li><li><p>编辑状态下的退出命令</p></li><li><p><code>wq</code>   保存并退出</p></li><li><p><code>wq!</code>  强制保存并退出</p></li><li><p><code>q!</code>   强制退出，不保存</p></li><li><p>设置终端语法高亮等</p></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim ~<span class="regexp">/.vimrc # 创建一个编译环境的脚本的副本</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># 编辑输入以下内容</span></span><br><span class="line"><span class="regexp">syntax on     # 开启语法高亮</span></span><br><span class="line"><span class="regexp">set tabstop=4 # 设置tab缩进 一次4个字节</span></span><br><span class="line"><span class="regexp">set number    # 设置行号</span></span><br></pre></td></tr></table></figure><h2 id="联系与支持"><a href="#联系与支持" class="headerlink" title="联系与支持"></a>联系与支持</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/macbook03.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/macbook03.png&quot; alt=&quot;macbook&quot;&gt;&lt;/p&gt;
&lt;p&gt;Mac 是一款开发利器，对开发者是相当友好的。&lt;br&gt;比如系统自带终端（Terminal）对 vim 命令的支持，就大幅提升了日常开发的便捷度。&lt;/p&gt;</summary>
    
    
    
    <category term="Mac" scheme="https://blog.leoxv.com/categories/Mac/"/>
    
    <category term="Vim" scheme="https://blog.leoxv.com/categories/Mac/Vim/"/>
    
    <category term="Terminal" scheme="https://blog.leoxv.com/categories/Mac/Vim/Terminal/"/>
    
    <category term="Command" scheme="https://blog.leoxv.com/categories/Mac/Vim/Terminal/Command/"/>
    
    
    <category term="Mac" scheme="https://blog.leoxv.com/tags/Mac/"/>
    
    <category term="Vim" scheme="https://blog.leoxv.com/tags/Vim/"/>
    
    <category term="Terminal" scheme="https://blog.leoxv.com/tags/Terminal/"/>
    
    <category term="Command" scheme="https://blog.leoxv.com/tags/Command/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】如何让 Xcode 自动更新 SVN Version 到 Build</title>
    <link href="https://blog.leoxv.com/2016/02/02/iOS-Auto-Build-From-SVN-Version/"/>
    <id>https://blog.leoxv.com/2016/02/02/iOS-Auto-Build-From-SVN-Version/</id>
    <published>2016-02-02T06:25:04.000Z</published>
    <updated>2025-08-06T09:15:28.313Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="https://cdnqiniu.leoxv.com/common2/svn03.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/svn03.png"></p><p>我们每天都要打包给测试，甚至一天打 N 个包，而每次打包都被要求改 Build，十分麻烦。<br>幸运的是，我们可以通过 Shell 脚本来省略这个本来异常繁琐过程。</p><span id="more"></span><p>环境：<br>OS X 10.11.3<br>Xcode 7.2<br>SVN 1.9</p><h2 id="一、升级-Mac-自带-SVN"><a href="#一、升级-Mac-自带-SVN" class="headerlink" title="一、升级 Mac 自带 SVN"></a>一、升级 Mac 自带 SVN</h2><ol><li><p>下载最新 SVN<br>  打开 <a href="http://www.wandisco.com/subversion/download#osx">http://www.wandisco.com/subversion/download#osx</a> ，找到适合你系统的下载链接。<br>  因为目前没有 OS X 10.11 的下载链接，我们先选择 10.10 的版本（测试可用）：<br>  <img src="https://cdnqiniu.leoxv.com/common2/01.png" alt="By https://leoxv.com"></p></li><li><p>安装到本机<br>  直接打开下载的文件，按提示安装，然后打开终端执行以下命令，把 SVN 的路径加到 PATH 中：</p></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~<span class="regexp">/.bash_profile</span></span><br></pre></td></tr></table></figure><p>  按 i 进入编辑状态，粘贴以下内容：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export <span class="variable constant_">PATH</span>=<span class="regexp">/opt/subversion</span><span class="regexp">/bin:$PATH</span></span><br></pre></td></tr></table></figure><p>  按 esc -&gt; shift + ; -&gt; 输入 wq -&gt; 回车保存。</p><ol start="3"><li>重启终端<br>  运行以下命令检测 SVN 版本号，应该是 1.9.3 左右，OK。</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn --version</span><br></pre></td></tr></table></figure><h2 id="二、配置-Xcode-内的-SVN"><a href="#二、配置-Xcode-内的-SVN" class="headerlink" title="二、配置 Xcode 内的 SVN"></a>二、配置 Xcode 内的 SVN</h2><p>执行以下命令：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /<span class="title class_">Applications</span>/<span class="title class_">Xcode</span>.app/<span class="title class_">Contents</span>/<span class="title class_">Developer</span>/usr/bin/  <span class="comment"># 进入 Xcode 存放 SVN 命令的子目录</span></span><br><span class="line">sudo mkdir backupsvn                                    <span class="comment"># 创建备份目录</span></span><br><span class="line">sudo mv svn* backupsvn/                                 <span class="comment"># 把旧的 SVN 相关文件移动到备份目录</span></span><br><span class="line">sudo ln -s /opt/subversion/bin/svn* ./                  <span class="comment"># 把新的 SVN 文件复制到当前目录</span></span><br></pre></td></tr></table></figure><p><strong>重启 Xcode。</strong></p><blockquote><p>更新了 Xcode 请重新执行以上操作！</p></blockquote><h2 id="三、自动-Build-脚本"><a href="#三、自动-Build-脚本" class="headerlink" title="三、自动 Build 脚本"></a>三、自动 Build 脚本</h2><ol><li>脚本内容<br>  打开项目，找到对应的 TARGET，点击 Build Phases -&gt; New Run Script Phase：<br>  <img src="https://cdnqiniu.leoxv.com/common2/02.png" alt="By https://leoxv.com"><br>  在黑色输入框里面输入以下脚本内容：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">REV</span>=<span class="string">`svnversion -nc | /usr/bin/sed -e &#x27;s/^[^:]*://;s/[A-Za-z]//&#x27;`</span></span><br><span class="line"></span><br><span class="line">/usr/libexec/<span class="title class_">PlistBuddy</span> -c <span class="string">&quot;Set :CFBundleVersion $REV&quot;</span> <span class="string">&quot;$&#123;INFOPLIST_FILE&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>  点下其他地方以确定输入，执行 ⌘ + B 编译或者 ⌘ + R 运行，就可以看到效果了。</p><ol start="2"><li>如果是 Git</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">REV</span>=<span class="string">`git rev-list HEAD | wc -l | awk &#x27;&#123;print $1&#125;&#x27;`</span></span><br></pre></td></tr></table></figure><p>  HEAD 是分支名，代表当前分支，可以直接替换成其他分支名，如 master 等。</p><ol start="3"><li>如果仅仅只想在 Release（如 Archive 等）的时候更新 Build，可以在外层加入以下判断：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;$&#123;CONFIGURATION&#125;&quot;</span> = <span class="string">&quot;Release&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>参考资料：<a href="http://stackoverflow.com/">http://stackoverflow.com</a></p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/svn03.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/svn03.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们每天都要打包给测试，甚至一天打 N 个包，而每次打包都被要求改 Build，十分麻烦。&lt;br&gt;幸运的是，我们可以通过 Shell 脚本来省略这个本来异常繁琐过程。&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="SVN" scheme="https://blog.leoxv.com/categories/iOS/SVN/"/>
    
    <category term="shell" scheme="https://blog.leoxv.com/categories/iOS/SVN/shell/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="SVN" scheme="https://blog.leoxv.com/tags/SVN/"/>
    
    <category term="shell" scheme="https://blog.leoxv.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】开发技巧——自动滚动的 SearchBar</title>
    <link href="https://blog.leoxv.com/2016/01/20/iOS-tip-auto-scroll-search-bar/"/>
    <id>https://blog.leoxv.com/2016/01/20/iOS-tip-auto-scroll-search-bar/</id>
    <published>2016-01-20T05:37:40.000Z</published>
    <updated>2025-08-06T09:15:28.354Z</updated>
    
    <content type="html"><![CDATA[<p>在 iOS 开发中，有一个非常常用的控件——SearchBar，在很多 App 中，如 QQ、微信、网易云音乐等，使用频率都是相当的高。这个 SearchBar 你可以选择系统的 UISearchBar，也可以让美工给你切一个出来，当然你足够牛逼自己切也行，请收下我的膝盖。今天的主题显然不是探讨怎么切 SearchBar，毕竟我打的 Tag 是 iOS 不是 PS。<br>好，进入正题，我在使用各种“大型 App” <SUP>①</SUP> 的过程中，发现它们都做了一个有趣的效果——SearchBar 的自动滚动。</p><blockquote class="blockquote-center">好无聊啊好无聊啊好无聊啊MD写完这篇我先睡会读者请无视这句话。。</blockquote><span id="more"></span><h2 id="先谈谈总体设计"><a href="#先谈谈总体设计" class="headerlink" title="先谈谈总体设计"></a>先谈谈总体设计</h2><p>我们知道，就目前较为大众接受的设计而言，SearchBar 应该处于导航栏的下方，如下图：</p><p><img src="https://cdnqiniu.leoxv.com/common2/SearchBarDemo.png" alt="By https://leoxv.com"></p><p>那么上文所述的这个效果是怎么样的呢？继续上图：</p><p><img src="https://cdnqiniu.leoxv.com/common2/IMG_1022.PNG" alt="By https://leoxv.com"><br><img src="https://cdnqiniu.leoxv.com/common2/IMG_1023.PNG" alt="By https://leoxv.com"></p><p>这是系统的设置界面的两张截图，QQ、微信截图我就不放了，你可以自己打开瞅一瞅，并非是为了保护什么隐私，这个时代还谈什么个人隐私。</p><p>你可以打开设置，尝试轻轻拖动界面，放开手，你会发现顶部的 SearchBar 时而主动显示，时而又主动隐藏，别的不说，用户体验莫名大增。那么问题来了。</p><p>效果看过了，现在该来尝试实现了，这才是本文的重点。刚开始看到这个效果我想做做但我的大脑是拒绝的，但是一想这好感大增的用户体验，我的大脑还是屈服了。一开始我也以为这个实现起来很难很难的，然后我就忧伤地敲了敲代码，然后发现，卧槽这么简单？！</p><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><p>关键代码如下，利用 UIScrollView 的代理方法即可。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> mark - UIScrollView Delegate</span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)scrollViewDidEndDragging:(<span class="built_in">UIScrollView</span> *)scrollView willDecelerate:(<span class="type">BOOL</span>)decelerate &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGPoint</span> contentOffset = scrollView.contentOffset;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (contentOffset.y &lt; <span class="number">22.0</span>f) &#123;</span><br><span class="line"></span><br><span class="line">        [scrollView setContentOffset:<span class="built_in">CGPointZero</span> animated:<span class="literal">YES</span>];</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (contentOffset.y &lt; <span class="number">44.0</span>f) &#123;</span><br><span class="line"></span><br><span class="line">        [scrollView setContentOffset:<span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">44.0</span>f) animated:<span class="literal">YES</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>至于为什么取 22 和 44 就不用讲了吧，SearchBar 高度约定俗成清一色 44，当然如果你的美工给你指定了另外的高度，你自己换算下就可以了，除二会除吧。</p><p>真应了那句话，<strong>大道至简</strong>。</p><h2 id="特色注解"><a href="#特色注解" class="headerlink" title="特色注解"></a>特色注解</h2><p>①“大型 App”：即活跃用户较多的 App，比如 <a href="https://itunes.apple.com/cn/app/id1067564880">德玛西亚</a> 0.0</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;在 iOS 开发中，有一个非常常用的控件——SearchBar，在很多 App 中，如 QQ、微信、网易云音乐等，使用频率都是相当的高。这个 SearchBar 你可以选择系统的 UISearchBar，也可以让美工给你切一个出来，当然你足够牛逼自己切也行，请收下我的膝盖。今天的主题显然不是探讨怎么切 SearchBar，毕竟我打的 Tag 是 iOS 不是 PS。&lt;br&gt;好，进入正题，我在使用各种“大型 App” &lt;SUP&gt;①&lt;/SUP&gt; 的过程中，发现它们都做了一个有趣的效果——SearchBar 的自动滚动。&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;好无聊啊好无聊啊好无聊啊MD写完这篇我先睡会读者请无视这句话。。&lt;/blockquote&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="Tip" scheme="https://blog.leoxv.com/categories/iOS/Tip/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="Tip" scheme="https://blog.leoxv.com/tags/Tip/"/>
    
  </entry>
  
  <entry>
    <title>Git 常用命令</title>
    <link href="https://blog.leoxv.com/2016/01/08/git-commonly-used-commands/"/>
    <id>https://blog.leoxv.com/2016/01/08/git-commonly-used-commands/</id>
    <published>2016-01-08T08:55:20.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://i1.tietuku.com/1a6bb2a4426f9bfb.jpg"></p><!-- <img src="http://i1.tietuku.com/1a6bb2a4426f9bfb.jpg" class="full-image" /> --><span id="more"></span><hr><h2 id="基本配置命令"><a href="#基本配置命令" class="headerlink" title="基本配置命令"></a>基本配置命令</h2><h3 id="Git-常用命令速查表"><a href="#Git-常用命令速查表" class="headerlink" title="Git 常用命令速查表"></a>Git 常用命令速查表</h3><img src="http://i1.tietuku.com/db5ace15c21fd180.jpg" class="full-image" /><h3 id="使用-Git-生成-SSH-密钥"><a href="#使用-Git-生成-SSH-密钥" class="headerlink" title="使用 Git 生成 SSH 密钥"></a>使用 Git 生成 SSH 密钥</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;xxx@xxx.com&quot;</span>  <span class="comment"># YourEmail</span></span><br></pre></td></tr></table></figure><h3 id="设置全局用户名和邮箱"><a href="#设置全局用户名和邮箱" class="headerlink" title="设置全局用户名和邮箱"></a>设置全局用户名和邮箱</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;xxx&quot;</span>           <span class="comment"># YourName</span></span><br><span class="line">git config --global user.email <span class="string">&quot;xxx@xxx.com&quot;</span>  <span class="comment"># YourEmail</span></span><br></pre></td></tr></table></figure><h3 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h3 id="添加文件到暂存区"><a href="#添加文件到暂存区" class="headerlink" title="添加文件到暂存区"></a>添加文件到暂存区</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;filename&gt;  <span class="comment"># 添加指定文件到暂存区</span></span><br><span class="line">git add .           <span class="comment"># 添加工作区所有文件到暂存区</span></span><br><span class="line">git add -i          <span class="comment"># 交互方式添加文件到暂存区</span></span><br><span class="line">git add -u          <span class="comment"># 将工作区中已经变动的文件添加到暂存区，当新增加的文件不会被添加</span></span><br></pre></td></tr></table></figure><h3 id="提交文件到仓库"><a href="#提交文件到仓库" class="headerlink" title="提交文件到仓库"></a>提交文件到仓库</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;描述信息&quot;</span>  <span class="comment"># 提交更新</span></span><br><span class="line">git commit -am <span class="string">&quot;描述信息&quot;</span> <span class="comment"># 如果工作目录中仅是已跟踪的文件被修改或被删除，使用此提交命令</span></span><br></pre></td></tr></table></figure><h3 id="分支的创建、删除、合并、切换、查看"><a href="#分支的创建、删除、合并、切换、查看" class="headerlink" title="分支的创建、删除、合并、切换、查看"></a>分支的创建、删除、合并、切换、查看</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git branch                              <span class="comment"># 查看 Git 仓库中已有的分支</span></span><br><span class="line">git branch &lt;<span class="title class_">BranchName</span>&gt; [<span class="title class_">StartingPoint</span>] <span class="comment"># 创建分支，如果没有分支起点的话，则默认在当前分支的最新提交上创建分支</span></span><br><span class="line">git checkout &lt;<span class="title class_">BranchName</span>&gt;               <span class="comment"># 切换分支</span></span><br><span class="line">git checkout -b &lt;<span class="title class_">BranchName</span>&gt;            <span class="comment"># 创建同时切换到新分支</span></span><br><span class="line">git merge &lt;<span class="title class_">BranchName</span>&gt;                  <span class="comment"># 合并分支</span></span><br><span class="line">git branch -d &lt;<span class="title class_">BranchName</span>&gt;              <span class="comment"># 删除指定分支（如果分支没有被合并过，该命令会执行失败）</span></span><br><span class="line">git branch -D &lt;<span class="title class_">BranchName</span>&gt;              <span class="comment"># 删除指定分支，不管有没有被合并过</span></span><br><span class="line">gitk                                    <span class="comment"># 用图形界面查看分支提交历史</span></span><br></pre></td></tr></table></figure><p>合并分支过程中如果发生冲突则需要自己手动解决冲突，然后再提交。有冲突时，Git 会显示哪个文件有冲突，并在冲突的文件中加上特殊的标识符号，解决完冲突后，要手动去掉这些被添加的标识符号。如果冲突比较复杂的话，最好使用其他工具来协助，通过 <code>git mergetool</code> 来启动。冲突一般是在不同的分支上对同一文件的同一位置内容进行了改动，并已提交到仓库中，这样在合并的时候就会发生冲突。</p><h3 id="标签的添加、删除、查看"><a href="#标签的添加、删除、查看" class="headerlink" title="标签的添加、删除、查看"></a>标签的添加、删除、查看</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git tag                                   <span class="comment"># 查看标签</span></span><br><span class="line">git tag &lt;<span class="title class_">TagName</span>&gt;                         <span class="comment"># 创建简单的标签</span></span><br><span class="line">git tag -a &lt;<span class="title class_">TagName</span>&gt; -m <span class="string">&#x27;&lt;CommitMessage&gt;&#x27;</span> <span class="comment"># 创建附加信息的标签</span></span><br><span class="line">git show &lt;<span class="title class_">TagName</span>&gt;                        <span class="comment"># 通过标签查看信息</span></span><br><span class="line">git tag -d &lt;<span class="title class_">TagName</span>&gt;                      <span class="comment"># 删除标签</span></span><br></pre></td></tr></table></figure><p>标签可以在需要的地方，为某个提交对象创建别名，这样以后我们就可以通过标签来查看一些信息，创建分支等。</p><h3 id="查看工作目录状态"><a href="#查看工作目录状态" class="headerlink" title="查看工作目录状态"></a>查看工作目录状态</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>通过 <code>git status</code> 可以知道文件的状态（已修改未暂存、已删除、已修改并已暂存等待提交、未跟踪）。<br>在 Git 命令执行后，要养成通过 <code>git status</code> 查看 git 状态的习惯，以便及时了解文件变化的情况。</p><h3 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br><span class="line">git log -p  <span class="comment"># 显示每次提交文件变化</span></span><br></pre></td></tr></table></figure><p>通过 <code>git log</code> 可以查看当前分支的所有提交历史，知道每次提交的 commit 对象的 ID 以及提交时附加的描述信息等。要显示更多的信息，需要使用其支持的选项，如 <code>git log -p</code> 可以将每次提交的文件变化也显示出来。</p><h3 id="查看指定的提交对象"><a href="#查看指定的提交对象" class="headerlink" title="查看指定的提交对象"></a>查看指定的提交对象</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git show commit_id  <span class="comment"># 查看指定的某次提交内容</span></span><br><span class="line">git show --all      <span class="comment"># 显示所有的提交历史内容</span></span><br><span class="line">git shortlog -s -n  <span class="comment"># 显示总的提交次数</span></span><br></pre></td></tr></table></figure><p>通过 <code>git log</code> 可以显示整个提交历史，而通过 <code>git show commit-id</code> 则可以查看指定的某次提交内容，当然 <code>git show -all</code> 也可以显示出提交历史，另外还可以格式化显示内容。</p><p><strong>Note</strong> : commit-id 可以是 commit 对象对应的 ID，也可以是 HEAD，分支名，tag 等。</p><h3 id="查看工作区、暂存区、仓库之间的差异"><a href="#查看工作区、暂存区、仓库之间的差异" class="headerlink" title="查看工作区、暂存区、仓库之间的差异"></a>查看工作区、暂存区、仓库之间的差异</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git diff            <span class="comment"># 比较工作区与暂存区的差异</span></span><br><span class="line">git diff <span class="variable constant_">HEAD</span>       <span class="comment"># 比较工作区与仓库中最近一次的提交间的差异</span></span><br><span class="line">git diff --cached   <span class="comment"># 比较暂存区与仓库中最近一次提交的差异</span></span><br><span class="line">git blame filename  <span class="comment"># 可以列出该文件每次被修改的时间和内容</span></span><br></pre></td></tr></table></figure><h3 id="版本回退、撤销操作"><a href="#版本回退、撤销操作" class="headerlink" title="版本回退、撤销操作"></a>版本回退、撤销操作</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git reflog                  <span class="comment"># 显示提交历史的简介</span></span><br><span class="line">git checkout -- filename    <span class="comment"># 丢弃工作区的修改</span></span><br><span class="line">git reset --hard <span class="variable constant_">HEAD</span>^      <span class="comment"># 回退到上一个版本</span></span><br><span class="line">git reset --hard commit_id  <span class="comment"># 回退到指定版本</span></span><br><span class="line">git checkout -- filename    <span class="comment"># 恢复工作区被删除的指定文件（文件之前被提交到仓库中）</span></span><br><span class="line">git checkout -f             <span class="comment"># 恢复工作区中所有被删除的文件（文件之前被提交到仓库中）</span></span><br><span class="line">git ls-files -d             <span class="comment"># 列出工作区被删除的文件（文件之前被提交到仓库中）</span></span><br></pre></td></tr></table></figure><p>有时候，由于我们的误操作，产生了一些错误，我们发现后希望能够及时纠正这些因为误操作而产生的结果，将工作目录恢复到某个正常状态。</p><ul><li>撤销修改，但还没有添加到暂存区：<br><code>git checkout -- filename</code> 修改的文件会被恢复到上次提交时的状态，修改的内容会丢失。</li><li>版本回退：<br>先通过 <code>git reflog</code> 找到某个版本的 <code>commit_id</code>，然后用 <code>git reset --hard commit_id</code> 将工作目录的文件恢复到指定的版本。</li><li>恢复工作区中被删除的文件（文件之前被提交到仓库中）：<br><code>git checkout -- filename</code> 或 <code>git checkout -f</code></li></ul><h3 id="备份工作区"><a href="#备份工作区" class="headerlink" title="备份工作区"></a>备份工作区</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git stash                 <span class="comment"># 将工作区文件保存在 Git 内部栈中</span></span><br><span class="line">git stash list            <span class="comment"># 列出 Git 内部栈中保存的工作区文件列表</span></span><br><span class="line">git stash apply stash_id  <span class="comment"># 恢复工作区到指定的内部栈状态</span></span><br><span class="line">git stash pop             <span class="comment"># 恢复工作区到上一个内部栈状态</span></span><br><span class="line">git stash clear           <span class="comment"># 清空 Git 内部栈</span></span><br></pre></td></tr></table></figure><p>如果正在一个 develop 分支上正在开发新功能，但这时 master 分支（稳定版本）突然发现了 bug，并需要及时修复，而 develop 分支此时的工作还没有完成，且不希望将之前的工作就这样提交到仓库中时，这时就可以用 <code>git stash</code> 来暂时保存这些状态到 Git 内部栈中，并用当前分支上一次的提交内容来恢复工作目录，然后切换到 master 分支进行 bug 修复工作，等修复完毕并提交到仓库上后，再使用 <code>git stash apply [stash@&#123;0&#125;]</code> 或者 <code>git stash pop</code> 将工作目录恢复到之前的状态，继续之前的工作。</p><p>同时也可以多次使用 <code>git stash</code> 将未提交的代码压入到 Git 栈中，但当多次使用 <code>git stash</code> 命令后，Git栈里将充满了未提交的代码，这时候到底要用哪个版本来恢复工作目录呢？<code>git stash list</code> 命令可以将当前的 Git 栈信息打印出来，我们只需要将找到对应的版本号，例如使用 <code>git stash apply stash@&#123;1&#125;</code> 就可以用版本号为 stash@{1} 的内容来恢复工作目录。</p><p>当 Git 栈中所有的内容都被恢复后，可以使用 <code>git stash clear</code> 来将栈清空。</p><h3 id="将当前工作区目录文件压缩归档"><a href="#将当前工作区目录文件压缩归档" class="headerlink" title="将当前工作区目录文件压缩归档"></a>将当前工作区目录文件压缩归档</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git archive --format=zip -o arch.zip <span class="variable constant_">HEAD</span></span><br><span class="line">git arch --format zip head&gt;arch.zip</span><br></pre></td></tr></table></figure><h2 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h2><p>Git 相比其他版本控制软件的一个优点就是大多数的操作都可以在本地进行，而不用管远程的仓库，因为操作是在本地，且操作的数据也是在本地，加上指针等原因，所以执行的速度就会比较快。 在多人协作的项目中，就需要涉及与远程仓库交互的问题，主要是如何从远程仓库抓取最新数据合并到自己的本地分支上，将自己的最新成果分享给其他人或让别人审查等 。</p><h3 id="远程仓库的克隆、添加、查看"><a href="#远程仓库的克隆、添加、查看" class="headerlink" title="远程仓库的克隆、添加、查看"></a>远程仓库的克隆、添加、查看</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git remote                                                      <span class="comment"># 显示已添加的远程仓库名</span></span><br><span class="line">git remote -v                                                   <span class="comment"># 显示已添加的远程仓库名和地址</span></span><br><span class="line">git remote add &lt;<span class="title class_">ServerRepositoryName</span>&gt; &lt;<span class="title class_">ServerRepositoryAddress</span>&gt; <span class="comment"># 在本地添加远程仓库</span></span><br><span class="line">git remote rm &lt;<span class="title class_">ServerRepositoryName</span>&gt;                            <span class="comment"># 删除本地添加的远程仓库名</span></span><br><span class="line">git remote rename &lt;<span class="title class_">OriginRepositoryName</span>&gt; &lt;<span class="title class_">NewRepositoryName</span>&gt;    <span class="comment"># 重命名远程仓库名</span></span><br><span class="line">git clone &lt;<span class="title class_">ServerRepositoryAddress</span>&gt; [<span class="title class_">LocalFolder</span>]               <span class="comment"># 克隆远程仓库到本地</span></span><br><span class="line">git fetch &lt;<span class="title class_">ServerRepositoryName</span>&gt;                                <span class="comment"># 从远程仓库抓取最新数据到本地但不与本地分支进行合并</span></span><br><span class="line">git pull &lt;<span class="title class_">ServerRepositoryName</span>&gt;&lt;<span class="title class_">LocalBranchName</span>&gt;               <span class="comment"># 从远程仓库抓取最新数据并自动与本地分支进行合并</span></span><br><span class="line">git push &lt;<span class="title class_">ServerRepositoryName</span>&gt; &lt;<span class="title class_">LocalBranchName</span>&gt;               <span class="comment"># 将本地仓库推送到远程仓库中</span></span><br><span class="line">git remote show &lt;<span class="title class_">ServerRepositoryName</span>&gt;                          <span class="comment"># 查看远程仓库信息</span></span><br><span class="line">git remote show                                                 <span class="comment"># 查看所有远程仓库</span></span><br><span class="line">git push &lt;<span class="title class_">ServerRepositoryName</span>&gt; &lt;<span class="title class_">ServerTagName</span>&gt;                 <span class="comment"># 将标签推送到远程仓库（Git 默认不推送标签）</span></span><br></pre></td></tr></table></figure><h3 id="协同流程"><a href="#协同流程" class="headerlink" title="协同流程"></a>协同流程</h3><ol><li><p>Fork远程项目</p></li><li><p>把Fork的项目clone到本地</p></li><li><p>执行以下命令，将别人的库添加为远端库</p></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;<span class="title class_">ServerRepositoryName</span>&gt; &lt;<span class="title class_">ServerTagName</span>&gt; <span class="comment"># 远端仓库名 远端的分支</span></span><br></pre></td></tr></table></figure><ol start="4"><li>运行以下命令，拉去合并到本地</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;<span class="title class_">ServerRepositoryName</span>&gt; &lt;<span class="title class_">ServerTagName</span>&gt; <span class="comment"># 远端仓库名 远端分支名</span></span><br></pre></td></tr></table></figure><ol start="5"><li><p>编辑内容</p></li><li><p>commit 之后 push 到自己的库</p></li><li><p>登录 Github，在你的首页可以看到一个 pull request 按钮，点击它，填写一些说明信息，提交即可。</p></li><li><p>在本地编辑内容前必须执行 pull 操作同步别人的远端库（这样避免冲突）</p></li></ol><h3 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h3><p>当手头工作没有完成时，先把工作现场 <code>git stash</code> 一下，然后去修复 bug，修复后，再使用 <code>git stash pop</code>，回到工作现场。</p><h3 id="多人协作技巧"><a href="#多人协作技巧" class="headerlink" title="多人协作技巧"></a>多人协作技巧</h3><ul><li>查看远程库信息，使用 <code>git remote -v</code>；</li><li>本地新建的分支如果不推送到远程，对其他人就是不可见的；</li><li>从本地推送分支，使用 <code>git push</code> 远程仓库名 分支名，如果推送失败，先用 <code>git pull</code> 抓取远程的新提交；</li><li>在本地创建和远程分支对应的分支，使用 <code>git checkout -b branch-name origin/branch-name</code>，本地和远程分支的名称最好一致；</li><li>建立本地分支和远程分支的关联，使用 <code>git branch --set-upstream branch-name origin/branch-name</code>；</li><li>从远程抓取分支，使用 <code>git pull</code>，如果有冲突，要先处理冲突。</li></ul><h3 id="Git-常用命令思维导图"><a href="#Git-常用命令思维导图" class="headerlink" title="Git 常用命令思维导图"></a>Git 常用命令思维导图</h3><img src="http://i1.tietuku.com/6c6da0aa17a881b0.jpg" class="full-image" /><hr><blockquote><p>本文转自 <a href="http://xiamo.tk/"><strong>夏末’S NOTE</strong></a>，已取得原作者授权，略有删改。</p></blockquote><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;http://i1.tietuku.com/1a6bb2a4426f9bfb.jpg&quot;&gt;&lt;/p&gt;
&lt;!-- &lt;img src=&quot;http://i1.tietuku.com/1a6bb2a4426f9bfb.jpg&quot; class=&quot;full-image&quot; /&gt; --&gt;</summary>
    
    
    
    <category term="git" scheme="https://blog.leoxv.com/categories/git/"/>
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/git/iOS/"/>
    
    <category term="Linux" scheme="https://blog.leoxv.com/categories/git/iOS/Linux/"/>
    
    <category term="Debian" scheme="https://blog.leoxv.com/categories/git/iOS/Linux/Debian/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="git" scheme="https://blog.leoxv.com/tags/git/"/>
    
    <category term="Linux" scheme="https://blog.leoxv.com/tags/Linux/"/>
    
    <category term="Debian" scheme="https://blog.leoxv.com/tags/Debian/"/>
    
  </entry>
  
  <entry>
    <title>【HTML JS】通过 apple-itunes-app 在网页顶端显示你的 iOS App</title>
    <link href="https://blog.leoxv.com/2016/01/04/HTML-JS-apple-itunes-app/"/>
    <id>https://blog.leoxv.com/2016/01/04/HTML-JS-apple-itunes-app/</id>
    <published>2016-01-04T03:20:35.000Z</published>
    <updated>2025-08-06T09:15:28.312Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdnqiniu.leoxv.com/common2/IMG_124801.png" alt="by https://leoxv.com"></p><p>二〇一六了，新年好。用一个小知识点开启新的一年吧~</p><span id="more"></span><hr><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>如上如所示的效果是怎么实现的呢？其实也很简单，在你的网页的 <code>&lt;head&gt;&lt;/head&gt;</code> 中加入以下代码就可以了，官方实现哦~</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">&quot;apple-itunes-app&quot;</span> content=<span class="string">&quot;app-id=1067564880&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>app-id 请更换成你的 App 在 <a href="https://itunesconnect.apple.com/">iTunes (点击前往)</a> 中的 Apple ID，如下图所示位置：</p><p><img src="https://cdnqiniu.leoxv.com/common2/QQ20160105-0@2x.png" alt="via https://leoxv.com"></p><p><strong>Done~</strong></p><p>这个 <code>&lt;meta&gt;</code> 标签是干嘛的呢？其实它是告诉 iPhone 的 Safari 浏览器，这个网站对应的 App 是什么，然后在页面上面显示一个 App Store 的 banner。</p><p>如果你没有安装这个 App 就会显示“显示”按钮，如果安装了则会显示“打开”按钮~</p><h2 id="参考效果"><a href="#参考效果" class="headerlink" title="参考效果"></a>参考效果</h2><blockquote><p>请用 iPhone 上的 Safari 浏览器打开</p></blockquote><ol><li><a href="https://leoxv.com/">https://leoxv.com</a></li></ol><p>  <img src="https://cdnqiniu.leoxv.com/common2/IMG_1248.PNG" alt="By Leo"></p><ol start="2"><li><a href="https://www.zhihu.com/">https://www.zhihu.com</a></li></ol><p>  <img src="https://cdnqiniu.leoxv.com/common2/IMG_0990.PNG" alt="By Leo"></p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/IMG_124801.png&quot; alt=&quot;by https://leoxv.com&quot;&gt;&lt;/p&gt;
&lt;p&gt;二〇一六了，新年好。用一个小知识点开启新的一年吧~&lt;/p&gt;</summary>
    
    
    
    <category term="HTML" scheme="https://blog.leoxv.com/categories/HTML/"/>
    
    <category term="node.js" scheme="https://blog.leoxv.com/categories/HTML/node-js/"/>
    
    
    <category term="HTML" scheme="https://blog.leoxv.com/tags/HTML/"/>
    
    <category term="node.js" scheme="https://blog.leoxv.com/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>CocoaPods 的安装、使用和常见问题</title>
    <link href="https://blog.leoxv.com/2015/12/31/The-installation-and-usage-of-CocoaPods-and-FAQ/"/>
    <id>https://blog.leoxv.com/2015/12/31/The-installation-and-usage-of-CocoaPods-and-FAQ/</id>
    <published>2015-12-31T06:03:08.000Z</published>
    <updated>2025-08-06T09:15:28.313Z</updated>
    
    <content type="html"><![CDATA[<!-- <img src="https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png"></p><p>二〇一五年的最后一天，我还在这里布道。自己都醉了。</p><span id="more"></span><hr><h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><p><a href="https://cocoapods.org/">CocoaPods</a> 是 iOS 项目的依赖管理工具，该项目源码在 <a href="https://github.com/">Github</a> 上管理。开发 iOS 项目不可避免地要使用第三方开源库，CocoaPods 的出现使得我们可以节省设置和第三方开源库的时间。</p><p>在使用 CocoaPods 之前，开发项目需要用到第三方开源库的时候，我们需要：</p><ol><li>把开源库的源代码复制到项目中</li><li>添加一些依赖框架和动态库</li><li>设置 -ObjC，-fno-objc-arc 等参数</li><li>管理他们的更新</li></ol><p>在使用 CocoaPods 后，我们只需要把用到的开源库放到一个名为 Podfile 的文件中，然后执行 pod install。Cocoapods 就会自动将这些第三方开源库的源码下载下来，并且为我们的工程设置好相应的系统依赖和编译参数。</p><h2 id="二、原理"><a href="#二、原理" class="headerlink" title="二、原理"></a>二、原理</h2><p>CocoaPods 的原理是将所有的依赖库都放到另一个名为 Pods 的项目中，然后让主项目依赖 Pods 项目，这样，源码管理工作都从主项目移到了 Pods 项目中。Pods 项目最终会编译成一个名为 libPods.a 的文件，主项目只需要依赖这个 .a 文件即可。</p><h2 id="三、安装"><a href="#三、安装" class="headerlink" title="三、安装"></a>三、安装</h2><p>CocoaPods 可以方便地通过 Mac 自带的 <a href="https://rubygems.org/">RubyGems</a> 安装。</p><ol><li>先升级 gem</li></ol><p>  打开 Terminal（终端），输入以下命令：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem update --system</span><br></pre></td></tr></table></figure><p>  升级成功后会提示：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">RubyGems</span> system software updated</span><br></pre></td></tr></table></figure><ol start="2"><li>继续执行：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods</span><br></pre></td></tr></table></figure><ol start="3"><li>执行完这句如果报以下错误（没有请跳过）：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">ERROR</span>: <span class="title class_">Could</span> <span class="keyword">not</span> find a valid gem <span class="string">&#x27;cocoapods&#x27;</span> (&gt;= <span class="number">0</span>)， here is <span class="symbol">why:</span></span><br><span class="line"><span class="title class_">Unable</span> to download data from <span class="symbol">https:</span>/<span class="regexp">/rubygems.org/</span> - <span class="title class_">Errno</span><span class="symbol">:</span><span class="symbol">:ETIMEDOUT</span>: <span class="title class_">Operation</span> timed out - connect(<span class="number">2</span>) (<span class="symbol">https:</span>/<span class="regexp">/rubygems.org/latest</span>_specs.<span class="number">4.8</span>.gz)</span><br><span class="line"><span class="variable constant_">ERROR</span>: <span class="title class_">Possible</span> <span class="symbol">alternatives:</span> cocoapods</span><br></pre></td></tr></table></figure><p>  这是因为 ruby 的软件源 <a href="https://rubygems.org/">https://rubygems.org</a> 使用亚马逊的云服务，被我大天朝屏蔽了，需要更新一下 ruby 的源。依次执行以下命令行：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gem sources -l <span class="comment">#查看当前 ruby 的源</span></span><br><span class="line">gem sources --remove <span class="symbol">https:</span>/<span class="regexp">/rubygems.org/</span></span><br><span class="line">gem sources -a <span class="symbol">https:</span>/<span class="regexp">/ruby.taobao.org/</span></span><br><span class="line">gem sources -l</span><br></pre></td></tr></table></figure><ol start="4"><li>接下来进行安装，执行：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod setup</span><br></pre></td></tr></table></figure><p>  Terminal 会停留在 <code>Setting up CocoaPods master repo</code> 这个状态一段时间，是因为要进行下载安装，而且目录比较大，需要耐心等待一下。如果想加快速度，可使用 CocoaPods 的镜像索引。（文章末尾附使用镜像索引的方法，<a href="/2015/12/31/The-installation-and-usage-of-CocoaPods-and-FAQ/#u9644_uFF1A_u5982_u4F55_u4F7F_u7528_u955C_u50CF_u7D22_u5F15">点击跳转</a>）</p><p>  安装成功后，你会看到以下提示:</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="title class_">Setup</span> completed</span><br></pre></td></tr></table></figure><p>  <strong>至此安装完成！</strong></p><h2 id="四、使用"><a href="#四、使用" class="headerlink" title="四、使用"></a>四、使用</h2><p>进入 iOS 项目所在的目录（项目根目录）。</p><ol><li>详细讲解版（老鸟请直接跳过）</li></ol><p>  执行命令：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch <span class="title class_">Podfile</span></span><br></pre></td></tr></table></figure><p>  这句是说新建一个名为 Podfile 的文件（不能写成别的名字，也可以自己在工程根目录里面直接新建）。</p><p>  然后对该文件进行编辑，执行命令：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -e <span class="title class_">Podfile</span></span><br></pre></td></tr></table></figure><p>  第一次执行这个命令，会有一个空白文件打开，可以先放在一边。</p><p>  <strong>Podfile</strong> 文件的格式应该类似以下：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span>， <span class="string">&#x27;7.0&#x27;</span></span><br><span class="line"></span><br><span class="line">pod <span class="string">&#x27;AFNetworking&#x27;</span>， <span class="string">&#x27;~&gt; 2.6.3&#x27;</span></span><br><span class="line">pod <span class="string">&#x27;LCTabBarController&#x27;</span>， <span class="string">&#x27;~&gt; 1.2.2&#x27;</span></span><br><span class="line">pod <span class="string">&#x27;LCBannerView&#x27;</span></span><br></pre></td></tr></table></figure><p>  需要 <strong>注意</strong> 以下几点：</p><p>  a. platform 那一行，<code>ios</code> 三个字母都要小写，而且与前面的冒号之间不能有间隔。<br>  b. 后面的版本号也可以不写，但是有些开源库对版本是有要求的，比如要在 iOS 7.0 以上才能运行，遇到这样的开源库就需要写上版本号。<br>  c. platform 下面就是 CocoaPods 需要集成的开源库，根据你的需要确定集成成些库。</p><ol start="2"><li>老鸟版</li></ol><p>  执行命令：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="title class_">Podfile</span></span><br></pre></td></tr></table></figure><ol start="3"><li>举个栗子 🌰：</li></ol><p>  我要集成 <a href="https://github.com/AFNetworking/AFNetworking">AFNetworking</a> 这个库类，需要在 CocoaPods 里面先搜索是否有需要的库，在 Terminal 中输入：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod search <span class="title class_">AFNetworking</span></span><br></pre></td></tr></table></figure><p>  回车之后就可以看到和你搜索的关键字相关的一些库类，如下图：</p><p>  <img src="https://cdnqiniu.leoxv.com/common2/QQ20151231-1%402x.png" alt="By Leo"></p><p>  其中第一个就是我们需要的，把 <code>pod ‘AFNetworking’, ‘~&gt;3.0.3’</code> 复制到我们的 Podfile 文件中，保存。</p><blockquote><p>AFNetworking 2.x： <code>pod ‘AFNetworking’, ‘~&gt;2.6.3’</code></p></blockquote><p>  然后在 Terminal 中执行 ：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建议使用下一句命令，在天朝速度更快（不更新本地仓库）</span></span><br><span class="line">pod install --verbose --no-repo-update</span><br></pre></td></tr></table></figure><p>  这样，AFNetworking 就已经下载完成并设置好了编译参数和依赖。</p><blockquote><p>相关阅读：<a href="https://leoxv.com/2015/12/15/[iOS]-How-To-Setting-HTTP-Header-With-AFNetworking/">【iOS】使用 AFNetworking 如何设置 HTTP Header</a></p></blockquote><p>  以后使用的时候切记以下两点：</p><p>  a. 从此以后需要使用 CocoaPods 生成的 *.xcworkspace 文件来打开工程，而不是使用以前的 *.xcodeproj 文件<br>  b. 每次更改了 Podfile 文件，都需要执行一次 <code>pod update</code> 命令（建议使用 <code>pod update --verbose --no-repo-update</code>）</p><ol start="4"><li><code>pod install</code> 与 <code>pod update</code> 的区别</li></ol><p>  当执行 <code>pod install</code>之后，除了 Podfile，还会生成一个名为 <strong>Podfile.lock</strong> 的文件，它会 <strong>锁定</strong> 当前各依赖库的版本，之后即使多次执行 <code>pod install</code> 也不会更改版本，只有执行 <code>pod update</code> 才会改变 Podfile.lock。在多人协作的时候，这样可以防止第三方库升级时候造成大家各自的第三方库版本不一致。所以在提交版本的时候不能把它落下，也不要添加到 .gitignore 中.</p><h2 id="五、常见问题"><a href="#五、常见问题" class="headerlink" title="五、常见问题"></a>五、常见问题</h2><ol><li>升级 OS X 10.11 后，运行 pod 命令出现如下错误：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="symbol">bash:</span> <span class="symbol">pod:</span> command <span class="keyword">not</span> found</span><br></pre></td></tr></table></figure><p>  解决方法：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install -n /usr/local/bin cocoapods</span><br></pre></td></tr></table></figure><ol start="2"><li>错误：  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[!] Invalid Podfile file: undefined local variable or method &#x27;en_US&#x27; for #&lt;Pod::Podfile:0x00000102a5d8b0&gt;. Updating CocoaPods might fix the issue.</span><br></pre></td></tr></table></figure></li></ol><p>  原因：单引号格式，可能是手动输入导致</p><p>  解决办法：前往 系统偏好设置 - 键盘 - 文本 - 将“使用智能引号和破折号”一项取消勾选 - 再将 Podfile 里面的单（双）引号修改一下</p><ol start="3"><li>错误：  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArgumentError - invalid byte sequence in US-ASCII</span><br></pre></td></tr></table></figure></li></ol><p>  原因：字符集错误</p><p>  解决办法：<br>  使用 <code>locale</code> 命令查看当前的字符集，如果都是 zh，需要执行以下命令：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export <span class="variable constant_">LC_ALL</span>=en_US.<span class="variable constant_">UTF</span>-<span class="number">8</span></span><br><span class="line">export <span class="variable constant_">LANG</span>=en_US.<span class="variable constant_">UTF</span>-<span class="number">8</span></span><br></pre></td></tr></table></figure><p>  然后再使用 <code>locale</code> 命令查看，已经改过来了。</p><ol start="4"><li>错误：  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[!] The YMTea [Debug] target overrides the OTHER_LDFLAGS build setting defined in &#x27;Pods/Target Support Files/Pods/Pods.debug.xcconfig&#x27;. This can lead to problems with the CocoaPods installation</span><br><span class="line">Use the $(inherited) flag， or</span><br><span class="line">Remove the build settings from the target.</span><br><span class="line">[!] The YMTea [Release] target overrides the OTHER_LDFLAGS build setting defined in &#x27;Pods/Target Support Files/Pods/Pods.release.xcconfig&#x27;. This can lead to problems with the CocoaPods installation</span><br><span class="line"></span><br><span class="line">- Use the &#x27;$(inherited)&#x27; flag， or</span><br><span class="line">- Remove the build settings from the target.</span><br></pre></td></tr></table></figure></li></ol><p>  原因：我是在已有项目中集成 CocoaPods 的时候遇到这个问题。原因是项目 Target 中做了一些设置，CocoaPods 也做了默认的设置，如果两个设置结果不一致，就会造成问题。</p><p>  解决方法：我想要使用 CocoaPods 中的设置，分别在我的项目中定义 PODS_ROOT 和 Other Linker Flags 的地方（build settings），拷贝输入值 <code>$(inherited)</code> ，进入终端，执行 <code>pod update</code>。警告没了，回到 Xcode，build 通过。</p><p>  网上还流行另外一种简单粗暴的方法：点击项目文件 project.xcodeproj，右键显示包内容，用文本编辑器打开 project.pbxproj，删除 OTHER_LDFLAGS 的地方，保存。（这种我没试过，建议实在搞不定再尝试）</p><ol start="5"><li>错误：</li></ol>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[!] Oh no， an error occurred.</span><br><span class="line"></span><br><span class="line">It appears to have originated from your Podfile at line 2.</span><br><span class="line"></span><br><span class="line">Search for existing GitHub issues similar to yours:</span><br><span class="line">https://github.com/CocoaPods/CocoaPods/search?q=%2FUsers%2Fxiao6%2FMusic%2FGI06%E5%AE%9E%E8%AE%AD%E8%8A%B8%E8%8C%97%E8%8C%B6%E5%8F%B6%2FYMTea%2FPodfile%3A2%3A+syntax+error%2C+unexpected+%27%3A%27%2C+expecting+end-of-input%0Aplatform+%3A+ios%2C+%277.0%27%0A++++++++++%5E&amp;type=Issues</span><br><span class="line"></span><br><span class="line">If none exists， create a ticket， with the template displayed above， on:</span><br><span class="line">https://github.com/CocoaPods/CocoaPods/issues/new</span><br><span class="line"></span><br><span class="line">Be sure to first read the contributing guide for details on how to properly submit a ticket:</span><br><span class="line">https://github.com/CocoaPods/CocoaPods/blob/master/CONTRIBUTING.md</span><br><span class="line"></span><br><span class="line">Don&#x27;t forget to anonymize any private data!</span><br></pre></td></tr></table></figure><p>  原因：这个问题比较蛋疼，弄了好久，仔细看发现就是因为 Podfile 文件里面 <code>platform</code> 那一行，冒号和 <code>ios</code> 之间多了一个空格。。。。</p><p>  解决方法：删掉 Podfile 文件里面 <code>platform</code> 那一行冒号和 <code>ios</code> 之间的空格即可。</p><h2 id="附：如何使用镜像索引"><a href="#附：如何使用镜像索引" class="headerlink" title="附：如何使用镜像索引"></a>附：如何使用镜像索引</h2><p><a href="/2015/12/31/The-installation-and-usage-of-CocoaPods-and-FAQ/#u4E09_u3001_u5B89_u88C5"><strong>⬆️ 返回安装步骤</strong></a></p><p>所有项目的 podspec 文件都托管在 <a href="https://github.com/CocoaPods/Specs">https://github.com/CocoaPods/Specs</a>，第一次执行 <code>pod setup</code> 时，CocoaPods 会将这些 podspec 索引文件更新到本地的 ~&#x2F;.cocoapods 目录下，这个索引文件比较大，所以第一次更新时非常慢。友好人士在国内的服务器建立了 CocoaPods 索引库的镜像，所以执行索引跟新操作时候会快很多。具体操作方法如下:</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod repo remove master</span><br><span class="line">pod repo add master <span class="symbol">https:</span>/<span class="regexp">/gitcafe.com/akuandev</span><span class="regexp">/Specs.git</span></span><br><span class="line"><span class="regexp">pod repo update</span></span><br></pre></td></tr></table></figure><p>这是使用 GitCafe 上的镜像，将以上代码中的 <code>https://gitcafe.com/akuandev/Specs.git</code> 替换成 <code>http://git.oschina.net/akuandev/Specs.git</code> 即可使用 OSChina 上的镜像。</p><blockquote><p>原文来自简书：<a href="http://www.jianshu.com/p/6e5c0f78200a">CocoaPods的安装使用和常见问题</a> ——By <a href="http://www.jianshu.com/users/31b10e251fd8/latest_articles">CoderAO</a>，略有修改。</p></blockquote><h2 id="以上"><a href="#以上" class="headerlink" title="以上"></a>以上</h2><p>你好，二〇一六。</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151231-0%402x.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;二〇一五年的最后一天，我还在这里布道。自己都醉了。&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="CocoaPods" scheme="https://blog.leoxv.com/categories/iOS/CocoaPods/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
    <category term="CocoaPods" scheme="https://blog.leoxv.com/tags/CocoaPods/"/>
    
  </entry>
  
  <entry>
    <title>Mac 上 Hexo 的安装、使用和常见问题</title>
    <link href="https://blog.leoxv.com/2015/12/30/The-Installation-Usage-And-QA-of-Hexo-on-Mac/"/>
    <id>https://blog.leoxv.com/2015/12/30/The-Installation-Usage-And-QA-of-Hexo-on-Mac/</id>
    <published>2015-12-30T04:37:11.000Z</published>
    <updated>2025-08-06T09:15:28.328Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/hexojs/hexo">Hexo</a> 是一款基于 <a href="https://github.com/nodejs/node">node.js</a> 的静态博客框架，也是目前非常流行的个人博客框架。截至本文发布，在 <a href="https://github.com/">GitHub</a> 上已有 7846 个 Star 和 1306 个 Fork。</p><!-- <img src="https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png" class="full-image" /> --><p><img src="https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png" alt="https://leoxv.com"></p><p>我的博客也是基于 Hexo 搭建而成的，在此谨向 Hexo 的作者表示感谢。</p><!--![By Leo](https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png)--><span id="more"></span><hr><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ol><li><p>风一般的速度<br>  Hexo 基于 node.js，支持多进程，几百篇文章也可瞬间生成。</p></li><li><p>流畅的撰写<br>  支持 GitHub Flavored Markdown 和所有 <a href="http://octopress.org/">Octopress</a> 的插件。</p></li><li><p>可扩展性<br>  Hexo 支持 EJS、Swig 和 Stylus。通过插件支持 Haml、Jade 和 Less.</p></li></ol><p>下面将介绍如何在 Mac 上安装和使用 Hexo，也附上一些常见问题。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li>安装 <a href="http://brew.sh/">BrewHome</a></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">&quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>命令如果失效，请前往 BrewHome 官网 <a href="http://brew.sh/">http://brew.sh</a>（中文：<a href="http://brew.sh/index_zh-cn.html">http://brew.sh/index_zh-cn.html</a>）查看最新命令。</p></blockquote><ol start="2"><li>安装 <a href="https://github.com/nodejs/node">node.js</a></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure><ol start="3"><li>安装 <a href="https://github.com/hexojs/hexo">Hexo</a></li></ol><p>  <strong>建议</strong> 不要在主目录下面执行后续操作，先创建一个文件夹再操作，如：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~<span class="regexp">/Documents/hexo</span></span><br><span class="line">cd ~<span class="regexp">/Documents/hexo</span></span><br></pre></td></tr></table></figure><p>  然后执行安装：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo --save</span><br></pre></td></tr></table></figure><p>  至此 <strong>安装完成！</strong></p><ol start="4"><li>升级 Hexo</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update hexo -g</span><br></pre></td></tr></table></figure><ol start="5"><li>卸载 Hexo</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo</span><br></pre></td></tr></table></figure><h2 id="写新博客"><a href="#写新博客" class="headerlink" title="写新博客"></a>写新博客</h2><ol><li>创建 Markdown 文件</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建文章</span></span><br><span class="line">hexo new <span class="string">&quot;Your Note&#x27;s Name&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建页面</span></span><br><span class="line">hexo new page <span class="string">&quot;About&quot;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>根据命令行提示去往当前目录下的 <code>source/_posts/</code> 文件夹下，即可看到新创建的博客。</li></ol><p>  推荐使用 <a href="https://atom.io/">Atom</a> 编辑 Markdown 文件。</p><h2 id="发布到-GitHub"><a href="#发布到-GitHub" class="headerlink" title="发布到 GitHub"></a>发布到 GitHub</h2><ol><li>清除历史文件</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><ol start="2"><li>渲染新文件</li></ol><blockquote><p>建议每次渲染前都执行一次 <code>hexo clean</code></p></blockquote>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>  这一步你可以简单理解为把你的 Markdown 文件生成 HTML 文件。</p><ol start="3"><li>发布到 GitHub</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>  至此 <strong>发布完成！</strong></p><ol start="4"><li>本地预览</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>  打开浏览器，输入网址 <a href="http://localhost:4040/">http://localhost:4040</a>，回车即可看到预览。</p><p>  预览是个不错的功能。建议每次写完新文章，先不要急着发布到 GitHub，先本地预览下效果，适度修改，修改合适了再执行发布。</p><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ol><li>有朋友反应在搭建 Hexo 时，在执行 <code>hexo deploy</code> 后，出现 <code>ERROR: Deployer not found: git</code> 的错误：</li></ol><p>  <img src="http://i4.tietuku.com/de758513cf8314f5.jpg" alt="By 老王"></p><p>  怎么解决呢？很简单，在 vim 输入以下命令，回车即可：</p>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>  耐心等待片刻，然后你应该能看到如下提示：</p><p>  <img src="http://i4.tietuku.com/4e40c4b16bde4ca3.png" alt="By Leo"></p><p>  <strong>搞定！</strong></p><p>  继续尝试 <code>hexo d</code>，这下就能成功了！</p><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><ol><li>生成 sitemap 站点地图</li></ol><p>  百度站长：<a href="http://zhanzhang.baidu.com/">http://zhanzhang.baidu.com</a><br>  谷歌站点地图：<a href="https://www.google.com/webmasters/tools/sitemap-list">https://www.google.com/webmasters/tools/sitemap-list</a></p><ol><li>安装插件</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># google sitemap</span></span><br><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># baidu sitemap</span></span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><ol start="2"><li>在站点目录的 _config.yml 中添加如下代码：</li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line">  <span class="symbol">path:</span> sitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="symbol">baidusitemap:</span></span><br><span class="line">  <span class="symbol">path:</span> baidusitemap.xml</span><br></pre></td></tr></table></figure><ol start="3"><li><p>运行 <code>hexo d</code> 命令，在 public 目录下就能看到生成的 sitemap.xml 和 baidusitemap.xml。</p></li><li><p>RSS</p></li></ol>  <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><h2 id="一些想说的"><a href="#一些想说的" class="headerlink" title="一些想说的"></a>一些想说的</h2><p><a href="https://pages.github.com/">GitHub Pages</a> 作为一个开放的、免费的博客后台，给我们的才华和抱怨一个不错的施展和发泄空间。它和 <a href="https://github.com/">GitHub</a> 一样在天朝还能正常访问，希望各位同仁抱着一份感恩的心，不谈守护，请至少不要影响这篇乐土。</p><p>敬请遵守当地政府的法律法规，和谐发展，谢谢！</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/hexojs/hexo&quot;&gt;Hexo&lt;/a&gt; 是一款基于 &lt;a href=&quot;https://github.com/nodejs/node&quot;&gt;node.js&lt;/a&gt; 的静态博客框架，也是目前非常流行的个人博客框架。截至本文发布，在 &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; 上已有 7846 个 Star 和 1306 个 Fork。&lt;/p&gt;
&lt;!-- &lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png&quot; class=&quot;full-image&quot; /&gt; --&gt;

&lt;p&gt;&lt;img src=&quot;https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png&quot; alt=&quot;https://leoxv.com&quot;&gt;&lt;/p&gt;
&lt;p&gt;我的博客也是基于 Hexo 搭建而成的，在此谨向 Hexo 的作者表示感谢。&lt;/p&gt;
&lt;!--![By Leo](https://cdnqiniu.leoxv.com/common2/QQ20151230-0%402x.png)--&gt;</summary>
    
    
    
    <category term="node.js" scheme="https://blog.leoxv.com/categories/node-js/"/>
    
    <category term="hexo" scheme="https://blog.leoxv.com/categories/node-js/hexo/"/>
    
    <category term="Mac" scheme="https://blog.leoxv.com/categories/node-js/hexo/Mac/"/>
    
    
    <category term="node.js" scheme="https://blog.leoxv.com/tags/node-js/"/>
    
    <category term="Mac" scheme="https://blog.leoxv.com/tags/Mac/"/>
    
    <category term="hexo" scheme="https://blog.leoxv.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】系统是怎么实现 UIAlertView 的？</title>
    <link href="https://blog.leoxv.com/2015/12/29/iOS-How-to-implement-the-UIAlertView-of-the-system/"/>
    <id>https://blog.leoxv.com/2015/12/29/iOS-How-to-implement-the-UIAlertView-of-the-system/</id>
    <published>2015-12-29T08:15:11.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<p>前段时间在写 <a href="https://github.com/iTofu/LCActionSheet">LCActionSheet</a> 这个库的时候，收到一个老兄 <a href="https://github.com/weiwei1035">weiwei1035</a> 提到的一个 UIWindow 相关的 <a href="https://github.com/iTofu/LCActionSheet/issues/1">Issue</a>，说：当 <code>statusBarStyle</code> 为 <code>UIStatusBarStyleLightContent</code> 时，背景不会遮挡 <code>statusBar</code>。这位老兄还很热情地写了解决方案，并 <a href="https://github.com/iTofu/LCActionSheet/pull/2">pr</a> 给了我，我简单验证过就愉快的合并了。</p><p>我就喜欢这种提了问题自己想解决方案最后还能让我少写些代码的人，再次表扬。</p><blockquote class="blockquote-center">但，凡事要知其然，也要知其所以然。</blockquote><p>作为一名具有高度责（hao）任（qi）感（xin）的 Coder，我会把这事就这么简单放过吗？当然不会！后来我仔细想了想这个 Issue，思考了这个 window 的必要性：就为了一个 UI 效果搞这么复杂真的有必要吗？</p><span id="more"></span><p>开始我其实也觉得没必要。但是我觉得吧，我说了不算，系统说了才算。毕竟这些代码都是运行在 iOS 系统上，照系统来肯定不会错。那怎么办呢？那就来研究研究 <code>UIAlertView</code> 的实现好了。</p><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>探索系统 <code>UIAlertView</code> 的实现，重点：</p><ol><li>alloc init 的时候干了些什么？</li><li><code>- (void)show;</code> 的时候干了些什么？</li><li>当 alertView dismiss 的时候又干了些什么？</li></ol><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>做任何事，最好是先想好思路。思路完善了，做起事情来才能游刃有余。</p><p>首先，我觉得系统 <code>UIAlertView</code> 的实现过程是这样的：</p><ol><li>当 <code>UIAlertView</code> alloc init 的时候，只是创建了一个 <code>UIAlertView</code> 实例（如：<code>myAlertView</code>），它并没有被添加到父 view 上。</li><li>当调用 <code>[myAlertView show]</code> 的时候，系统创建一个新的 <code>UIWindow</code> 实例（如：<code>alertWindow</code>），设为当前 application 的 keyWindow（如：<code>originKeyWindow</code>），并保存原有的 keyWindow 指针，然后把 <code>alertView</code> 添加到这个新建的 <code>alertWindow</code> 上，此时 <code>alertView</code> 就显示在设备屏幕上了。（动画过程略）</li><li>当 <code>alertView</code> 需要消失的时候，系统先把 <code>alertView</code> 从 <code>alertWindow</code> 上移除：<code>[alertView removeFromSuperView]</code>，然后再设置 application 的 keyWindow 为之前保存的 <code>originKeyWindow</code>，再设置 <code>alertWindow.hide = YES</code> 来销毁 <code>alertWindow</code>。</li></ol><p>Over！</p><p>那么我猜想的到底对不对呢？让我们用代码检验下就知道了。<br>（其实我当时根本就没检验因为我就是这么自信哈哈哈）</p><h2 id="代码检验"><a href="#代码检验" class="headerlink" title="代码检验"></a>代码检验</h2><p>1、首先新建一个项目，就叫 <code>UIAlertViewDemo</code> 好了。<br>2、打开 <code>ViewController.m</code>，编辑代码如下：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="string">&quot;ViewController.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_WINDOW  [UIApplication sharedApplication].keyWindow</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> () &lt;<span class="title">UIAlertViewDelegate</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="type">void</span>)viewDidLoad &#123;</span><br><span class="line"></span><br><span class="line">    [<span class="variable language_">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.view.backgroundColor = [<span class="built_in">UIColor</span> whiteColor];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIAlertView</span> *alertView = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@&quot;Title&quot;</span></span><br><span class="line">                                                        message:<span class="string">@&quot;message&quot;</span></span><br><span class="line">                                                       delegate:<span class="keyword">self</span></span><br><span class="line">                                              cancelButtonTitle:<span class="string">@&quot;ok&quot;</span></span><br><span class="line">                                              otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;origin key window: %p&quot;</span>, KEY_WINDOW);</span><br><span class="line"></span><br><span class="line">    [alertView show];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> mark - UIAlertView Delegate</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  点 alertView 上面的 btn 时调用，alertView 还在</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="type">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView clickedButtonAtIndex:(<span class="built_in">NSInteger</span>)buttonIndex &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;when clicked key window: %p&quot;</span>, KEY_WINDOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  alertView 将要消失时调用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="type">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView willDismissWithButtonIndex:(<span class="built_in">NSInteger</span>)buttonIndex &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;alert view will dismiss key window: %p&quot;</span>, KEY_WINDOW);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  alertView 已经消失时调用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="type">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView didDismissWithButtonIndex:(<span class="built_in">NSInteger</span>)buttonIndex &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;alert view did dismiss key window: %p&quot;</span>, KEY_WINDOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>**<br>3、Run，点击 alertView 的 ok 按钮，看看输出结果：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">23</span>:<span class="number">02.397</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4057</span>:<span class="number">484684</span>] origin key window: <span class="number">0x0</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">23</span>:<span class="number">04.564</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4057</span>:<span class="number">484684</span>] when clicked key window: <span class="number">0x7faa12840080</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">23</span>:<span class="number">04.564</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4057</span>:<span class="number">484684</span>] alert view will dismiss key window: <span class="number">0x7faa12840080</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">23</span>:<span class="number">04.978</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4057</span>:<span class="number">484684</span>] alert view did dismiss key window: <span class="number">0x7faa1151a720</span></span><br></pre></td></tr></table></figure><p>咦，后面的打印确实比较符合猜想，但是这个开始的 <code>origin key window: 0x0</code> 是什么鬼？！噢，差点忘了，当代码走到这里的时候，还没有 keyWindow。</p><p>4、那么我们这么改一下：</p><ol><li>去项目的 General 中，删除 Main Interface 的值（之前值为 Main）</li><li>去 <code>AppDelegate.m</code> 中，修改如下代码：</li></ol><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="type">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[<span class="built_in">UIScreen</span> mainScreen].bounds];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.window.rootViewController = [[ViewController alloc] init];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样，当我们创建这个 <code>ViewController</code> 的实例的时候，application 的 keyWindow 就是存在的了。</p><p>5、然后我们再重复第 3 步：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">38</span>:<span class="number">08.024</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4227</span>:<span class="number">502055</span>] origin key window: <span class="number">0x7ff742c2b910</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">38</span>:<span class="number">09.543</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4227</span>:<span class="number">502055</span>] when clicked key window: <span class="number">0x7ff74540a6f0</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">38</span>:<span class="number">09.543</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4227</span>:<span class="number">502055</span>] alert view will dismiss key window: <span class="number">0x7ff74540a6f0</span></span><br><span class="line"><span class="number">2015</span><span class="number">-12</span><span class="number">-29</span> <span class="number">17</span>:<span class="number">38</span>:<span class="number">09.956</span> <span class="built_in">UIAlertViewDemo</span>[<span class="number">4227</span>:<span class="number">502055</span>] alert view did dismiss key window: <span class="number">0x7ff742c2b910</span></span><br></pre></td></tr></table></figure><p>通过对比内存地址，我们可以得出：</p><ol><li>UIAlertView 实例在 show 之前，并没有添加到父 view 上。</li><li>只有当调用 <code>- (void)show;</code> 方法的时候，系统才会新建一个 UIWindow 实例并把 alertView 实例添加上去，并把这个新建的 window 设为 application 的 keyWindow，并保存 originKeyWindow。</li><li>当 alertView 实例从屏幕上消失时，系统会依次销毁 alertView 和新建的 window，然后把之前保存的 originKeyWindow 重新设为 application 的 keyWindow。</li></ol><p>嗯，验证通过。我真是个天才哈哈哈。</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>我们平时做开发呢，要多思考，多总结，不要一味地埋头苦敲。</p><p>iOS SDK 为我们封装了很多属性和方法，我们在调用这些属性和方法的时候，不要只图方便，也要多思考系统方法的实现。</p><p>死记知识点这种做法太傻，你也记不住，<strong>在理解中学习才是最好的成长方式。</strong></p><h2 id="勘误"><a href="#勘误" class="headerlink" title="勘误"></a>勘误</h2><p>之前对该问题探讨的结论如上，偶然一回首，发现了当时的一些不正确的认识，现勘误如下（主要是从生命周期的角度来重新认识和学习）：</p><p>首先，UIWindow 实例如果不被持有，就会被释放。当然任何实例都应该是这样。<br>当 alertView show 的时候，新的 window 被初始化并被设为 UIApplication 单例的 keyWindow，原有的开发者在 AppDelegate 单例中设置的 window 并没有被释放并不是因为上文所认为的 <code>并保存 originKeyWindow</code>，而是因为该 window 是 AppDelegate 单例的全局变量，被它持有，所有必然不会被释放掉。<br>当 alertView hide 完成，原有的开发者在 AppDelegate 单例中设置的 window 会被重新设置为 UIApplication 单例的 keyWindow，我们可以知道此时该 window 被 AppDelegate 单例和 UIApplication 单例所共同持有，这是没问题的。而 alertView 所在的 window 因为不被 UIApplication 单例所持有，失去了 keyWindow 的地位，同时它也不再被任何对象所持有，所以会被直接释放。</p><blockquote><p>子曰：“温故而知新，可以为师矣。”</p></blockquote><h2 id="附：Demo-参考"><a href="#附：Demo-参考" class="headerlink" title="附：Demo 参考"></a>附：Demo 参考</h2><p><a href="https://github.com/iTofu/UIAlertViewDemo">https://github.com/iTofu/UIAlertViewDemo</a></p><p>另附上完整的开源框架：<a href="https://github.com/iTofu/LCActionSheet">LCActionSheet</a></p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;前段时间在写 &lt;a href=&quot;https://github.com/iTofu/LCActionSheet&quot;&gt;LCActionSheet&lt;/a&gt; 这个库的时候，收到一个老兄 &lt;a href=&quot;https://github.com/weiwei1035&quot;&gt;weiwei1035&lt;/a&gt; 提到的一个 UIWindow 相关的 &lt;a href=&quot;https://github.com/iTofu/LCActionSheet/issues/1&quot;&gt;Issue&lt;/a&gt;，说：当 &lt;code&gt;statusBarStyle&lt;/code&gt; 为 &lt;code&gt;UIStatusBarStyleLightContent&lt;/code&gt; 时，背景不会遮挡 &lt;code&gt;statusBar&lt;/code&gt;。这位老兄还很热情地写了解决方案，并 &lt;a href=&quot;https://github.com/iTofu/LCActionSheet/pull/2&quot;&gt;pr&lt;/a&gt; 给了我，我简单验证过就愉快的合并了。&lt;/p&gt;
&lt;p&gt;我就喜欢这种提了问题自己想解决方案最后还能让我少写些代码的人，再次表扬。&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;但，凡事要知其然，也要知其所以然。&lt;/blockquote&gt;

&lt;p&gt;作为一名具有高度责（hao）任（qi）感（xin）的 Coder，我会把这事就这么简单放过吗？当然不会！后来我仔细想了想这个 Issue，思考了这个 window 的必要性：就为了一个 UI 效果搞这么复杂真的有必要吗？&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>【Mac 技巧】怎么样把 &quot;Downloads&quot; 文件夹命名为 &quot;下载&quot;？</title>
    <link href="https://blog.leoxv.com/2015/12/21/[Mac-Tip]-How-To-Name-The-Local-Downloads-Folder/"/>
    <id>https://blog.leoxv.com/2015/12/21/[Mac-Tip]-How-To-Name-The-Local-Downloads-Folder/</id>
    <published>2015-12-21T13:19:23.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<p>Mac 用着用着可能会出一些奇奇怪怪的 Bug，就比如下载文件夹突然就命名为 “Downloads”，怎么搞呢？</p><span id="more"></span><p>简单！打开 Vim，输入以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch ~/Downloads/.localized</span><br></pre></td></tr></table></figure><p><strong>Done!</strong></p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;Mac 用着用着可能会出一些奇奇怪怪的 Bug，就比如下载文件夹突然就命名为 “Downloads”，怎么搞呢？&lt;/p&gt;</summary>
    
    
    
    <category term="Mac" scheme="https://blog.leoxv.com/categories/Mac/"/>
    
    <category term="技巧" scheme="https://blog.leoxv.com/categories/Mac/%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="Mac" scheme="https://blog.leoxv.com/tags/Mac/"/>
    
    <category term="技巧" scheme="https://blog.leoxv.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>【iOS】使用 AFNetworking 如何设置 HTTP Header</title>
    <link href="https://blog.leoxv.com/2015/12/15/[iOS]-How-To-Setting-HTTP-Header-With-AFNetworking/"/>
    <id>https://blog.leoxv.com/2015/12/15/[iOS]-How-To-Setting-HTTP-Header-With-AFNetworking/</id>
    <published>2015-12-15T09:34:53.000Z</published>
    <updated>2025-08-06T08:18:51.026Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/AFNetworking/AFNetworking">AFNetworking</a> 是 <a href="https://github.com/">GitHub</a> 上一个非常著名的开源项目，也是 iOS 开发最常用的网络库之一，因其强大的性能和友好的 API 而深受广大开发者们的喜爱和支持。</p><span id="more"></span><p>在 iOS 开发中，有时我们发起一个请求，需要设置 HTTP Header。那么在使用 AFNetworking 的情况下，该如何设置呢？</p><p>简单，下面直接上代码。</p><ul><li><p>AFNetworking 3.0</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line">[manager.requestSerializer setValue:<span class="string">@&quot;iOS&quot;</span> forHTTPHeaderField:<span class="string">@&quot;appType&quot;</span>];</span><br></pre></td></tr></table></figure></li><li><p>AFNetworking 2.0</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];</span><br><span class="line"></span><br><span class="line">[manager.requestSerializer setValue:<span class="string">@&quot;iOS&quot;</span> forHTTPHeaderField:<span class="string">@&quot;appType&quot;</span>];</span><br></pre></td></tr></table></figure></li></ul><p><strong>Done！</strong></p><p>就这么几行代码，简单吧！~</p><h2 id="联系与捐赠"><a href="#联系与捐赠" class="headerlink" title="联系与捐赠"></a>联系与捐赠</h2><ul><li>Mail: <code>echo bGVvZGF4aWFAZ21haWwuY29tCg== | base64 -D</code></li><li>GitHub:<a href="https://github.com/iTofu">iTofu</a><!-- * 如果你想对我的开发或是开源项目进行支持捐助，请扫描下方二维码，谢谢！👇![LEO](https://cdnqiniu.leoxv.com/common/donate.png) --></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/AFNetworking/AFNetworking&quot;&gt;AFNetworking&lt;/a&gt; 是 &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; 上一个非常著名的开源项目，也是 iOS 开发最常用的网络库之一，因其强大的性能和友好的 API 而深受广大开发者们的喜爱和支持。&lt;/p&gt;</summary>
    
    
    
    <category term="iOS" scheme="https://blog.leoxv.com/categories/iOS/"/>
    
    <category term="技巧" scheme="https://blog.leoxv.com/categories/iOS/%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="技巧" scheme="https://blog.leoxv.com/tags/%E6%8A%80%E5%B7%A7/"/>
    
    <category term="iOS" scheme="https://blog.leoxv.com/tags/iOS/"/>
    
  </entry>
  
</feed>
